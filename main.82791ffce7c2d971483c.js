(self.webpackChunklogin_firebase=self.webpackChunklogin_firebase||[]).push([[179],{8255:Tt=>{function He(W){return Promise.resolve().then(()=>{var I=new Error("Cannot find module '"+W+"'");throw I.code="MODULE_NOT_FOUND",I})}He.keys=()=>[],He.resolve=He,He.id=8255,Tt.exports=He},7238:(Tt,He,W)=>{"use strict";W.d(He,{l3:()=>le,_j:()=>I,LC:()=>c,ZN:()=>$e,jt:()=>Te,vP:()=>ge,SB:()=>se,oB:()=>he,eR:()=>X,X$:()=>Ce,ZE:()=>ht,k1:()=>kt});class I{}class c{}const le="*";function Ce(tt,it){return{type:7,name:tt,definitions:it,options:{}}}function Te(tt,it=null){return{type:4,styles:it,timings:tt}}function ge(tt,it=null){return{type:2,steps:tt,options:it}}function he(tt){return{type:6,styles:tt,offset:null}}function se(tt,it,Pt){return{type:0,name:tt,styles:it,options:Pt}}function X(tt,it,Pt=null){return{type:1,expr:tt,animation:it,options:Pt}}function be(tt){Promise.resolve(null).then(tt)}class $e{constructor(it=0,Pt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=it+Pt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(it=>it()),this._onDoneFns=[])}onStart(it){this._onStartFns.push(it)}onDone(it){this._onDoneFns.push(it)}onDestroy(it){this._onDestroyFns.push(it)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){be(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(it=>it()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(it=>it()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(it){this._position=this.totalTime?it*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(it){const Pt="start"==it?this._onStartFns:this._onDoneFns;Pt.forEach(qt=>qt()),Pt.length=0}}class ht{constructor(it){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=it;let Pt=0,qt=0,mn=0;const xe=this.players.length;0==xe?be(()=>this._onFinish()):this.players.forEach(Ze=>{Ze.onDone(()=>{++Pt==xe&&this._onFinish()}),Ze.onDestroy(()=>{++qt==xe&&this._onDestroy()}),Ze.onStart(()=>{++mn==xe&&this._onStart()})}),this.totalTime=this.players.reduce((Ze,Oe)=>Math.max(Ze,Oe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(it=>it()),this._onDoneFns=[])}init(){this.players.forEach(it=>it.init())}onStart(it){this._onStartFns.push(it)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(it=>it()),this._onStartFns=[])}onDone(it){this._onDoneFns.push(it)}onDestroy(it){this._onDestroyFns.push(it)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(it=>it.play())}pause(){this.players.forEach(it=>it.pause())}restart(){this.players.forEach(it=>it.restart())}finish(){this._onFinish(),this.players.forEach(it=>it.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(it=>it.destroy()),this._onDestroyFns.forEach(it=>it()),this._onDestroyFns=[])}reset(){this.players.forEach(it=>it.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(it){const Pt=it*this.totalTime;this.players.forEach(qt=>{const mn=qt.totalTime?Math.min(1,Pt/qt.totalTime):1;qt.setPosition(mn)})}getPosition(){const it=this.players.reduce((Pt,qt)=>null===Pt||qt.totalTime>Pt.totalTime?qt:Pt,null);return null!=it?it.getPosition():0}beforeDestroy(){this.players.forEach(it=>{it.beforeDestroy&&it.beforeDestroy()})}triggerCallback(it){const Pt="start"==it?this._onStartFns:this._onDoneFns;Pt.forEach(qt=>qt()),Pt.length=0}}const kt="!"},8583:(Tt,He,W)=>{"use strict";W.d(He,{mr:()=>ht,Ov:()=>ho,ez:()=>po,K0:()=>ge,x:()=>Je,Do:()=>tt,V_:()=>re,Ye:()=>it,S$:()=>be,sg:()=>_n,O5:()=>Gi,PC:()=>Vi,tP:()=>ii,b0:()=>kt,Zx:()=>Ri,lw:()=>he,Tn:()=>Ke,EM:()=>Ci,JF:()=>Ti,p6:()=>ai,Mn:()=>Vt,ol:()=>Ft,UT:()=>Nt,NF:()=>Ls,PM:()=>Oi,w_:()=>ue,bD:()=>Di,q:()=>le,Mx:()=>dt,HT:()=>Te});var I=W(7716);let c=null;function le(){return c}function Te(U){c||(c=U)}class ue{}const ge=new I.OlP("DocumentToken");let he=(()=>{class U{historyGo(G){throw new Error("Not implemented")}}return U.\u0275fac=function(G){return new(G||U)},U.\u0275prov=(0,I.Yz7)({factory:se,token:U,providedIn:"platform"}),U})();function se(){return(0,I.LFG)(X)}const re=new I.OlP("Location Initialized");let X=(()=>{class U extends he{constructor(G){super(),this._doc=G,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return le().getBaseHref(this._doc)}onPopState(G){const oe=le().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("popstate",G,!1),()=>oe.removeEventListener("popstate",G)}onHashChange(G){const oe=le().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("hashchange",G,!1),()=>oe.removeEventListener("hashchange",G)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(G){this.location.pathname=G}pushState(G,oe,Ie){ie()?this._history.pushState(G,oe,Ie):this.location.hash=Ie}replaceState(G,oe,Ie){ie()?this._history.replaceState(G,oe,Ie):this.location.hash=Ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(G=0){this._history.go(G)}getState(){return this._history.state}}return U.\u0275fac=function(G){return new(G||U)(I.LFG(ge))},U.\u0275prov=(0,I.Yz7)({factory:ye,token:U,providedIn:"platform"}),U})();function ie(){return!!window.history.pushState}function ye(){return new X((0,I.LFG)(ge))}function Me(U,te){if(0==U.length)return te;if(0==te.length)return U;let G=0;return U.endsWith("/")&&G++,te.startsWith("/")&&G++,2==G?U+te.substring(1):1==G?U+te:U+"/"+te}function ke(U){const te=U.match(/#|\?|$/),G=te&&te.index||U.length;return U.slice(0,G-("/"===U[G-1]?1:0))+U.slice(G)}function Be(U){return U&&"?"!==U[0]?"?"+U:U}let be=(()=>{class U{historyGo(G){throw new Error("Not implemented")}}return U.\u0275fac=function(G){return new(G||U)},U.\u0275prov=(0,I.Yz7)({factory:$e,token:U,providedIn:"root"}),U})();function $e(U){const te=(0,I.LFG)(ge).location;return new kt((0,I.LFG)(he),te&&te.origin||"")}const ht=new I.OlP("appBaseHref");let kt=(()=>{class U extends be{constructor(G,oe){if(super(),this._platformLocation=G,this._removeListenerFns=[],null==oe&&(oe=this._platformLocation.getBaseHrefFromDOM()),null==oe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=oe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}prepareExternalUrl(G){return Me(this._baseHref,G)}path(G=!1){const oe=this._platformLocation.pathname+Be(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&G?`${oe}${Ie}`:oe}pushState(G,oe,Ie,et){const gt=this.prepareExternalUrl(Ie+Be(et));this._platformLocation.pushState(G,oe,gt)}replaceState(G,oe,Ie,et){const gt=this.prepareExternalUrl(Ie+Be(et));this._platformLocation.replaceState(G,oe,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(G=0){var oe,Ie;null===(Ie=(oe=this._platformLocation).historyGo)||void 0===Ie||Ie.call(oe,G)}}return U.\u0275fac=function(G){return new(G||U)(I.LFG(he),I.LFG(ht,8))},U.\u0275prov=I.Yz7({token:U,factory:U.\u0275fac}),U})(),tt=(()=>{class U extends be{constructor(G,oe){super(),this._platformLocation=G,this._baseHref="",this._removeListenerFns=[],null!=oe&&(this._baseHref=oe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}path(G=!1){let oe=this._platformLocation.hash;return null==oe&&(oe="#"),oe.length>0?oe.substring(1):oe}prepareExternalUrl(G){const oe=Me(this._baseHref,G);return oe.length>0?"#"+oe:oe}pushState(G,oe,Ie,et){let gt=this.prepareExternalUrl(Ie+Be(et));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.pushState(G,oe,gt)}replaceState(G,oe,Ie,et){let gt=this.prepareExternalUrl(Ie+Be(et));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.replaceState(G,oe,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(G=0){var oe,Ie;null===(Ie=(oe=this._platformLocation).historyGo)||void 0===Ie||Ie.call(oe,G)}}return U.\u0275fac=function(G){return new(G||U)(I.LFG(he),I.LFG(ht,8))},U.\u0275prov=I.Yz7({token:U,factory:U.\u0275fac}),U})(),it=(()=>{class U{constructor(G,oe){this._subject=new I.vpe,this._urlChangeListeners=[],this._platformStrategy=G;const Ie=this._platformStrategy.getBaseHref();this._platformLocation=oe,this._baseHref=ke(mn(Ie)),this._platformStrategy.onPopState(et=>{this._subject.emit({url:this.path(!0),pop:!0,state:et.state,type:et.type})})}path(G=!1){return this.normalize(this._platformStrategy.path(G))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(G,oe=""){return this.path()==this.normalize(G+Be(oe))}normalize(G){return U.stripTrailingSlash(function(U,te){return U&&te.startsWith(U)?te.substring(U.length):te}(this._baseHref,mn(G)))}prepareExternalUrl(G){return G&&"/"!==G[0]&&(G="/"+G),this._platformStrategy.prepareExternalUrl(G)}go(G,oe="",Ie=null){this._platformStrategy.pushState(Ie,"",G,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+Be(oe)),Ie)}replaceState(G,oe="",Ie=null){this._platformStrategy.replaceState(Ie,"",G,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+Be(oe)),Ie)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(G=0){var oe,Ie;null===(Ie=(oe=this._platformStrategy).historyGo)||void 0===Ie||Ie.call(oe,G)}onUrlChange(G){this._urlChangeListeners.push(G),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(oe=>{this._notifyUrlChangeListeners(oe.url,oe.state)}))}_notifyUrlChangeListeners(G="",oe){this._urlChangeListeners.forEach(Ie=>Ie(G,oe))}subscribe(G,oe,Ie){return this._subject.subscribe({next:G,error:oe,complete:Ie})}}return U.\u0275fac=function(G){return new(G||U)(I.LFG(be),I.LFG(he))},U.normalizeQueryParams=Be,U.joinWithSlash=Me,U.stripTrailingSlash=ke,U.\u0275prov=(0,I.Yz7)({factory:Pt,token:U,providedIn:"root"}),U})();function Pt(){return new it((0,I.LFG)(be),(0,I.LFG)(he))}function mn(U){return U.replace(/\/index.html$/,"")}var Ze=(()=>((Ze=Ze||{})[Ze.Decimal=0]="Decimal",Ze[Ze.Percent=1]="Percent",Ze[Ze.Currency=2]="Currency",Ze[Ze.Scientific=3]="Scientific",Ze))(),Oe=(()=>((Oe=Oe||{})[Oe.Zero=0]="Zero",Oe[Oe.One=1]="One",Oe[Oe.Two=2]="Two",Oe[Oe.Few=3]="Few",Oe[Oe.Many=4]="Many",Oe[Oe.Other=5]="Other",Oe))(),Je=(()=>((Je=Je||{})[Je.Format=0]="Format",Je[Je.Standalone=1]="Standalone",Je))(),Ke=(()=>((Ke=Ke||{})[Ke.Narrow=0]="Narrow",Ke[Ke.Abbreviated=1]="Abbreviated",Ke[Ke.Wide=2]="Wide",Ke[Ke.Short=3]="Short",Ke))(),Xe=(()=>((Xe=Xe||{})[Xe.Short=0]="Short",Xe[Xe.Medium=1]="Medium",Xe[Xe.Long=2]="Long",Xe[Xe.Full=3]="Full",Xe))(),je=(()=>((je=je||{})[je.Decimal=0]="Decimal",je[je.Group=1]="Group",je[je.List=2]="List",je[je.PercentSign=3]="PercentSign",je[je.PlusSign=4]="PlusSign",je[je.MinusSign=5]="MinusSign",je[je.Exponential=6]="Exponential",je[je.SuperscriptingExponent=7]="SuperscriptingExponent",je[je.PerMille=8]="PerMille",je[je.Infinity=9]="Infinity",je[je.NaN=10]="NaN",je[je.TimeSeparator=11]="TimeSeparator",je[je.CurrencyDecimal=12]="CurrencyDecimal",je[je.CurrencyGroup=13]="CurrencyGroup",je))();function Ft(U,te,G){const oe=(0,I.cg1)(U),et=br([oe[I.wAp.DayPeriodsFormat],oe[I.wAp.DayPeriodsStandalone]],te);return br(et,G)}function Vt(U,te,G){const oe=(0,I.cg1)(U),et=br([oe[I.wAp.DaysFormat],oe[I.wAp.DaysStandalone]],te);return br(et,G)}function Nt(U,te,G){const oe=(0,I.cg1)(U),et=br([oe[I.wAp.MonthsFormat],oe[I.wAp.MonthsStandalone]],te);return br(et,G)}function zr(U,te){return br((0,I.cg1)(U)[I.wAp.DateFormat],te)}function Ht(U,te){return br((0,I.cg1)(U)[I.wAp.TimeFormat],te)}function Zt(U,te){return br((0,I.cg1)(U)[I.wAp.DateTimeFormat],te)}function Ut(U,te){const G=(0,I.cg1)(U),oe=G[I.wAp.NumberSymbols][te];if(void 0===oe){if(te===je.CurrencyDecimal)return G[I.wAp.NumberSymbols][je.Decimal];if(te===je.CurrencyGroup)return G[I.wAp.NumberSymbols][je.Group]}return oe}const Mn=I.kL8;function Or(U){if(!U[I.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[I.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function br(U,te){for(let G=te;G>-1;G--)if(void 0!==U[G])return U[G];throw new Error("Locale data API: locale data undefined")}function Ai(U){const[te,G]=U.split(":");return{hours:+te,minutes:+G}}const xt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ln={},or=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $n=(()=>(($n=$n||{})[$n.Short=0]="Short",$n[$n.ShortGMT=1]="ShortGMT",$n[$n.Long=2]="Long",$n[$n.Extended=3]="Extended",$n))(),wt=(()=>((wt=wt||{})[wt.FullYear=0]="FullYear",wt[wt.Month=1]="Month",wt[wt.Date=2]="Date",wt[wt.Hours=3]="Hours",wt[wt.Minutes=4]="Minutes",wt[wt.Seconds=5]="Seconds",wt[wt.FractionalSeconds=6]="FractionalSeconds",wt[wt.Day=7]="Day",wt))(),Qt=(()=>((Qt=Qt||{})[Qt.DayPeriods=0]="DayPeriods",Qt[Qt.Days=1]="Days",Qt[Qt.Months=2]="Months",Qt[Qt.Eras=3]="Eras",Qt))();function ai(U,te,G,oe){let Ie=function(U){if(bs(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[Ie,et=1,gt=1]=U.split("-").map($=>+$);return vs(Ie,et-1,gt)}const G=parseFloat(U);if(!isNaN(U-G))return new Date(G);let oe;if(oe=U.match(xt))return function(U){const te=new Date(0);let G=0,oe=0;const Ie=U[8]?te.setUTCFullYear:te.setFullYear,et=U[8]?te.setUTCHours:te.setHours;U[9]&&(G=Number(U[9]+U[10]),oe=Number(U[9]+U[11])),Ie.call(te,Number(U[1]),Number(U[2])-1,Number(U[3]));const gt=Number(U[4]||0)-G,$=Number(U[5]||0)-oe,L=Number(U[6]||0),k=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return et.call(te,gt,$,L,k),te}(oe)}const te=new Date(U);if(!bs(te))throw new Error(`Unable to convert "${U}" into a date`);return te}(U);te=Sr(G,te)||te;let $,gt=[];for(;te;){if($=or.exec(te),!$){gt.push(te);break}{gt=gt.concat($.slice(1));const ne=gt.pop();if(!ne)break;te=ne}}let L=Ie.getTimezoneOffset();oe&&(L=Xn(oe,L),Ie=function(U,te,G){const Ie=U.getTimezoneOffset();return function(U,te){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+te),U}(U,-1*(Xn(te,Ie)-Ie))}(Ie,oe));let k="";return gt.forEach(ne=>{const ze=function(U){if(Fr[U])return Fr[U];let te;switch(U){case"G":case"GG":case"GGG":te=we(Qt.Eras,Ke.Abbreviated);break;case"GGGG":te=we(Qt.Eras,Ke.Wide);break;case"GGGGG":te=we(Qt.Eras,Ke.Narrow);break;case"y":te=Bn(wt.FullYear,1,0,!1,!0);break;case"yy":te=Bn(wt.FullYear,2,0,!0,!0);break;case"yyy":te=Bn(wt.FullYear,3,0,!1,!0);break;case"yyyy":te=Bn(wt.FullYear,4,0,!1,!0);break;case"Y":te=Rn(1);break;case"YY":te=Rn(2,!0);break;case"YYY":te=Rn(3);break;case"YYYY":te=Rn(4);break;case"M":case"L":te=Bn(wt.Month,1,1);break;case"MM":case"LL":te=Bn(wt.Month,2,1);break;case"MMM":te=we(Qt.Months,Ke.Abbreviated);break;case"MMMM":te=we(Qt.Months,Ke.Wide);break;case"MMMMM":te=we(Qt.Months,Ke.Narrow);break;case"LLL":te=we(Qt.Months,Ke.Abbreviated,Je.Standalone);break;case"LLLL":te=we(Qt.Months,Ke.Wide,Je.Standalone);break;case"LLLLL":te=we(Qt.Months,Ke.Narrow,Je.Standalone);break;case"w":te=In(1);break;case"ww":te=In(2);break;case"W":te=In(1,!0);break;case"d":te=Bn(wt.Date,1);break;case"dd":te=Bn(wt.Date,2);break;case"c":case"cc":te=Bn(wt.Day,1);break;case"ccc":te=we(Qt.Days,Ke.Abbreviated,Je.Standalone);break;case"cccc":te=we(Qt.Days,Ke.Wide,Je.Standalone);break;case"ccccc":te=we(Qt.Days,Ke.Narrow,Je.Standalone);break;case"cccccc":te=we(Qt.Days,Ke.Short,Je.Standalone);break;case"E":case"EE":case"EEE":te=we(Qt.Days,Ke.Abbreviated);break;case"EEEE":te=we(Qt.Days,Ke.Wide);break;case"EEEEE":te=we(Qt.Days,Ke.Narrow);break;case"EEEEEE":te=we(Qt.Days,Ke.Short);break;case"a":case"aa":case"aaa":te=we(Qt.DayPeriods,Ke.Abbreviated);break;case"aaaa":te=we(Qt.DayPeriods,Ke.Wide);break;case"aaaaa":te=we(Qt.DayPeriods,Ke.Narrow);break;case"b":case"bb":case"bbb":te=we(Qt.DayPeriods,Ke.Abbreviated,Je.Standalone,!0);break;case"bbbb":te=we(Qt.DayPeriods,Ke.Wide,Je.Standalone,!0);break;case"bbbbb":te=we(Qt.DayPeriods,Ke.Narrow,Je.Standalone,!0);break;case"B":case"BB":case"BBB":te=we(Qt.DayPeriods,Ke.Abbreviated,Je.Format,!0);break;case"BBBB":te=we(Qt.DayPeriods,Ke.Wide,Je.Format,!0);break;case"BBBBB":te=we(Qt.DayPeriods,Ke.Narrow,Je.Format,!0);break;case"h":te=Bn(wt.Hours,1,-12);break;case"hh":te=Bn(wt.Hours,2,-12);break;case"H":te=Bn(wt.Hours,1);break;case"HH":te=Bn(wt.Hours,2);break;case"m":te=Bn(wt.Minutes,1);break;case"mm":te=Bn(wt.Minutes,2);break;case"s":te=Bn(wt.Seconds,1);break;case"ss":te=Bn(wt.Seconds,2);break;case"S":te=Bn(wt.FractionalSeconds,1);break;case"SS":te=Bn(wt.FractionalSeconds,2);break;case"SSS":te=Bn(wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":te=nt($n.Short);break;case"ZZZZZ":te=nt($n.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":te=nt($n.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":te=nt($n.Long);break;default:return null}return Fr[U]=te,te}(ne);k+=ze?ze(Ie,G,L):"''"===ne?"'":ne.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),k}function vs(U,te,G){const oe=new Date(0);return oe.setFullYear(U,te,G),oe.setHours(0,0,0),oe}function Sr(U,te){const G=function(U){return(0,I.cg1)(U)[I.wAp.LocaleId]}(U);if(Ln[G]=Ln[G]||{},Ln[G][te])return Ln[G][te];let oe="";switch(te){case"shortDate":oe=zr(U,Xe.Short);break;case"mediumDate":oe=zr(U,Xe.Medium);break;case"longDate":oe=zr(U,Xe.Long);break;case"fullDate":oe=zr(U,Xe.Full);break;case"shortTime":oe=Ht(U,Xe.Short);break;case"mediumTime":oe=Ht(U,Xe.Medium);break;case"longTime":oe=Ht(U,Xe.Long);break;case"fullTime":oe=Ht(U,Xe.Full);break;case"short":const Ie=Sr(U,"shortTime"),et=Sr(U,"shortDate");oe=ar(Zt(U,Xe.Short),[Ie,et]);break;case"medium":const gt=Sr(U,"mediumTime"),$=Sr(U,"mediumDate");oe=ar(Zt(U,Xe.Medium),[gt,$]);break;case"long":const L=Sr(U,"longTime"),k=Sr(U,"longDate");oe=ar(Zt(U,Xe.Long),[L,k]);break;case"full":const ne=Sr(U,"fullTime"),ze=Sr(U,"fullDate");oe=ar(Zt(U,Xe.Full),[ne,ze])}return oe&&(Ln[G][te]=oe),oe}function ar(U,te){return te&&(U=U.replace(/\{([^}]+)}/g,function(G,oe){return null!=te&&oe in te?te[oe]:G})),U}function Qr(U,te,G="-",oe,Ie){let et="";(U<0||Ie&&U<=0)&&(Ie?U=1-U:(U=-U,et=G));let gt=String(U);for(;gt.length<te;)gt="0"+gt;return oe&&(gt=gt.substr(gt.length-te)),et+gt}function Bn(U,te,G=0,oe=!1,Ie=!1){return function(et,gt){let $=function(U,te){switch(U){case wt.FullYear:return te.getFullYear();case wt.Month:return te.getMonth();case wt.Date:return te.getDate();case wt.Hours:return te.getHours();case wt.Minutes:return te.getMinutes();case wt.Seconds:return te.getSeconds();case wt.FractionalSeconds:return te.getMilliseconds();case wt.Day:return te.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,et);if((G>0||$>-G)&&($+=G),U===wt.Hours)0===$&&-12===G&&($=12);else if(U===wt.FractionalSeconds)return function(U,te){return Qr(U,3).substr(0,te)}($,te);const L=Ut(gt,je.MinusSign);return Qr($,te,L,oe,Ie)}}function we(U,te,G=Je.Format,oe=!1){return function(Ie,et){return function(U,te,G,oe,Ie,et){switch(G){case Qt.Months:return Nt(te,Ie,oe)[U.getMonth()];case Qt.Days:return Vt(te,Ie,oe)[U.getDay()];case Qt.DayPeriods:const gt=U.getHours(),$=U.getMinutes();if(et){const k=function(U){const te=(0,I.cg1)(U);return Or(te),(te[I.wAp.ExtraData][2]||[]).map(oe=>"string"==typeof oe?Ai(oe):[Ai(oe[0]),Ai(oe[1])])}(te),ne=function(U,te,G){const oe=(0,I.cg1)(U);Or(oe);const et=br([oe[I.wAp.ExtraData][0],oe[I.wAp.ExtraData][1]],te)||[];return br(et,G)||[]}(te,Ie,oe),ze=k.findIndex(Et=>{if(Array.isArray(Et)){const[yn,ir]=Et,lr=gt>=yn.hours&&$>=yn.minutes,ui=gt<ir.hours||gt===ir.hours&&$<ir.minutes;if(yn.hours<ir.hours){if(lr&&ui)return!0}else if(lr||ui)return!0}else if(Et.hours===gt&&Et.minutes===$)return!0;return!1});if(-1!==ze)return ne[ze]}return Ft(te,Ie,oe)[gt<12?0:1];case Qt.Eras:return function(U,te){return br((0,I.cg1)(U)[I.wAp.Eras],te)}(te,oe)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${G}`)}}(Ie,et,U,te,G,oe)}}function nt(U){return function(te,G,oe){const Ie=-1*oe,et=Ut(G,je.MinusSign),gt=Ie>0?Math.floor(Ie/60):Math.ceil(Ie/60);switch(U){case $n.Short:return(Ie>=0?"+":"")+Qr(gt,2,et)+Qr(Math.abs(Ie%60),2,et);case $n.ShortGMT:return"GMT"+(Ie>=0?"+":"")+Qr(gt,1,et);case $n.Long:return"GMT"+(Ie>=0?"+":"")+Qr(gt,2,et)+":"+Qr(Math.abs(Ie%60),2,et);case $n.Extended:return 0===oe?"Z":(Ie>=0?"+":"")+Qr(gt,2,et)+":"+Qr(Math.abs(Ie%60),2,et);default:throw new Error(`Unknown zone width "${U}"`)}}}function dn(U){return vs(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function In(U,te=!1){return function(G,oe){let Ie;if(te){const et=new Date(G.getFullYear(),G.getMonth(),1).getDay()-1,gt=G.getDate();Ie=1+Math.floor((gt+et)/7)}else{const et=dn(G),gt=function(U){const te=vs(U,0,1).getDay();return vs(U,0,1+(te<=4?4:11)-te)}(et.getFullYear()),$=et.getTime()-gt.getTime();Ie=1+Math.round($/6048e5)}return Qr(Ie,U,Ut(oe,je.MinusSign))}}function Rn(U,te=!1){return function(G,oe){return Qr(dn(G).getFullYear(),U,Ut(oe,je.MinusSign),te)}}const Fr={};function Xn(U,te){U=U.replace(/:/g,"");const G=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(G)?te:G}function bs(U){return U instanceof Date&&!isNaN(U.valueOf())}const ws=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function an(U){const te=parseInt(U);if(isNaN(te))throw new Error("Invalid integer literal when parsing "+U);return te}class Ve{}let ve=(()=>{class U extends Ve{constructor(G){super(),this.locale=G}getPluralCategory(G,oe){switch(Mn(oe||this.locale)(G)){case Oe.Zero:return"zero";case Oe.One:return"one";case Oe.Two:return"two";case Oe.Few:return"few";case Oe.Many:return"many";default:return"other"}}}return U.\u0275fac=function(G){return new(G||U)(I.LFG(I.soG))},U.\u0275prov=I.Yz7({token:U,factory:U.\u0275fac}),U})();function dt(U,te){te=encodeURIComponent(te);for(const G of U.split(";")){const oe=G.indexOf("="),[Ie,et]=-1==oe?[G,""]:[G.slice(0,oe),G.slice(oe+1)];if(Ie.trim()===te)return decodeURIComponent(et)}return null}class Sn{constructor(te,G,oe,Ie){this.$implicit=te,this.ngForOf=G,this.index=oe,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _n=(()=>{class U{constructor(G,oe,Ie){this._viewContainer=G,this._template=oe,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(G){this._ngForOf=G,this._ngForOfDirty=!0}set ngForTrackBy(G){this._trackByFn=G}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(G){G&&(this._template=G)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const G=this._ngForOf;if(!this._differ&&G)try{this._differ=this._differs.find(G).create(this.ngForTrackBy)}catch(oe){throw new Error(`Cannot find a differ supporting object '${G}' of type '${function(U){return U.name||typeof U}(G)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const G=this._differ.diff(this._ngForOf);G&&this._applyChanges(G)}}_applyChanges(G){const oe=[];G.forEachOperation((Ie,et,gt)=>{if(null==Ie.previousIndex){const $=this._viewContainer.createEmbeddedView(this._template,new Sn(null,this._ngForOf,-1,-1),null===gt?void 0:gt),L=new us(Ie,$);oe.push(L)}else if(null==gt)this._viewContainer.remove(null===et?void 0:et);else if(null!==et){const $=this._viewContainer.get(et);this._viewContainer.move($,gt);const L=new us(Ie,$);oe.push(L)}});for(let Ie=0;Ie<oe.length;Ie++)this._perViewChange(oe[Ie].view,oe[Ie].record);for(let Ie=0,et=this._viewContainer.length;Ie<et;Ie++){const gt=this._viewContainer.get(Ie);gt.context.index=Ie,gt.context.count=et,gt.context.ngForOf=this._ngForOf}G.forEachIdentityChange(Ie=>{this._viewContainer.get(Ie.currentIndex).context.$implicit=Ie.item})}_perViewChange(G,oe){G.context.$implicit=oe.item}static ngTemplateContextGuard(G,oe){return!0}}return U.\u0275fac=function(G){return new(G||U)(I.Y36(I.s_b),I.Y36(I.Rgc),I.Y36(I.ZZ4))},U.\u0275dir=I.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();class us{constructor(te,G){this.record=te,this.view=G}}let Gi=(()=>{class U{constructor(G,oe){this._viewContainer=G,this._context=new Wi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=oe}set ngIf(G){this._context.$implicit=this._context.ngIf=G,this._updateView()}set ngIfThen(G){Ms("ngIfThen",G),this._thenTemplateRef=G,this._thenViewRef=null,this._updateView()}set ngIfElse(G){Ms("ngIfElse",G),this._elseTemplateRef=G,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(G,oe){return!0}}return U.\u0275fac=function(G){return new(G||U)(I.Y36(I.s_b),I.Y36(I.Rgc))},U.\u0275dir=I.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class Wi{constructor(){this.$implicit=null,this.ngIf=null}}function Ms(U,te){if(te&&!te.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,I.AaK)(te)}'.`)}let Vi=(()=>{class U{constructor(G,oe,Ie){this._ngEl=G,this._differs=oe,this._renderer=Ie,this._ngStyle=null,this._differ=null}set ngStyle(G){this._ngStyle=G,!this._differ&&G&&(this._differ=this._differs.find(G).create())}ngDoCheck(){if(this._differ){const G=this._differ.diff(this._ngStyle);G&&this._applyChanges(G)}}_setStyle(G,oe){const[Ie,et]=G.split(".");null!=(oe=null!=oe&&et?`${oe}${et}`:oe)?this._renderer.setStyle(this._ngEl.nativeElement,Ie,oe):this._renderer.removeStyle(this._ngEl.nativeElement,Ie)}_applyChanges(G){G.forEachRemovedItem(oe=>this._setStyle(oe.key,null)),G.forEachAddedItem(oe=>this._setStyle(oe.key,oe.currentValue)),G.forEachChangedItem(oe=>this._setStyle(oe.key,oe.currentValue))}}return U.\u0275fac=function(G){return new(G||U)(I.Y36(I.SBq),I.Y36(I.aQg),I.Y36(I.Qsj))},U.\u0275dir=I.lG2({type:U,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),U})(),ii=(()=>{class U{constructor(G){this._viewContainerRef=G,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(G){if(G.ngTemplateOutlet){const oe=this._viewContainerRef;this._viewRef&&oe.remove(oe.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?oe.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&G.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(G){return new(G||U)(I.Y36(I.s_b))},U.\u0275dir=I.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[I.TTD]}),U})();function Nr(U,te){return Error(`InvalidPipeArgument: '${te}' for pipe '${(0,I.AaK)(U)}'`)}class co{createSubscription(te,G){return te.subscribe({next:G,error:oe=>{throw oe}})}dispose(te){te.unsubscribe()}onDestroy(te){te.unsubscribe()}}class cs{createSubscription(te,G){return te.then(G,oe=>{throw oe})}dispose(te){}onDestroy(te){}}const Ei=new cs,$r=new co;let ho=(()=>{class U{constructor(G){this._ref=G,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(G){return this._obj?G!==this._obj?(this._dispose(),this.transform(G)):this._latestValue:(G&&this._subscribe(G),this._latestValue)}_subscribe(G){this._obj=G,this._strategy=this._selectStrategy(G),this._subscription=this._strategy.createSubscription(G,oe=>this._updateLatestValue(G,oe))}_selectStrategy(G){if((0,I.QGY)(G))return Ei;if((0,I.F4k)(G))return $r;throw Nr(U,G)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(G,oe){G===this._obj&&(this._latestValue=oe,this._ref.markForCheck())}}return U.\u0275fac=function(G){return new(G||U)(I.Y36(I.sBO,16))},U.\u0275pipe=I.Yjl({name:"async",type:U,pure:!1}),U})(),Ri=(()=>{class U{constructor(G){this._locale=G}transform(G,oe,Ie){if(!function(U){return!(null==U||""===U||U!=U)}(G))return null;Ie=Ie||this._locale;try{return function(U,te,G){return function(U,te,G,oe,Ie,et,gt=!1){let $="",L=!1;if(isFinite(U)){let k=function(U){let oe,Ie,et,gt,$,te=Math.abs(U)+"",G=0;for((Ie=te.indexOf("."))>-1&&(te=te.replace(".","")),(et=te.search(/e/i))>0?(Ie<0&&(Ie=et),Ie+=+te.slice(et+1),te=te.substring(0,et)):Ie<0&&(Ie=te.length),et=0;"0"===te.charAt(et);et++);if(et===($=te.length))oe=[0],Ie=1;else{for($--;"0"===te.charAt($);)$--;for(Ie-=et,oe=[],gt=0;et<=$;et++,gt++)oe[gt]=Number(te.charAt(et))}return Ie>22&&(oe=oe.splice(0,21),G=Ie-1,Ie=1),{digits:oe,exponent:G,integerLen:Ie}}(U);gt&&(k=function(U){if(0===U.digits[0])return U;const te=U.digits.length-U.integerLen;return U.exponent?U.exponent+=2:(0===te?U.digits.push(0,0):1===te&&U.digits.push(0),U.integerLen+=2),U}(k));let ne=te.minInt,ze=te.minFrac,Et=te.maxFrac;if(et){const Ar=et.match(ws);if(null===Ar)throw new Error(`${et} is not a valid digit info`);const on=Ar[1],Vs=Ar[3],_o=Ar[5];null!=on&&(ne=an(on)),null!=Vs&&(ze=an(Vs)),null!=_o?Et=an(_o):null!=Vs&&ze>Et&&(Et=ze)}!function(U,te,G){if(te>G)throw new Error(`The minimum number of digits after fraction (${te}) is higher than the maximum (${G}).`);let oe=U.digits,Ie=oe.length-U.integerLen;const et=Math.min(Math.max(te,Ie),G);let gt=et+U.integerLen,$=oe[gt];if(gt>0){oe.splice(Math.max(U.integerLen,gt));for(let ze=gt;ze<oe.length;ze++)oe[ze]=0}else{Ie=Math.max(0,Ie),U.integerLen=1,oe.length=Math.max(1,gt=et+1),oe[0]=0;for(let ze=1;ze<gt;ze++)oe[ze]=0}if($>=5)if(gt-1<0){for(let ze=0;ze>gt;ze--)oe.unshift(0),U.integerLen++;oe.unshift(1),U.integerLen++}else oe[gt-1]++;for(;Ie<Math.max(0,et);Ie++)oe.push(0);let L=0!==et;const k=te+U.integerLen,ne=oe.reduceRight(function(ze,Et,yn,ir){return ir[yn]=(Et+=ze)<10?Et:Et-10,L&&(0===ir[yn]&&yn>=k?ir.pop():L=!1),Et>=10?1:0},0);ne&&(oe.unshift(ne),U.integerLen++)}(k,ze,Et);let yn=k.digits,ir=k.integerLen;const lr=k.exponent;let ui=[];for(L=yn.every(Ar=>!Ar);ir<ne;ir++)yn.unshift(0);for(;ir<0;ir++)yn.unshift(0);ir>0?ui=yn.splice(ir,yn.length):(ui=yn,yn=[0]);const Jr=[];for(yn.length>=te.lgSize&&Jr.unshift(yn.splice(-te.lgSize,yn.length).join(""));yn.length>te.gSize;)Jr.unshift(yn.splice(-te.gSize,yn.length).join(""));yn.length&&Jr.unshift(yn.join("")),$=Jr.join(Ut(G,oe)),ui.length&&($+=Ut(G,Ie)+ui.join("")),lr&&($+=Ut(G,je.Exponential)+"+"+lr)}else $=Ut(G,je.Infinity);return $=U<0&&!L?te.negPre+$+te.negSuf:te.posPre+$+te.posSuf,$}(U,function(U,te="-"){const G={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},oe=U.split(";"),Ie=oe[0],et=oe[1],gt=-1!==Ie.indexOf(".")?Ie.split("."):[Ie.substring(0,Ie.lastIndexOf("0")+1),Ie.substring(Ie.lastIndexOf("0")+1)],$=gt[0],L=gt[1]||"";G.posPre=$.substr(0,$.indexOf("#"));for(let ne=0;ne<L.length;ne++){const ze=L.charAt(ne);"0"===ze?G.minFrac=G.maxFrac=ne+1:"#"===ze?G.maxFrac=ne+1:G.posSuf+=ze}const k=$.split(",");if(G.gSize=k[1]?k[1].length:0,G.lgSize=k[2]||k[1]?(k[2]||k[1]).length:0,et){const ne=Ie.length-G.posPre.length-G.posSuf.length,ze=et.indexOf("#");G.negPre=et.substr(0,ze).replace(/'/g,""),G.negSuf=et.substr(ze+ne).replace(/'/g,"")}else G.negPre=te+G.posPre,G.negSuf=G.posSuf;return G}(function(U,te){return(0,I.cg1)(U)[I.wAp.NumberFormats][te]}(te,Ze.Percent),Ut(te,je.MinusSign)),te,je.Group,je.Decimal,G,!0).replace(new RegExp("%","g"),Ut(te,je.PercentSign))}(function(U){if("string"==typeof U&&!isNaN(Number(U)-parseFloat(U)))return Number(U);if("number"!=typeof U)throw new Error(`${U} is not a number`);return U}(G),Ie,oe)}catch(et){throw Nr(U,et.message)}}}return U.\u0275fac=function(G){return new(G||U)(I.Y36(I.soG,16))},U.\u0275pipe=I.Yjl({name:"percent",type:U,pure:!0}),U})();let po=(()=>{class U{}return U.\u0275fac=function(G){return new(G||U)},U.\u0275mod=I.oAB({type:U}),U.\u0275inj=I.cJS({providers:[{provide:Ve,useClass:ve}]}),U})();const Di="browser";function Ls(U){return U===Di}function Oi(U){return"server"===U}let Ci=(()=>{class U{}return U.\u0275prov=(0,I.Yz7)({token:U,providedIn:"root",factory:()=>new ns((0,I.LFG)(ge),window)}),U})();class ns{constructor(te,G){this.document=te,this.window=G,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const G=function(U,te){const G=U.getElementById(te)||U.getElementsByName(te)[0];if(G)return G;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const oe=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Ie=oe.currentNode;for(;Ie;){const et=Ie.shadowRoot;if(et){const gt=et.getElementById(te)||et.querySelector(`[name="${te}"]`);if(gt)return gt}Ie=oe.nextNode()}}return null}(this.document,te);G&&(this.scrollToElement(G),this.attemptFocus(G))}setHistoryScrollRestoration(te){if(this.supportScrollRestoration()){const G=this.window.history;G&&G.scrollRestoration&&(G.scrollRestoration=te)}}scrollToElement(te){const G=te.getBoundingClientRect(),oe=G.left+this.window.pageXOffset,Ie=G.top+this.window.pageYOffset,et=this.offset();this.window.scrollTo(oe-et[0],Ie-et[1])}attemptFocus(te){return te.focus(),this.document.activeElement===te}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const te=fi(this.window.history)||fi(Object.getPrototypeOf(this.window.history));return!(!te||!te.writable&&!te.set)}catch(te){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(te){return!1}}}function fi(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class Ti{}},7716:(Tt,He,W)=>{"use strict";W.d(He,{deG:()=>qo,tb:()=>aw,AFp:()=>iw,ip1:()=>n0,CZH:()=>Uf,hGG:()=>LI,z2F:()=>um,sBO:()=>ND,Sil:()=>lm,_Vd:()=>xf,EJc:()=>uw,SBq:()=>nc,qLn:()=>m,vpe:()=>rc,gxx:()=>ga,tBr:()=>$a,XFs:()=>jt,OlP:()=>ni,zs3:()=>Qi,ZZ4:()=>j_,aQg:()=>$_,soG:()=>J_,YKP:()=>qb,v3s:()=>mI,h0i:()=>bh,PXZ:()=>cI,R0b:()=>Tl,FiY:()=>Lo,Lbi:()=>ow,g9A:()=>sw,n_E:()=>om,Qsj:()=>fD,FYo:()=>U_,JOm:()=>da,Tiy:()=>Av,q3G:()=>_i,tp0:()=>la,EAV:()=>bI,Rgc:()=>Zg,dDg:()=>fw,DyG:()=>Ss,q4F:()=>Mv,GfV:()=>Ub,s_b:()=>W_,ifc:()=>wt,eFA:()=>yw,G48:()=>rI,Gpc:()=>X,f3M:()=>Iu,X6Q:()=>u0,_c5:()=>MI,VLi:()=>nI,c2e:()=>lw,zSh:()=>oh,wAp:()=>Pn,vHH:()=>ke,EiD:()=>Cc,mCW:()=>fl,qzn:()=>hi,JVY:()=>Ld,pB0:()=>is,eBb:()=>ki,L6k:()=>_c,LAX:()=>Ou,cg1:()=>vv,Tjo:()=>NI,kL8:()=>ab,yhl:()=>Jn,dqk:()=>ar,sIi:()=>as,CqO:()=>b_,QGY:()=>Mg,F4k:()=>v_,RDi:()=>Vn,AaK:()=>he,z3N:()=>Wa,qOj:()=>Ja,TTD:()=>po,_Bn:()=>kb,xp6:()=>fp,uIk:()=>fg,Tol:()=>$g,DjV:()=>K0,ekj:()=>_h,Suo:()=>k1,Xpm:()=>Rn,lG2:()=>bs,Yz7:()=>Ht,cJS:()=>Ut,oAB:()=>li,Yjl:()=>ws,Y36:()=>ph,_UZ:()=>Bc,BQk:()=>Ag,ynx:()=>Ng,qZA:()=>Sg,TgZ:()=>Cf,EpF:()=>y_,n5z:()=>Do,Ikx:()=>yv,SDv:()=>xb,QtT:()=>Ob,pQV:()=>Dv,LFG:()=>gi,$8M:()=>xn,NdJ:()=>Rg,CRH:()=>F1,oxw:()=>Md,ALo:()=>A1,lcZ:()=>M1,Hsn:()=>D_,F$t:()=>E_,Q6J:()=>Df,s9C:()=>Sf,MGl:()=>Uc,VKq:()=>w1,WLB:()=>E1,kEZ:()=>D1,iGM:()=>O1,MAs:()=>gf,CHM:()=>vo,LSH:()=>ou,kYT:()=>As,Udp:()=>jg,YNc:()=>r_,W1O:()=>U1,_uU:()=>De,Oqu:()=>Fe,hij:()=>ct,Gf:()=>P1});var I=W(9765),c=W(5319),le=W(7574),Ce=W(6682),Te=W(8819);function ue(r){for(let i in r)if(r[i]===ue)return i;throw Error("Could not find renamed property on target object.")}function ge(r,i){for(const s in i)i.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=i[s])}function he(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(he).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function se(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const re=ue({__forward_ref__:ue});function X(r){return r.__forward_ref__=X,r.toString=function(){return he(this())},r}function ie(r){return ye(r)?r():r}function ye(r){return"function"==typeof r&&r.hasOwnProperty(re)&&r.__forward_ref__===X}class ke extends Error{constructor(i,s){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,s)),this.code=i}}function $e(r){return"string"==typeof r?r:null==r?"":String(r)}function ht(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():$e(r)}function Pt(r,i){const s=i?` in ${i}`:"";throw new ke("201",`No provider for ${ht(r)} found${s}`)}function Lt(r,i,s,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}function Ht(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ut(r){return{providers:r.providers||[],imports:r.imports||[]}}function An(r){return dr(r,Mn)||dr(r,En)}function dr(r,i){return r.hasOwnProperty(i)?r[i]:null}function _r(r){return r&&(r.hasOwnProperty(Or)||r.hasOwnProperty(Pr))?r[Or]:null}const Mn=ue({\u0275prov:ue}),Or=ue({\u0275inj:ue}),En=ue({ngInjectableDef:ue}),Pr=ue({ngInjectorDef:ue});var jt=(()=>((jt=jt||{})[jt.Default=0]="Default",jt[jt.Host=1]="Host",jt[jt.Self=2]="Self",jt[jt.SkipSelf=4]="SkipSelf",jt[jt.Optional=8]="Optional",jt))();let br;function jr(r){const i=br;return br=r,i}function Xt(r,i,s){const l=An(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&jt.Optional?null:void 0!==i?i:void Pt(he(r),"Injector")}function xt(r){return{toString:r}.toString()}var Ln=(()=>((Ln=Ln||{})[Ln.OnPush=0]="OnPush",Ln[Ln.Default=1]="Default",Ln))(),wt=(()=>((wt=wt||{})[wt.Emulated=0]="Emulated",wt[wt.None=2]="None",wt[wt.ShadowDom=3]="ShadowDom",wt))();const Qt="undefined"!=typeof globalThis&&globalThis,ai="undefined"!=typeof window&&window,vs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Sr="undefined"!=typeof global&&global,ar=Qt||Sr||ai||vs,Bn={},Ee=[],we=ue({\u0275cmp:ue}),Ge=ue({\u0275dir:ue}),nt=ue({\u0275pipe:ue}),We=ue({\u0275mod:ue}),vt=ue({\u0275loc:ue}),Bt=ue({\u0275fac:ue}),dn=ue({__NG_ELEMENT_ID__:ue});let In=0;function Rn(r){return xt(()=>{const s={},l={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Ln.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Ee,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||wt.Emulated,id:"c",styles:r.styles||Ee,_:null,setInput:null,schemas:r.schemas||null,tView:null},d=r.directives,p=r.features,b=r.pipes;return l.id+=In++,l.inputs=vi(r.inputs,s),l.outputs=vi(r.outputs),p&&p.forEach(E=>E(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(Kn):null,l.pipeDefs=b?()=>("function"==typeof b?b():b).map(Xn):null,l})}function Kn(r){return Cr(r)||function(r){return r[Ge]||null}(r)}function Xn(r){return function(r){return r[nt]||null}(r)}const nn={};function li(r){return xt(()=>{const i={type:r.type,bootstrap:r.bootstrap||Ee,declarations:r.declarations||Ee,imports:r.imports||Ee,exports:r.exports||Ee,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(nn[r.id]=r.type),i})}function As(r,i){return xt(()=>{const s=gr(r,!0);s.declarations=i.declarations||Ee,s.imports=i.imports||Ee,s.exports=i.exports||Ee})}function vi(r,i){if(null==r)return Bn;const s={};for(const l in r)if(r.hasOwnProperty(l)){let d=r[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),s[d]=l,i&&(i[d]=p)}return s}const bs=Rn;function ws(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Cr(r){return r[we]||null}function gr(r,i){const s=r[We]||null;if(!s&&!0===i)throw new Error(`Type ${he(r)} does not have '\u0275mod' property.`);return s}function bi(r){return Array.isArray(r)&&"object"==typeof r[1]}function nr(r){return Array.isArray(r)&&!0===r[1]}function Ws(r){return 0!=(8&r.flags)}function Vi(r){return 2==(2&r.flags)}function ii(r){return 1==(1&r.flags)}function wi(r){return null!==r.template}function Nr(r){return 0!=(512&r[2])}function ts(r,i){return r.hasOwnProperty(Bt)?r[Bt]:null}class qi{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function po(){return Di}function Di(r){return r.type.prototype.ngOnChanges&&(r.setInput=mo),go}function go(){const r=Ls(this),i=null==r?void 0:r.current;if(i){const s=r.previous;if(s===Bn)r.previous=i;else for(let l in i)s[l]=i[l];r.current=null,this.ngOnChanges(i)}}function mo(r,i,s,l){const d=Ls(r)||function(r,i){return r[Fs]=i}(r,{previous:Bn,current:null}),p=d.current||(d.current={}),b=d.previous,E=this.declaredInputs[s],x=b[E];p[E]=new qi(x&&x.currentValue,i,b===Bn),r[l]=i}po.ngInherit=!0;const Fs="__ngSimpleChanges__";function Ls(r){return r[Fs]||null}let fi;function Vn(r){fi=r}function Er(){return void 0!==fi?fi:"undefined"!=typeof document?document:void 0}function U(r){return!!r.listen}const G={createRenderer:(r,i)=>Er()};function Ie(r){for(;Array.isArray(r);)r=r[0];return r}function $(r,i){return Ie(i[r])}function L(r,i){return Ie(i[r.index])}function ne(r,i){return r.data[i]}function ze(r,i){return r[i]}function Et(r,i){const s=i[r];return bi(s)?s:s[0]}function yn(r){return 4==(4&r[2])}function ir(r){return 128==(128&r[2])}function ui(r,i){return null==i?null:r[i]}function Jr(r){r[18]=0}function Ar(r,i){r[5]+=i;let s=r,l=r[3];for(;null!==l&&(1===i&&1===s[5]||-1===i&&0===s[5]);)l[5]+=i,s=l,l=l[3]}const on={lFrame:Ii(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ro(){return on.bindingsEnabled}function mt(){return on.lFrame.lView}function Un(){return on.lFrame.tView}function vo(r){return on.lFrame.contextLView=r,r[8]}function Xr(){let r=va();for(;null!==r&&64===r.type;)r=r.parent;return r}function va(){return on.lFrame.currentTNode}function no(){const r=on.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}function qs(r,i){const s=on.lFrame;s.currentTNode=r,s.isParent=i}function K(){return on.lFrame.isParent}function C(){on.lFrame.isParent=!1}function Q(){return on.isInCheckNoChangesMode}function de(r){on.isInCheckNoChangesMode=r}function _e(){const r=on.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function Ne(){return on.lFrame.bindingIndex}function lt(){return on.lFrame.bindingIndex++}function Dt(r){const i=on.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,s}function Tn(r){on.lFrame.inI18n=r}function er(r,i){const s=on.lFrame;s.bindingIndex=s.bindingRootIndex=r,Dn(i)}function Dn(r){on.lFrame.currentDirectiveIndex=r}function qr(){return on.lFrame.currentQueryIndex}function vr(r){on.lFrame.currentQueryIndex=r}function Yi(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Yr(r,i,s){if(s&jt.SkipSelf){let d=i,p=r;for(;!(d=d.parent,null!==d||s&jt.Host||(d=Yi(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;i=d,r=p}const l=on.lFrame=Hr();return l.currentTNode=i,l.lView=r,!0}function ro(r){const i=Hr(),s=r[1];on.lFrame=i,i.currentTNode=s.firstChild,i.lView=r,i.tView=s,i.contextLView=r,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Hr(){const r=on.lFrame,i=null===r?null:r.child;return null===i?Ii(r):i}function Ii(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Tr(){const r=on.lFrame;return on.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Ts=Tr;function ci(){const r=Tr();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Ir(){return on.lFrame.selectedIndex}function ds(r){on.lFrame.selectedIndex=r}function Gr(){const r=on.lFrame;return ne(r.tView,r.selectedIndex)}function pi(r,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const p=r.data[s].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:x,ngAfterViewChecked:B,ngOnDestroy:q}=p;b&&(r.contentHooks||(r.contentHooks=[])).push(-s,b),E&&((r.contentHooks||(r.contentHooks=[])).push(s,E),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(s,E)),x&&(r.viewHooks||(r.viewHooks=[])).push(-s,x),B&&((r.viewHooks||(r.viewHooks=[])).push(s,B),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(s,B)),null!=q&&(r.destroyHooks||(r.destroyHooks=[])).push(s,q)}}function Zi(r,i,s){ji(r,i,3,s)}function Dr(r,i,s,l){(3&r[2])===s&&ji(r,i,s,l)}function bo(r,i){let s=r[2];(3&s)===i&&(s&=2047,s+=1,r[2]=s)}function ji(r,i,s,l){const p=null!=l?l:-1,b=i.length-1;let E=0;for(let x=void 0!==l?65535&r[18]:0;x<b;x++)if("number"==typeof i[x+1]){if(E=i[x],null!=l&&E>=l)break}else i[x]<0&&(r[18]+=65536),(E<p||-1==p)&&(xo(r,s,i,x),r[18]=(4294901760&r[18])+x+2),x++}function xo(r,i,s,l){const d=s[l]<0,p=s[l+1],E=r[d?-s[l]:s[l]];if(d){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{p.call(E)}finally{}}}else try{p.call(E)}finally{}}class hs{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function bn(r,i,s){const l=U(r);let d=0;for(;d<s.length;){const p=s[d];if("number"==typeof p){if(0!==p)break;d++;const b=s[d++],E=s[d++],x=s[d++];l?r.setAttribute(i,E,x,b):i.setAttributeNS(b,E,x)}else{const b=p,E=s[++d];Fa(b)?l&&r.setProperty(i,b,E):l?r.setAttribute(i,b,E):i.setAttribute(b,E),d++}}return d}function ql(r){return 3===r||4===r||6===r}function Fa(r){return 64===r.charCodeAt(0)}function zo(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const d=i[l];"number"==typeof d?s=d:0===s||La(r,s,d,null,-1===s||2===s?i[++l]:null)}}return r}function La(r,i,s,l,d){let p=0,b=r.length;if(-1===i)b=-1;else for(;p<r.length;){const E=r[p++];if("number"==typeof E){if(E===i){b=-1;break}if(E>i){b=p-1;break}}}for(;p<r.length;){const E=r[p];if("number"==typeof E)break;if(E===s){if(null===l)return void(null!==d&&(r[p+1]=d));if(l===r[p+1])return void(r[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==b&&(r.splice(b,0,i),p=b+1),r.splice(p++,0,s),null!==l&&r.splice(p++,0,l),null!==d&&r.splice(p++,0,d)}function Si(r){return-1!==r}function ia(r){return 32767&r}function wa(r,i){let s=function(r){return r>>16}(r),l=i;for(;s>0;)l=l[15],s--;return l}let Il=!0;function Yl(r){const i=Il;return Il=r,i}let Ea=0;function Ct(r,i){const s=P(r,i);if(-1!==s)return s;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,si(l.data,r),si(i,null),si(l.blueprint,null));const d=R(r,i),p=r.injectorIndex;if(Si(d)){const b=ia(d),E=wa(d,i),x=E[1].data;for(let B=0;B<8;B++)i[p+B]=E[b+B]|x[b+B]}return i[p+8]=d,p}function si(r,i){r.push(0,0,0,0,0,0,0,0,i)}function P(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function R(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let s=0,l=null,d=i;for(;null!==d;){const p=d[1],b=p.type;if(l=2===b?p.declTNode:1===b?d[6]:null,null===l)return-1;if(s++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function S(r,i,s){!function(r,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(dn)&&(l=s[dn]),null==l&&(l=s[dn]=Ea++);const d=255&l;i.data[r+(d>>5)]|=1<<d}(r,i,s)}function z(r,i,s){if(s&jt.Optional)return r;Pt(i,"NodeInjector")}function Z(r,i,s,l){if(s&jt.Optional&&void 0===l&&(l=null),0==(s&(jt.Self|jt.Host))){const d=r[9],p=jr(void 0);try{return d?d.get(i,l,s&jt.Optional):Xt(i,l,s&jt.Optional)}finally{jr(p)}}return z(l,i,s)}function ee(r,i,s,l=jt.Default,d){if(null!==r){const p=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(dn)?r[dn]:void 0;return"number"==typeof i?i>=0?255&i:st:i}(s);if("function"==typeof p){if(!Yr(i,r,l))return l&jt.Host?z(d,s,l):Z(i,s,l,d);try{const b=p(l);if(null!=b||l&jt.Optional)return b;Pt(s)}finally{Ts()}}else if("number"==typeof p){let b=null,E=P(r,i),x=-1,B=l&jt.Host?i[16][6]:null;for((-1===E||l&jt.SkipSelf)&&(x=-1===E?R(r,i):i[E+8],-1!==x&&Po(l,!1)?(b=i[1],E=ia(x),i=wa(x,i)):E=-1);-1!==E;){const q=i[1];if(hr(p,E,q.data)){const ae=$t(E,i,s,b,l,B);if(ae!==fe)return ae}x=i[E+8],-1!==x&&Po(l,i[1].data[E+8]===B)&&hr(p,E,i)?(b=q,E=ia(x),i=wa(x,i)):E=-1}}}return Z(i,s,l,d)}const fe={};function st(){return new ti(Xr(),mt())}function $t(r,i,s,l,d,p){const b=i[1],E=b.data[r+8],q=Qn(E,b,s,null==l?Vi(E)&&Il:l!=b&&0!=(3&E.type),d&jt.Host&&p===E);return null!==q?cn(i,b,q,E):fe}function Qn(r,i,s,l,d){const p=r.providerIndexes,b=i.data,E=1048575&p,x=r.directiveStart,q=p>>20,pe=d?E+q:r.directiveEnd;for(let Ae=l?E:E+q;Ae<pe;Ae++){const Le=b[Ae];if(Ae<x&&s===Le||Ae>=x&&Le.type===s)return Ae}if(d){const Ae=b[x];if(Ae&&wi(Ae)&&Ae.type===s)return x}return null}function cn(r,i,s,l){let d=r[s];const p=i.data;if(function(r){return r instanceof hs}(d)){const b=d;b.resolving&&function(r,i){throw new ke("200",`Circular dependency in DI detected for ${r}`)}(ht(p[s]));const E=Yl(b.canSeeViewProviders);b.resolving=!0;const x=b.injectImpl?jr(b.injectImpl):null;Yr(r,l,jt.Default);try{d=r[s]=b.factory(void 0,p,r,l),i.firstCreatePass&&s>=l.directiveStart&&function(r,i,s){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=i.type.prototype;if(l){const b=Di(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(r,b),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,b)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-r,d),p&&((s.preOrderHooks||(s.preOrderHooks=[])).push(r,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,p))}(s,p[s],i)}finally{null!==x&&jr(x),Yl(E),b.resolving=!1,Ts()}}return d}function hr(r,i,s){return!!(s[i+(r>>5)]&1<<r)}function Po(r,i){return!(r&jt.Self||r&jt.Host&&i)}class ti{constructor(i,s){this._tNode=i,this._lView=s}get(i,s){return ee(this._tNode,this._lView,i,void 0,s)}}function Do(r){return xt(()=>{const i=r.prototype.constructor,s=i[Bt]||sa(i),l=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==l;){const p=d[Bt]||sa(d);if(p&&p!==s)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function sa(r){return ye(r)?()=>{const i=sa(ie(r));return i&&i()}:ts(r)}function xn(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const s=r.attrs;if(s){const l=s.length;let d=0;for(;d<l;){const p=s[d];if(ql(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof s[d];)d++;else{if(p===i)return s[d+1];d+=2}}}return null}(Xr(),r)}const Co="__parameters__";function so(r,i,s){return xt(()=>{const l=function(r){return function(...s){if(r){const l=r(...s);for(const d in l)this[d]=l[d]}}}(i);function d(...p){if(this instanceof d)return l.apply(this,p),this;const b=new d(...p);return E.annotation=b,E;function E(x,B,q){const ae=x.hasOwnProperty(Co)?x[Co]:Object.defineProperty(x,Co,{value:[]})[Co];for(;ae.length<=q;)ae.push(null);return(ae[q]=ae[q]||[]).push(b),x}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class ni{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ht({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const qo=new ni("AnalyzeForEntryComponents"),Ss=Function;function gs(r,i){void 0===i&&(i=r);for(let s=0;s<r.length;s++){let l=r[s];Array.isArray(l)?(i===r&&(i=r.slice(0,s)),gs(l,i)):i!==r&&i.push(l)}return i}function Ys(r,i){r.forEach(s=>Array.isArray(s)?Ys(s,i):i(s))}function aa(r,i,s){i>=r.length?r.push(s):r.splice(i,0,s)}function To(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function Us(r,i){const s=[];for(let l=0;l<r;l++)s.push(i);return s}function ur(r,i,s){let l=Ua(r,i);return l>=0?r[1|l]=s:(l=~l,function(r,i,s,l){let d=r.length;if(d==i)r.push(s,l);else if(1===d)r.push(l,r[0]),r[0]=s;else{for(d--,r.push(r[d-1],r[d]);d>i;)r[d]=r[d-2],d--;r[i]=s,r[i+1]=l}}(r,l,i,s)),l}function Wc(r,i){const s=Ua(r,i);if(s>=0)return r[1|s]}function Ua(r,i){return function(r,i,s){let l=0,d=r.length>>s;for(;d!==l;){const p=l+(d-l>>1),b=r[p<<s];if(i===b)return p<<s;b>i?d=p:l=p+1}return~(d<<s)}(r,i,1)}const al={},Nl="__NG_DI_FLAG__",Ta="ngTempTokenPath",dc=/\n/gm,Tu="__source",Aa=ue({provide:String,useValue:ue});let Zs;function ll(r){const i=Zs;return Zs=r,i}function Ma(r,i=jt.Default){if(void 0===Zs)throw new Error("inject() must be called from an injection context");return null===Zs?Xt(r,void 0,i):Zs.get(r,i&jt.Optional?null:void 0,i)}function gi(r,i=jt.Default){return(br||Ma)(ie(r),i)}const Iu=gi;function lo(r){const i=[];for(let s=0;s<r.length;s++){const l=ie(r[s]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,p=jt.Default;for(let b=0;b<l.length;b++){const E=l[b],x=ja(E);"number"==typeof x?-1===x?d=E.token:p|=x:d=E}i.push(gi(d,p))}else i.push(gi(l))}return i}function cl(r,i){return r[Nl]=i,r.prototype[Nl]=i,r}function ja(r){return r[Nl]}function Ks(r,i,s,l){const d=r[Ta];throw i[Tu]&&d.unshift(i[Tu]),r.message=function(r,i,s,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let d=he(i);if(Array.isArray(i))d=i.map(he).join(" -> ");else if("object"==typeof i){let p=[];for(let b in i)if(i.hasOwnProperty(b)){let E=i[b];p.push(b+":"+("string"==typeof E?JSON.stringify(E):he(E)))}d=`{${p.join(", ")}}`}return`${s}${l?"("+l+")":""}[${d}]: ${r.replace(dc,"\n  ")}`}("\n"+r.message,d,s,l),r.ngTokenPath=d,r[Ta]=null,r}const $a=cl(so("Inject",r=>({token:r})),-1),Lo=cl(so("Optional"),8),la=cl(so("SkipSelf"),4);let nu;function oi(r){var i;return(null===(i=function(){if(void 0===nu&&(nu=null,ar.trustedTypes))try{nu=ar.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return nu}())||void 0===i?void 0:i.createHTML(r))||r}class $s{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qc extends $s{getTypeName(){return"HTML"}}class Jc extends $s{getTypeName(){return"Style"}}class Fd extends $s{getTypeName(){return"Script"}}class Pl extends $s{getTypeName(){return"URL"}}class mc extends $s{getTypeName(){return"ResourceURL"}}function Wa(r){return r instanceof $s?r.changingThisBreaksApplicationSecurity:r}function hi(r,i){const s=Jn(r);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function Jn(r){return r instanceof $s&&r.getTypeName()||null}function Ld(r){return new Qc(r)}function _c(r){return new Jc(r)}function ki(r){return new Fd(r)}function Ou(r){return new Pl(r)}function is(r){return new mc(r)}function mi(r){const i=new yc(r);return function(){try{return!!(new window.DOMParser).parseFromString(oi(""),"text/html")}catch(r){return!1}}()?new Xc(i):i}class Xc{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(oi(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class yc{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=oi(i),s;const l=this.inertDocument.createElement("body");return l.innerHTML=oi(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const s=i.attributes;for(let d=s.length-1;0<d;d--){const b=s.item(d).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&i.removeAttribute(b)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Vd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function fl(r){return(r=String(r)).match(Vd)||r.match(Sh)?r:"unsafe:"+r}function ed(r){return(r=String(r)).split(",").map(i=>fl(i.trim())).join(", ")}function sr(r){const i={};for(const s of r.split(","))i[s]=!0;return i}function ru(...r){const i={};for(const s of r)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const kl=sr("area,br,col,hr,img,wbr"),pl=sr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gl=sr("rp,rt"),Ec=ru(kl,ru(pl,sr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ru(gl,sr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ru(gl,pl)),ku=sr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ml=sr("srcset"),td=ru(ku,ml,sr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dc=sr("script,style,template");class iu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!Ec.hasOwnProperty(s))return this.sanitizedSomething=!0,!Dc.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let d=0;d<l.length;d++){const p=l.item(d),b=p.name,E=b.toLowerCase();if(!td.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let x=p.value;ku[E]&&(x=fl(x)),ml[E]&&(x=ed(x)),this.buf.push(" ",b,'="',ms(x),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();Ec.hasOwnProperty(s)&&!kl.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(ms(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const nd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jd=/([^\#-~ |!])/g;function ms(r){return r.replace(/&/g,"&amp;").replace(nd,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(jd,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ua;function Cc(r,i){let s=null;try{ua=ua||mi(r);let l=i?String(i):"";s=ua.getInertBodyElement(l);let d=5,p=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=p,p=s.innerHTML,s=ua.getInertBodyElement(l)}while(l!==p);return oi((new iu).sanitizeChildren(za(s)||s))}finally{if(s){const l=za(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function za(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var _i=(()=>((_i=_i||{})[_i.NONE=0]="NONE",_i[_i.HTML=1]="HTML",_i[_i.STYLE=2]="STYLE",_i[_i.SCRIPT=3]="SCRIPT",_i[_i.URL=4]="URL",_i[_i.RESOURCE_URL=5]="RESOURCE_URL",_i))();function ou(r){const i=function(){const r=mt();return r&&r[12]}();return i?i.sanitize(_i.URL,r)||"":hi(r,"URL")?Wa(r):fl($e(r))}const Se="__ngContext__";function Pe(r,i){r[Se]=i}function yt(r){const i=function(r){return r[Se]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function od(r){return r.ngOriginalError}function T(r,...i){r.error(...i)}class m{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),l=this._findContext(i),d=(r=i)&&r.ngErrorLogger||T;var r;d(this._console,"ERROR",i),s&&d(this._console,"ORIGINAL ERROR",s),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(i){return i?i.ngDebugContext||this._findContext(od(i)):null}_findOriginalError(i){let s=i&&od(i);for(;s&&od(s);)s=od(s);return s||null}}const Y=/^>|^->|<!--|-->|--!>|<!-$/g,ce=/(<|>)/;const Tc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ar))();function Jo(r){return r instanceof Function?r():r}var da=(()=>((da=da||{})[da.Important=1]="Important",da[da.DashCase=2]="DashCase",da))();let ha;function ad(r,i){return ha(r,i)}function Ic(r){const i=r[3];return nr(i)?i[3]:i}function Vu(r){return ld(r[13])}function Bu(r){return ld(r[4])}function ld(r){for(;null!==r&&!nr(r);)r=r[4];return r}function Uu(r,i,s,l,d){if(null!=l){let p,b=!1;nr(l)?p=l:bi(l)&&(b=!0,l=l[0]);const E=Ie(l);0===r&&null!==s?null==d?tp(i,s,E):qa(i,s,E,d||null,!0):1===r&&null!==s?qa(i,s,E,d||null,!0):2===r?ip(i,E,b):3===r&&i.destroyNode(E),null!=p&&function(r,i,s,l,d){const p=s[7];p!==Ie(s)&&Uu(i,r,l,p,d);for(let E=10;E<s.length;E++){const x=s[E];$u(x[1],x,r,i,l,p)}}(i,r,p,s,d)}}function Kf(r,i){return U(r)?r.createText(i):r.createTextNode(i)}function Qf(r,i,s){U(r)?r.setValue(i,s):i.textContent=s}function gm(r,i){return r.createComment(function(r){return r.replace(Y,i=>i.replace(ce,"\u200b$1\u200b"))}(i))}function Jf(r,i,s){return U(r)?r.createElement(i,s):null===s?r.createElement(i):r.createElementNS(s,i)}function Gd(r,i){const s=r[9],l=s.indexOf(i),d=i[3];1024&i[2]&&(i[2]&=-1025,Ar(d,-1)),s.splice(l,1)}function Wd(r,i){if(r.length<=10)return;const s=10+i,l=r[s];if(l){const d=l[17];null!==d&&d!==r&&Gd(d,l),i>0&&(r[s-1][4]=l[4]);const p=To(r,10+i);!function(r,i){$u(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const b=p[19];null!==b&&b.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function ep(r,i){if(!(256&i[2])){const s=i[11];U(s)&&s.destroyNode&&$u(r,i,s,3,null,null),function(r){let i=r[13];if(!i)return Ll(r[1],r);for(;i;){let s=null;if(bi(i))s=i[13];else{const l=i[10];l&&(s=l)}if(!s){for(;i&&!i[4]&&i!==r;)bi(i)&&Ll(i[1],i),i=i[3];null===i&&(i=r),bi(i)&&Ll(i[1],i),s=i&&i[4]}i=s}}(i)}}function Ll(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let s;if(null!=r&&null!=(s=r.destroyHooks))for(let l=0;l<s.length;l+=2){const d=i[s[l]];if(!(d instanceof hs)){const p=s[l+1];if(Array.isArray(p))for(let b=0;b<p.length;b+=2){const E=d[p[b]],x=p[b+1];try{x.call(E)}finally{}}else try{p.call(d)}finally{}}}}(r,i),function(r,i){const s=r.cleanup,l=i[7];let d=-1;if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const b=s[p+1],E="function"==typeof b?b(i):Ie(i[b]),x=l[d=s[p+2]],B=s[p+3];"boolean"==typeof B?E.removeEventListener(s[p],x,B):B>=0?l[d=B]():l[d=-B].unsubscribe(),p+=2}else{const b=l[d=s[p+1]];s[p].call(b)}if(null!==l){for(let p=d+1;p<l.length;p++)l[p]();i[7]=null}}(r,i),1===i[1].type&&U(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&nr(i[3])){s!==i[3]&&Gd(s,i);const l=i[19];null!==l&&l.detachView(r)}}}function ju(r,i,s){return bm(r,i.parent,s)}function bm(r,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[0];if(2&l.flags){const d=r.data[l.directiveStart].encapsulation;if(d===wt.None||d===wt.Emulated)return null}return L(l,s)}function qa(r,i,s,l,d){U(r)?r.insertBefore(i,s,l,d):i.insertBefore(s,l,d)}function tp(r,i,s){U(r)?r.appendChild(i,s):i.appendChild(s)}function lu(r,i,s,l,d){null!==l?qa(r,i,s,l,d):tp(r,i,s)}function cd(r,i){return U(r)?r.parentNode(i):i.parentNode}function Em(r,i,s){return Cm(r,i,s)}function Dm(r,i,s){return 40&r.type?L(r,s):null}let np,Cm=Dm;function zd(r,i){Cm=r,np=i}function uu(r,i,s,l){const d=ju(r,l,i),p=i[11],E=Em(l.parent||i[6],l,i);if(null!=d)if(Array.isArray(s))for(let x=0;x<s.length;x++)lu(p,d,s[x],E,!1);else lu(p,d,s,E,!1);void 0!==np&&np(p,l,i,s,d)}function qd(r,i){if(null!==i){const s=i.type;if(3&s)return L(i,r);if(4&s)return rp(-1,r[i.index]);if(8&s){const l=i.child;if(null!==l)return qd(r,l);{const d=r[i.index];return nr(d)?rp(-1,d):Ie(d)}}if(32&s)return ad(i,r)()||Ie(r[i.index]);{const l=Tm(r,i);return null!==l?Array.isArray(l)?l[0]:qd(Ic(r[16]),l):qd(r,i.next)}}return null}function Tm(r,i){return null!==i?r[16][6].projection[i.projection]:null}function rp(r,i){const s=10+r+1;if(s<i.length){const l=i[s],d=l[1].firstChild;if(null!==d)return qd(l,d)}return i[7]}function ip(r,i,s){const l=cd(r,i);l&&function(r,i,s,l){U(r)?r.removeChild(i,s,l):i.removeChild(s)}(r,l,i,s)}function Vl(r,i,s,l,d,p,b){for(;null!=s;){const E=l[s.index],x=s.type;if(b&&0===i&&(E&&Pe(Ie(E),l),s.flags|=4),64!=(64&s.flags))if(8&x)Vl(r,i,s.child,l,d,p,!1),Uu(i,r,d,E,p);else if(32&x){const B=ad(s,l);let q;for(;q=B();)Uu(i,r,d,q,p);Uu(i,r,d,E,p)}else 16&x?sp(r,i,l,s,d,p):Uu(i,r,d,E,p);s=b?s.projectionNext:s.next}}function $u(r,i,s,l,d,p){Vl(s,l,r.firstChild,i,d,p,!1)}function sp(r,i,s,l,d,p){const b=s[16],x=b[6].projection[l.projection];if(Array.isArray(x))for(let B=0;B<x.length;B++)Uu(i,r,d,x[B],p);else Vl(r,i,x,b[3],d,p,!0)}function dd(r,i,s){U(r)?r.setAttribute(i,"style",s):i.style.cssText=s}function hd(r,i,s){U(r)?""===s?r.removeAttribute(i,"class"):r.setAttribute(i,"class",s):i.className=s}function Rh(r,i,s){let l=r.length;for(;;){const d=r.indexOf(i,s);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const p=i.length;if(d+p===l||r.charCodeAt(d+p)<=32)return d}s=d+1}}const lp="ng-template";function up(r,i,s){let l=0;for(;l<r.length;){let d=r[l++];if(s&&"class"===d){if(d=r[l],-1!==Rh(d.toLowerCase(),i,0))return!0}else if(1===d){for(;l<r.length&&"string"==typeof(d=r[l++]);)if(d.toLowerCase()===i)return!0;return!1}}return!1}function cp(r){return 4===r.type&&r.value!==lp}function hy(r,i,s){return i===(4!==r.type||s?r.value:lp)}function Im(r,i,s){let l=4;const d=r.attrs||[],p=function(r){for(let i=0;i<r.length;i++)if(ql(r[i]))return i;return r.length}(d);let b=!1;for(let E=0;E<i.length;E++){const x=i[E];if("number"!=typeof x){if(!b)if(4&l){if(l=2|1&l,""!==x&&!hy(r,x,s)||""===x&&1===i.length){if(Ya(l))return!1;b=!0}}else{const B=8&l?x:i[++E];if(8&l&&null!==r.attrs){if(!up(r.attrs,B,s)){if(Ya(l))return!1;b=!0}continue}const ae=dp(8&l?"class":x,d,cp(r),s);if(-1===ae){if(Ya(l))return!1;b=!0;continue}if(""!==B){let pe;pe=ae>p?"":d[ae+1].toLowerCase();const Ae=8&l?pe:null;if(Ae&&-1!==Rh(Ae,B,0)||2&l&&B!==pe){if(Ya(l))return!1;b=!0}}}}else{if(!b&&!Ya(l)&&!Ya(x))return!1;if(b&&Ya(x))continue;b=!1,l=x|1&l}}return Ya(l)||b}function Ya(r){return 0==(1&r)}function dp(r,i,s,l){if(null===i)return-1;let d=0;if(l||!s){let p=!1;for(;d<i.length;){const b=i[d];if(b===r)return d;if(3===b||6===b)p=!0;else{if(1===b||2===b){let E=i[++d];for(;"string"==typeof E;)E=i[++d];continue}if(4===b)break;if(0===b){d+=4;continue}}d+=p?1:2}return-1}return function(r,i){let s=r.indexOf(4);if(s>-1)for(s++;s<r.length;){const l=r[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,r)}function Sm(r,i,s=!1){for(let l=0;l<i.length;l++)if(Im(r,i[l],s))return!0;return!1}function py(r,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(r.length===l.length){for(let d=0;d<r.length;d++)if(r[d]!==l[d])continue e;return!0}}return!1}function Ac(r,i){return r?":not("+i.trim()+")":i}function fd(r){let i=r[0],s=1,l=2,d="",p=!1;for(;s<r.length;){let b=r[s];if("string"==typeof b)if(2&l){const E=r[++s];d+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?d+="."+b:4&l&&(d+=" "+b);else""!==d&&!Ya(b)&&(i+=Ac(p,d),d=""),l=b,p=p||!Ya(l);s++}return""!==d&&(i+=Ac(p,d)),i}const Yn={};function fp(r){Mm(Un(),mt(),Ir()+r,Q())}function Mm(r,i,s,l){if(!l)if(3==(3&i[2])){const p=r.preOrderCheckHooks;null!==p&&Zi(i,p,s)}else{const p=r.preOrderHooks;null!==p&&Dr(i,p,0,s)}ds(s)}function pd(r,i){return r<<17|i<<2}function vl(r){return r>>17&32767}function Yd(r){return 2|r}function cu(r){return(131068&r)>>2}function Zd(r,i){return-131069&r|i<<2}function pp(r){return 1|r}function vp(r,i){const s=r.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const d=s[l],p=s[l+1];if(-1!==p){const b=r.data[p];vr(d),b.contentQueries(2,i[p],p)}}}function eh(r,i,s,l,d,p,b,E,x,B){const q=i.blueprint.slice();return q[0]=d,q[2]=140|l,Jr(q),q[3]=q[15]=r,q[8]=s,q[10]=b||r&&r[10],q[11]=E||r&&r[11],q[12]=x||r&&r[12]||null,q[9]=B||r&&r[9]||null,q[6]=p,q[16]=2==i.type?r[16]:q,q}function Wu(r,i,s,l,d){let p=r.data[i];if(null===p)p=wp(r,i,s,l,d),on.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=s,p.value=l,p.attrs=d;const b=no();p.injectorIndex=null===b?-1:b.injectorIndex}return qs(p,!0),p}function wp(r,i,s,l,d){const p=va(),b=K(),x=r.data[i]=function(r,i,s,l,d,p){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?p:p&&p.parent,s,i,l,d);return null===r.firstChild&&(r.firstChild=x),null!==p&&(b?null==p.child&&null!==x.parent&&(p.child=x):null===p.next&&(p.next=x)),x}function zu(r,i,s,l){if(0===s)return-1;const d=i.length;for(let p=0;p<s;p++)i.push(l),r.blueprint.push(l),r.data.push(null);return d}function qu(r,i,s){ro(i);try{const l=r.viewQuery;null!==l&&jp(1,l,s);const d=r.template;null!==d&&Rc(r,i,d,1,s),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&vp(r,i),r.staticViewQueries&&jp(2,r.viewQuery,s);const p=r.components;null!==p&&function(r,i){for(let s=0;s<i.length;s++)Fp(r,i[s])}(i,p)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,ci()}}function Yu(r,i,s,l){const d=i[2];if(256==(256&d))return;ro(i);const p=Q();try{Jr(i),function(r){on.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==s&&Rc(r,i,s,2,l);const b=3==(3&d);if(!p)if(b){const B=r.preOrderCheckHooks;null!==B&&Zi(i,B,null)}else{const B=r.preOrderHooks;null!==B&&Dr(i,B,0,null),bo(i,0)}if(function(r){for(let i=Vu(r);null!==i;i=Bu(i)){if(!i[2])continue;const s=i[9];for(let l=0;l<s.length;l++){const d=s[l],p=d[3];0==(1024&d[2])&&Ar(p,1),d[2]|=1024}}}(i),function(r){for(let i=Vu(r);null!==i;i=Bu(i))for(let s=10;s<i.length;s++){const l=i[s],d=l[1];ir(l)&&Yu(d,l,d.template,l[8])}}(i),null!==r.contentQueries&&vp(r,i),!p)if(b){const B=r.contentCheckHooks;null!==B&&Zi(i,B)}else{const B=r.contentHooks;null!==B&&Dr(i,B,1),bo(i,1)}!function(r,i){const s=r.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const d=s[l];if(d<0)ds(~d);else{const p=d,b=s[++l],E=s[++l];er(b,p),E(2,i[p])}}}finally{ds(-1)}}(r,i);const E=r.components;null!==E&&function(r,i){for(let s=0;s<i.length;s++)kp(r,i[s])}(i,E);const x=r.viewQuery;if(null!==x&&jp(2,x,l),!p)if(b){const B=r.viewCheckHooks;null!==B&&Zi(i,B)}else{const B=r.viewHooks;null!==B&&Dr(i,B,2),bo(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),p||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Ar(i[3],-1))}finally{ci()}}function Lm(r,i,s,l){const d=i[10],p=!Q(),b=yn(i);try{p&&!b&&d.begin&&d.begin(),b&&qu(r,i,l),Yu(r,i,s,l)}finally{p&&!b&&d.end&&d.end()}}function Rc(r,i,s,l,d){const p=Ir(),b=2&l;try{ds(-1),b&&i.length>20&&Mm(r,i,20,Q()),s(l,d)}finally{ds(p)}}function Hh(r,i,s){if(Ws(i)){const d=i.directiveEnd;for(let p=i.directiveStart;p<d;p++){const b=r.data[p];b.contentQueries&&b.contentQueries(1,s[p],p)}}}function Ep(r,i,s){!Ro()||(function(r,i,s,l){const d=s.directiveStart,p=s.directiveEnd;r.firstCreatePass||Ct(s,i),Pe(l,i);const b=s.initialInputs;for(let E=d;E<p;E++){const x=r.data[E],B=wi(x);B&&Ty(i,s,x);const q=cn(i,r,E,s);Pe(q,i),null!==b&&Gm(0,E-d,q,x,0,b),B&&(Et(s.index,i)[8]=q)}}(r,i,s,L(s,i)),128==(128&s.flags)&&function(r,i,s){const l=s.directiveStart,d=s.directiveEnd,b=s.index,E=on.lFrame.currentDirectiveIndex;try{ds(b);for(let x=l;x<d;x++){const B=r.data[x],q=i[x];Dn(x),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&zh(B,q)}}finally{ds(-1),Dn(E)}}(r,i,s))}function Dp(r,i,s=L){const l=i.localNames;if(null!==l){let d=i.index+1;for(let p=0;p<l.length;p+=2){const b=l[p+1],E=-1===b?s(i,r):r[b];r[d++]=E}}}function Cp(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=th(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function th(r,i,s,l,d,p,b,E,x,B){const q=20+l,ae=q+d,pe=function(r,i){const s=[];for(let l=0;l<i;l++)s.push(l<r?null:Yn);return s}(q,ae),Ae="function"==typeof B?B():B;return pe[1]={type:r,blueprint:pe,template:s,queries:null,viewQuery:E,declTNode:i,data:pe.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:x,consts:Ae,incompleteFirstPass:!1}}function Vm(r,i,s,l){const d=Zh(i);null===s?d.push(l):(d.push(s),r.firstCreatePass&&Ym(r).push(l,d.length-1))}function Bm(r,i,s){for(let l in r)if(r.hasOwnProperty(l)){const d=r[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(i,d):s[l]=[i,d]}return s}function Xo(r,i,s,l,d,p,b,E){const x=L(i,s);let q,B=i.inputs;!E&&null!=B&&(q=B[l])?(Jh(r,s,q,l,d),Vi(i)&&function(r,i){const s=Et(i,r);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(l=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),d=null!=b?b(d,i.value||"",l):d,U(p)?p.setProperty(x,l,d):Fa(l)||(x.setProperty?x.setProperty(l,d):x[l]=d))}function Np(r,i,s,l){let d=!1;if(Ro()){const p=function(r,i,s){const l=r.directiveRegistry;let d=null;if(l)for(let p=0;p<l.length;p++){const b=l[p];Sm(s,b.selectors,!1)&&(d||(d=[]),S(Ct(s,i),r,b.type),wi(b)?($m(r,s),d.unshift(b)):d.push(b))}return d}(r,i,s),b=null===l?null:{"":-1};if(null!==p){d=!0,Hm(s,r.data.length,p.length);for(let q=0;q<p.length;q++){const ae=p[q];ae.providersResolver&&ae.providersResolver(ae)}let E=!1,x=!1,B=zu(r,i,p.length,null);for(let q=0;q<p.length;q++){const ae=p[q];s.mergedAttrs=zo(s.mergedAttrs,ae.hostAttrs),Pp(r,s,i,B,ae),Op(B,ae,b),null!==ae.contentQueries&&(s.flags|=8),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(s.flags|=128);const pe=ae.type.prototype;!E&&(pe.ngOnChanges||pe.ngOnInit||pe.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(s.index),E=!0),!x&&(pe.ngOnChanges||pe.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(s.index),x=!0),B++}!function(r,i){const l=i.directiveEnd,d=r.data,p=i.attrs,b=[];let E=null,x=null;for(let B=i.directiveStart;B<l;B++){const q=d[B],ae=q.inputs,pe=null===p||cp(i)?null:Wm(ae,p);b.push(pe),E=Bm(ae,B,E),x=Bm(q.outputs,B,x)}null!==E&&(E.hasOwnProperty("class")&&(i.flags|=16),E.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=b,i.inputs=E,i.outputs=x}(r,s)}b&&function(r,i,s){if(i){const l=r.localNames=[];for(let d=0;d<i.length;d+=2){const p=s[i[d+1]];if(null==p)throw new ke("301",`Export of name '${i[d+1]}' not found!`);l.push(i[d],p)}}}(s,l,b)}return s.mergedAttrs=zo(s.mergedAttrs,s.attrs),d}function jm(r,i,s,l,d,p){const b=p.hostBindings;if(b){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const x=~i.index;(function(r){let i=r.length;for(;i>0;){const s=r[--i];if("number"==typeof s&&s<0)return s}return 0})(E)!=x&&E.push(x),E.push(l,d,b)}}function zh(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function $m(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function Op(r,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=r;wi(i)&&(s[""]=r)}}function Hm(r,i,s){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+s,r.providerIndexes=i}function Pp(r,i,s,l,d){r.data[l]=d;const p=d.factory||(d.factory=ts(d.type)),b=new hs(p,wi(d),null);r.blueprint[l]=b,s[l]=b,jm(r,i,0,l,zu(r,s,d.hostVars,Yn),d)}function Ty(r,i,s){const l=L(i,r),d=Cp(s),p=r[10],b=vd(r,eh(r,d,null,s.onPush?64:16,l,i,p,p.createRenderer(l,s),null,null));r[i.index]=b}function qh(r,i,s,l,d,p,b){if(null==p)U(r)?r.removeAttribute(i,d,s):i.removeAttribute(d);else{const E=null==b?$e(p):b(p,l||"",d);U(r)?r.setAttribute(i,d,E,s):s?i.setAttributeNS(s,d,E):i.setAttribute(d,E)}}function Gm(r,i,s,l,d,p){const b=p[i];if(null!==b){const E=l.setInput;for(let x=0;x<b.length;){const B=b[x++],q=b[x++],ae=b[x++];null!==E?l.setInput(s,ae,B,q):s[q]=ae}}}function Wm(r,i){let s=null,l=0;for(;l<i.length;){const d=i[l];if(0!==d)if(5!==d){if("number"==typeof d)break;r.hasOwnProperty(d)&&(null===s&&(s=[]),s.push(d,r[d],i[l+1])),l+=2}else l+=2;else l+=4}return s}function zm(r,i,s,l){return new Array(r,!0,!1,i,null,0,l,s,null,null)}function kp(r,i){const s=Et(i,r);if(ir(s)){const l=s[1];80&s[2]?Yu(l,s,l.template,s[8]):s[5]>0&&rh(s)}}function rh(r){for(let l=Vu(r);null!==l;l=Bu(l))for(let d=10;d<l.length;d++){const p=l[d];if(1024&p[2]){const b=p[1];Yu(b,p,b.template,p[8])}else p[5]>0&&rh(p)}const s=r[1].components;if(null!==s)for(let l=0;l<s.length;l++){const d=Et(s[l],r);ir(d)&&d[5]>0&&rh(d)}}function Fp(r,i){const s=Et(i,r),l=s[1];(function(r,i){for(let s=i.length;s<r.blueprint.length;s++)i.push(r.blueprint[s])})(l,s),qu(l,s,s[8])}function vd(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Lp(r){for(;r;){r[2]|=64;const i=Ic(r);if(Nr(r)&&!i)return r;r=i}return null}function ih(r,i,s){const l=i[10];l.begin&&l.begin();try{Yu(r,i,r.template,s)}catch(d){throw Qh(i,d),d}finally{l.end&&l.end()}}function Bp(r){!function(r){for(let i=0;i<r.components.length;i++){const s=r.components[i],l=yt(s),d=l[1];Lm(d,l,d.template,s)}}(r[8])}function jp(r,i,s){vr(0),i(r,s)}const My=(()=>Promise.resolve(null))();function Zh(r){return r[7]||(r[7]=[])}function Ym(r){return r.cleanup||(r.cleanup=[])}function Qh(r,i){const s=r[9],l=s?s.get(m,null):null;l&&l.handleError(i)}function Jh(r,i,s,l,d){for(let p=0;p<s.length;){const b=s[p++],E=s[p++],x=i[b],B=r.data[b];null!==B.setInput?B.setInput(x,d,l,E):x[E]=d}}function sh(r,i,s){let l=s?r.styles:null,d=s?r.classes:null,p=0;if(null!==i)for(let b=0;b<i.length;b++){const E=i[b];"number"==typeof E?p=E:1==p?d=se(d,E):2==p&&(l=se(l,E+": "+i[++b]+";"))}s?r.styles=l:r.stylesWithoutHost=l,s?r.classes=d:r.classesWithoutHost=d}const ga=new ni("INJECTOR",-1);class Xh{get(i,s=al){if(s===al){const l=new Error(`NullInjectorError: No provider for ${he(i)}!`);throw l.name="NullInjectorError",l}return s}}const oh=new ni("Set Injector scope."),Oc={},xy={};let Hp;function ef(){return void 0===Hp&&(Hp=new Xh),Hp}function tf(r,i=null,s=null,l){return new Py(r,s,i||ef(),l)}class Py{constructor(i,s,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];s&&Ys(s,E=>this.processProvider(E,i,s)),Ys([i],E=>this.processInjectorType(E,[],p)),this.records.set(ga,Ku(void 0,this));const b=this.records.get(oh);this.scope=null!=b?b.value:null,this.source=d||("object"==typeof i?null:he(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=al,l=jt.Default){this.assertNotDestroyed();const d=ll(this),p=jr(void 0);try{if(!(l&jt.SkipSelf)){let E=this.records.get(i);if(void 0===E){const x=("function"==typeof(r=i)||"object"==typeof r&&r instanceof ni)&&An(i);E=x&&this.injectableDefInScope(x)?Ku(ah(i),Oc):null,this.records.set(i,E)}if(null!=E)return this.hydrate(i,E)}return(l&jt.Self?ef():this.parent).get(i,s=l&jt.Optional&&s===al?null:s)}catch(b){if("NullInjectorError"===b.name){if((b[Ta]=b[Ta]||[]).unshift(he(i)),d)throw b;return Ks(b,i,"R3InjectorError",this.source)}throw b}finally{jr(p),ll(d)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,d)=>i.push(he(d))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,s,l){if(!(i=ie(i)))return!1;let d=_r(i);const p=null==d&&i.ngModule||void 0,b=void 0===p?i:p,E=-1!==l.indexOf(b);if(void 0!==p&&(d=_r(p)),null==d)return!1;if(null!=d.imports&&!E){let q;l.push(b);try{Ys(d.imports,ae=>{this.processInjectorType(ae,s,l)&&(void 0===q&&(q=[]),q.push(ae))})}finally{}if(void 0!==q)for(let ae=0;ae<q.length;ae++){const{ngModule:pe,providers:Ae}=q[ae];Ys(Ae,Le=>this.processProvider(Le,pe,Ae||Ee))}}this.injectorDefTypes.add(b);const x=ts(b)||(()=>new b);this.records.set(b,Ku(x,Oc));const B=d.providers;if(null!=B&&!E){const q=i;Ys(B,ae=>this.processProvider(ae,q,B))}return void 0!==p&&void 0!==i.providers}processProvider(i,s,l){let d=Qu(i=ie(i))?i:ie(i&&i.provide);const p=zp(r=i)?Ku(void 0,r.useValue):Ku(Wp(r),Oc);var r;if(Qu(i)||!0!==i.multi)this.records.get(d);else{let b=this.records.get(d);b||(b=Ku(void 0,Oc,!0),b.factory=()=>lo(b.multi),this.records.set(d,b)),d=i,b.multi.push(i)}this.records.set(d,p)}hydrate(i,s){return s.value===Oc&&(s.value=xy,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(r=s.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const s=ie(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function ah(r){const i=An(r),s=null!==i?i.factory:ts(r);if(null!==s)return s;if(r instanceof ni)throw new Error(`Token ${he(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const l=Us(i,"?");throw new Error(`Can't resolve all parameters for ${he(r)}: (${l.join(", ")}).`)}const s=function(r){const i=r&&(r[Mn]||r[En]);if(i){const s=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(r);return null!==s?()=>s.factory(r):()=>new r}(r);throw new Error("unreachable")}function Wp(r,i,s){let l;if(Qu(r)){const d=ie(r);return ts(d)||ah(d)}if(zp(r))l=()=>ie(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...lo(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))l=()=>gi(ie(r.useExisting));else{const d=ie(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return ts(d)||ah(d);l=()=>new d(...lo(r.deps))}return l}function Ku(r,i,s=!1){return{factory:r,value:i,multi:s?[]:void 0}}function zp(r){return null!==r&&"object"==typeof r&&Aa in r}function Qu(r){return"function"==typeof r}const Kp=function(r,i,s){return function(r,i=null,s=null,l){const d=tf(r,i,s,l);return d._resolveInjectorDefTypes(),d}({name:s},i,r,s)};let Qi=(()=>{class r{static create(s,l){return Array.isArray(s)?Kp(s,l,""):Kp(s.providers,s.parent,s.name||"")}}return r.THROW_IF_NOT_FOUND=al,r.NULL=new Xh,r.\u0275prov=Ht({token:r,providedIn:"any",factory:()=>gi(ga)}),r.__NG_ELEMENT_ID__=-1,r})();function Yy(r,i){pi(yt(r)[1],Xr())}function Ja(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),s=!0;const l=[r];for(;i;){let d;if(wi(r))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");d=i.\u0275dir}if(d){if(s){l.push(d);const b=r;b.inputs=cg(r.inputs),b.declaredInputs=cg(r.declaredInputs),b.outputs=cg(r.outputs);const E=d.hostBindings;E&&e_(r,E);const x=d.viewQuery,B=d.contentQueries;if(x&&df(r,x),B&&Xm(r,B),ge(r.inputs,d.inputs),ge(r.declaredInputs,d.declaredInputs),ge(r.outputs,d.outputs),wi(d)&&d.data.animation){const q=r.data;q.animation=(q.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let b=0;b<p.length;b++){const E=p[b];E&&E.ngInherit&&E(r),E===Ja&&(s=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,s=null;for(let l=r.length-1;l>=0;l--){const d=r[l];d.hostVars=i+=d.hostVars,d.hostAttrs=zo(d.hostAttrs,s=zo(s,d.hostAttrs))}}(l)}function cg(r){return r===Bn?{}:r===Ee?[]:r}function df(r,i){const s=r.viewQuery;r.viewQuery=s?(l,d)=>{i(l,d),s(l,d)}:i}function Xm(r,i){const s=r.contentQueries;r.contentQueries=s?(l,d,p)=>{i(l,d,p),s(l,d,p)}:i}function e_(r,i){const s=r.hostBindings;r.hostBindings=s?(l,d)=>{i(l,d),s(l,d)}:i}let hf=null;function Ni(){if(!hf){const r=ar.Symbol;if(r&&r.iterator)hf=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const l=i[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(hf=l)}}}return hf}class Bl{constructor(i){this.wrapped=i}static wrap(i){return new Bl(i)}static unwrap(i){return Bl.isWrapped(i)?i.wrapped:i}static isWrapped(i){return i instanceof Bl}}function as(r){return!!hg(r)&&(Array.isArray(r)||!(r instanceof Map)&&Ni()in r)}function hg(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function wl(r,i,s){return r[i]=s}function Vo(r,i,s){return!Object.is(r[i],s)&&(r[i]=s,!0)}function Fc(r,i,s,l){const d=Vo(r,i,s);return Vo(r,i+1,l)||d}function fg(r,i,s,l){const d=mt();return Vo(d,lt(),i)&&(Un(),function(r,i,s,l,d,p){const b=L(r,i);qh(i[11],b,p,r.value,s,l,d)}(Gr(),d,r,i,s,l)),fg}function Lc(r,i,s,l){return Vo(r,lt(),s)?i+$e(s)+l:Yn}function ea(r,i,s,l,d,p,b,E,x,B){const ae=function(r,i,s,l,d,p){const b=Fc(r,i,s,l);return Fc(r,i+2,d,p)||b}(r,Ne(),s,d,b,x);return Dt(4),ae?i+$e(s)+l+$e(d)+p+$e(b)+E+$e(x)+B:Yn}function r_(r,i,s,l,d,p,b,E){const x=mt(),B=Un(),q=r+20,ae=B.firstCreatePass?function(r,i,s,l,d,p,b,E,x){const B=i.consts,q=Wu(i,r,4,b||null,ui(B,E));Np(i,s,q,ui(B,x)),pi(i,q);const ae=q.tViews=th(2,q,l,d,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,B);return null!==i.queries&&(i.queries.template(i,q),ae.queries=i.queries.embeddedTView(q)),q}(q,B,x,i,s,l,d,p,b):B.data[q];qs(ae,!1);const pe=x[11].createComment("");uu(B,x,pe,ae),Pe(pe,x),vd(x,x[q]=zm(pe,x,pe,ae)),ii(ae)&&Ep(B,x,ae),null!=b&&Dp(x,ae,E)}function gf(r){return ze(on.lFrame.contextLView,20+r)}function ph(r,i=jt.Default){const s=mt();return null===s?gi(r,i):ee(Xr(),s,ie(r),i)}function Df(r,i,s){const l=mt();return Vo(l,lt(),i)&&Xo(Un(),Gr(),l,r,i,l[11],s,!1),Df}function Ig(r,i,s,l,d){const b=d?"class":"style";Jh(r,s,i.inputs[b],b,l)}function Cf(r,i,s,l){const d=mt(),p=Un(),b=20+r,E=d[11],x=d[b]=Jf(E,i,on.lFrame.currentNamespace),B=p.firstCreatePass?function(r,i,s,l,d,p,b){const E=i.consts,B=Wu(i,r,2,d,ui(E,p));return Np(i,s,B,ui(E,b)),null!==B.attrs&&sh(B,B.attrs,!1),null!==B.mergedAttrs&&sh(B,B.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,B),B}(b,p,d,0,i,s,l):p.data[b];qs(B,!0);const q=B.mergedAttrs;null!==q&&bn(E,x,q);const ae=B.classes;null!==ae&&hd(E,x,ae);const pe=B.styles;null!==pe&&dd(E,x,pe),64!=(64&B.flags)&&uu(p,d,x,B),0===on.lFrame.elementDepthCount&&Pe(x,d),on.lFrame.elementDepthCount++,ii(B)&&(Ep(p,d,B),Hh(p,B,d)),null!==l&&Dp(d,B)}function Sg(){let r=Xr();K()?C():(r=r.parent,qs(r,!1));const i=r;on.lFrame.elementDepthCount--;const s=Un();s.firstCreatePass&&(pi(s,r),Ws(r)&&s.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&Ig(s,i,mt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&Ig(s,i,mt(),i.stylesWithoutHost,!1)}function Bc(r,i,s,l){Cf(r,i,s,l),Sg()}function Ng(r,i,s){const l=mt(),d=Un(),p=r+20,b=d.firstCreatePass?function(r,i,s,l,d){const p=i.consts,b=ui(p,l),E=Wu(i,r,8,"ng-container",b);return null!==b&&sh(E,b,!0),Np(i,s,E,ui(p,d)),null!==i.queries&&i.queries.elementStart(i,E),E}(p,d,l,i,s):d.data[p];qs(b,!0);const E=l[p]=l[11].createComment("");uu(d,l,E,b),Pe(E,l),ii(b)&&(Ep(d,l,b),Hh(d,b,l)),null!=s&&Dp(l,b)}function Ag(){let r=Xr();const i=Un();K()?C():(r=r.parent,qs(r,!1)),i.firstCreatePass&&(pi(i,r),Ws(r)&&i.queries.elementEnd(r))}function y_(){return mt()}function Mg(r){return!!r&&"function"==typeof r.then}function v_(r){return!!r&&"function"==typeof r.subscribe}const b_=v_;function Rg(r,i,s,l){const d=mt(),p=Un(),b=Xr();return function(r,i,s,l,d,p,b,E){const x=ii(l),q=r.firstCreatePass&&Ym(r),ae=i[8],pe=Zh(i);let Ae=!0;if(3&l.type||E){const Qe=L(l,i),St=E?E(Qe):Qe,ft=pe.length,wn=E?jn=>E(Ie(jn[l.index])):l.index;if(U(s)){let jn=null;if(!E&&x&&(jn=function(r,i,s,l){const d=r.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const b=d[p];if(b===s&&d[p+1]===l){const E=i[7],x=d[p+2];return E.length>x?E[x]:null}"string"==typeof b&&(p+=2)}return null}(r,i,d,l.index)),null!==jn)(jn.__ngLastListenerFn__||jn).__ngNextListenerFn__=p,jn.__ngLastListenerFn__=p,Ae=!1;else{p=If(l,i,ae,p,!1);const Rr=s.listen(St,d,p);pe.push(p,Rr),q&&q.push(d,wn,ft,ft+1)}}else p=If(l,i,ae,p,!0),St.addEventListener(d,p,b),pe.push(p),q&&q.push(d,wn,ft,b)}else p=If(l,i,ae,p,!1);const Le=l.outputs;let at;if(Ae&&null!==Le&&(at=Le[d])){const Qe=at.length;if(Qe)for(let St=0;St<Qe;St+=2){const No=i[at[St]][at[St+1]].subscribe(p),Gl=pe.length;pe.push(p,No),q&&q.push(d,l.index,Gl,-(Gl+1))}}}(p,d,d[11],b,r,i,!!s,l),Rg}function xg(r,i,s,l){try{return!1!==s(l)}catch(d){return Qh(r,d),!1}}function If(r,i,s,l,d){return function p(b){if(b===Function)return l;const E=2&r.flags?Et(r.index,i):i;0==(32&i[2])&&Lp(E);let x=xg(i,0,l,b),B=p.__ngNextListenerFn__;for(;B;)x=xg(i,0,B,b)&&x,B=B.__ngNextListenerFn__;return d&&!1===x&&(b.preventDefault(),b.returnValue=!1),x}}function Md(r=1){return function(r){return(on.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,on.lFrame.contextLView))[8]}(r)}function Og(r,i){let s=null;const l=function(r){const i=r.attrs;if(null!=i){const s=i.indexOf(5);if(0==(1&s))return i[s+1]}return null}(r);for(let d=0;d<i.length;d++){const p=i[d];if("*"!==p){if(null===l?Sm(r,p,!0):py(l,p))return d}else s=d}return s}function E_(r){const i=mt()[16][6];if(!i.projection){const l=i.projection=Us(r?r.length:1,null),d=l.slice();let p=i.child;for(;null!==p;){const b=r?Og(p,r):0;null!==b&&(d[b]?d[b].projectionNext=p:l[b]=p,d[b]=p),p=p.next}}}function D_(r,i=0,s){const l=mt(),d=Un(),p=Wu(d,20+r,16,null,s||null);null===p.projection&&(p.projection=i),C(),64!=(64&p.flags)&&function(r,i,s){sp(i[11],0,i,s,ju(r,s,i),Em(s.parent||i[6],s,i))}(d,l,p)}function Sf(r,i,s){return Uc(r,"",i,"",s),Sf}function Uc(r,i,s,l,d){const p=mt(),b=Lc(p,i,s,l);return b!==Yn&&Xo(Un(),Gr(),p,r,b,p[11],d,!1),Uc}function T_(r,i,s,l,d){const p=r[s+1],b=null===i;let E=l?vl(p):cu(p),x=!1;for(;0!==E&&(!1===x||b);){const q=r[E+1];Vg(r[E],i)&&(x=!0,r[E+1]=l?pp(q):Yd(q)),E=l?vl(q):cu(q)}x&&(r[s+1]=l?Yd(p):pp(p))}function Vg(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Ua(r,i)>=0}const Xi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tc(r){return r.substring(Xi.key,Xi.keyEnd)}function I_(r,i){const s=Xi.textEnd;return s===i?-1:(i=Xi.keyEnd=function(r,i,s){for(;i<s&&r.charCodeAt(i)>32;)i++;return i}(r,Xi.key=i,s),Rd(r,i,s))}function Rd(r,i,s){for(;i<s&&r.charCodeAt(i)<=32;)i++;return i}function jg(r,i,s){return Cl(r,i,s,!1),jg}function _h(r,i){return Cl(r,i,null,!0),_h}function $g(r){el(ur,Dl,r,!0)}function Dl(r,i){for(let s=function(r){return function(r){Xi.key=0,Xi.keyEnd=0,Xi.value=0,Xi.valueEnd=0,Xi.textEnd=r.length}(r),I_(r,Rd(r,0,Xi.textEnd))}(i);s>=0;s=I_(i,s))ur(r,tc(i),!0)}function Cl(r,i,s,l){const d=mt(),p=Un(),b=Dt(2);p.firstUpdatePass&&R_(p,r,b,l),i!==Yn&&Vo(d,b,i)&&w(p,p.data[Ir()],d,d[11],r,d[b+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=he(Wa(r)))),r}(i,s),l,b)}function el(r,i,s,l){const d=Un(),p=Dt(2);d.firstUpdatePass&&R_(d,null,p,l);const b=mt();if(s!==Yn&&Vo(b,p,s)){const E=d.data[Ir()];if(me(E,l)&&!Hg(d,p)){let x=l?E.classesWithoutHost:E.stylesWithoutHost;null!==x&&(s=se(x,s||"")),Ig(d,E,b,s,l)}else!function(r,i,s,l,d,p,b,E){d===Yn&&(d=Ee);let x=0,B=0,q=0<d.length?d[0]:null,ae=0<p.length?p[0]:null;for(;null!==q||null!==ae;){const pe=x<d.length?d[x+1]:void 0,Ae=B<p.length?p[B+1]:void 0;let at,Le=null;q===ae?(x+=2,B+=2,pe!==Ae&&(Le=ae,at=Ae)):null===ae||null!==q&&q<ae?(x+=2,Le=q):(B+=2,Le=ae,at=Ae),null!==Le&&w(r,i,s,l,Le,at,b,E),q=x<d.length?d[x]:null,ae=B<p.length?p[B]:null}}(d,E,b,b[11],b[p+1],b[p+1]=function(r,i,s){if(null==s||""===s)return Ee;const l=[],d=Wa(s);if(Array.isArray(d))for(let p=0;p<d.length;p++)r(l,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&r(l,p,d[p]);else"string"==typeof d&&i(l,d);return l}(r,i,s),l,p)}}function Hg(r,i){return i>=r.expandoStartIndex}function R_(r,i,s,l){const d=r.data;if(null===d[s+1]){const p=d[Ir()],b=Hg(r,s);me(p,l)&&null===i&&!b&&(i=!1),i=function(r,i,s,l){const d=function(r){const i=on.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let p=l?i.residualClasses:i.residualStyles;if(null===d)0===(l?i.classBindings:i.styleBindings)&&(s=n(s=a(null,r,i,s,l),i.attrs,l),p=null);else{const b=i.directiveStylingLast;if(-1===b||r[b]!==d)if(s=a(d,r,i,s,l),null===p){let x=function(r,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==cu(l))return r[vl(l)]}(r,i,l);void 0!==x&&Array.isArray(x)&&(x=a(null,r,i,x[1],l),x=n(x,i.attrs,l),function(r,i,s,l){r[vl(s?i.classBindings:i.styleBindings)]=l}(r,i,l,x))}else p=function(r,i,s){let l;const d=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<d;p++)l=n(l,r[p].hostAttrs,s);return n(l,i.attrs,s)}(r,i,l)}return void 0!==p&&(l?i.residualClasses=p:i.residualStyles=p),s}(d,p,i,l),function(r,i,s,l,d,p){let b=p?i.classBindings:i.styleBindings,E=vl(b),x=cu(b);r[l]=s;let q,B=!1;if(Array.isArray(s)){const ae=s;q=ae[1],(null===q||Ua(ae,q)>0)&&(B=!0)}else q=s;if(d)if(0!==x){const pe=vl(r[E+1]);r[l+1]=pd(pe,E),0!==pe&&(r[pe+1]=Zd(r[pe+1],l)),r[E+1]=function(r,i){return 131071&r|i<<17}(r[E+1],l)}else r[l+1]=pd(E,0),0!==E&&(r[E+1]=Zd(r[E+1],l)),E=l;else r[l+1]=pd(x,0),0===E?E=l:r[x+1]=Zd(r[x+1],l),x=l;B&&(r[l+1]=Yd(r[l+1])),T_(r,q,l,!0),T_(r,q,l,!1),function(r,i,s,l,d){const p=d?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof i&&Ua(p,i)>=0&&(s[l+1]=pp(s[l+1]))}(i,q,r,l,p),b=pd(E,x),p?i.classBindings=b:i.styleBindings=b}(d,p,i,s,b,l)}}function a(r,i,s,l,d){let p=null;const b=s.directiveEnd;let E=s.directiveStylingLast;for(-1===E?E=s.directiveStart:E++;E<b&&(p=i[E],l=n(l,p.hostAttrs,d),p!==r);)E++;return null!==r&&(s.directiveStylingLast=E),l}function n(r,i,s){const l=s?1:2;let d=-1;if(null!==i)for(let p=0;p<i.length;p++){const b=i[p];"number"==typeof b?d=b:d===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ur(r,b,!!s||i[++p]))}return void 0===r?null:r}function w(r,i,s,l,d,p,b,E){if(!(3&i.type))return;const x=r.data,B=x[E+1];H(function(r){return 1==(1&r)}(B)?M(x,i,s,d,cu(B),b):void 0)||(H(p)||function(r){return 2==(2&r)}(B)&&(p=M(x,null,s,d,E,b)),function(r,i,s,l,d){const p=U(r);if(i)d?p?r.addClass(s,l):s.classList.add(l):p?r.removeClass(s,l):s.classList.remove(l);else{let b=-1===l.indexOf("-")?void 0:da.DashCase;if(null==d)p?r.removeStyle(s,l,b):s.style.removeProperty(l);else{const E="string"==typeof d&&d.endsWith("!important");E&&(d=d.slice(0,-10),b|=da.Important),p?r.setStyle(s,l,d,b):s.style.setProperty(l,d,E?"important":"")}}}(l,b,$(Ir(),s),d,p))}function M(r,i,s,l,d,p){const b=null===i;let E;for(;d>0;){const x=r[d],B=Array.isArray(x),q=B?x[1]:x,ae=null===q;let pe=s[d+1];pe===Yn&&(pe=ae?Ee:void 0);let Ae=ae?Wc(pe,l):q===l?pe:void 0;if(B&&!H(Ae)&&(Ae=Wc(x,l)),H(Ae)&&(E=Ae,b))return E;const Le=r[d+1];d=b?vl(Le):cu(Le)}if(null!==i){let x=p?i.residualClasses:i.residualStyles;null!=x&&(E=Wc(x,l))}return E}function H(r){return void 0!==r}function me(r,i){return 0!=(r.flags&(i?16:32))}function De(r,i=""){const s=mt(),l=Un(),d=r+20,p=l.firstCreatePass?Wu(l,d,1,i,null):l.data[d],b=s[d]=Kf(s[11],i);uu(l,s,b,p),qs(p,!1)}function Fe(r){return ct("",r,""),Fe}function ct(r,i,s){const l=mt(),d=Lc(l,r,i,s);return d!==Yn&&function(r,i,s){const l=$(i,r);Qf(r[11],l,s)}(l,Ir(),d),ct}function K0(r,i,s,l,d,p,b,E,x){el(ur,Dl,ea(mt(),r,i,s,l,d,p,b,E,x),!0)}function yv(r,i,s){const l=mt();return Vo(l,lt(),i)&&Xo(Un(),Gr(),l,r,i,l[11],s,!0),yv}const vh=void 0;var dE=["en",[["a","p"],["AM","PM"],vh],[["AM","PM"],vh,vh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vh,"{1} 'at' {0}",vh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),s=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let Mf={};function vv(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let s=lb(i);if(s)return s;const l=i.split("-")[0];if(s=lb(l),s)return s;if("en"===l)return dE;throw new Error(`Missing locale data for the locale "${r}".`)}function ab(r){return vv(r)[Pn.PluralCase]}function lb(r){return r in Mf||(Mf[r]=ar.ng&&ar.ng.common&&ar.ng.common.locales&&ar.ng.common.locales[r]),Mf[r]}var Pn=(()=>((Pn=Pn||{})[Pn.LocaleId=0]="LocaleId",Pn[Pn.DayPeriodsFormat=1]="DayPeriodsFormat",Pn[Pn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pn[Pn.DaysFormat=3]="DaysFormat",Pn[Pn.DaysStandalone=4]="DaysStandalone",Pn[Pn.MonthsFormat=5]="MonthsFormat",Pn[Pn.MonthsStandalone=6]="MonthsStandalone",Pn[Pn.Eras=7]="Eras",Pn[Pn.FirstDayOfWeek=8]="FirstDayOfWeek",Pn[Pn.WeekendRange=9]="WeekendRange",Pn[Pn.DateFormat=10]="DateFormat",Pn[Pn.TimeFormat=11]="TimeFormat",Pn[Pn.DateTimeFormat=12]="DateTimeFormat",Pn[Pn.NumberSymbols=13]="NumberSymbols",Pn[Pn.NumberFormats=14]="NumberFormats",Pn[Pn.CurrencyCode=15]="CurrencyCode",Pn[Pn.CurrencySymbol=16]="CurrencySymbol",Pn[Pn.CurrencyName=17]="CurrencyName",Pn[Pn.Currencies=18]="Currencies",Pn[Pn.Directionality=19]="Directionality",Pn[Pn.PluralCase=20]="PluralCase",Pn[Pn.ExtraData=21]="ExtraData",Pn))();const fE=["zero","one","two","few","many"],P_="en-US",k_={marker:"element"},F_={marker:"ICU"};var Gs=(()=>((Gs=Gs||{})[Gs.SHIFT=2]="SHIFT",Gs[Gs.APPEND_EAGERLY=1]="APPEND_EAGERLY",Gs[Gs.COMMENT=2]="COMMENT",Gs))();let ub=P_;function bv(r){(function(r,i){null==r&&Lt(i,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(ub=r.toLowerCase().replace(/_/g,"-"))}function cb(r,i,s){const l=i.insertBeforeIndex,d=Array.isArray(l)?l[0]:l;return null===d?Dm(r,0,s):Ie(s[d])}function db(r,i,s,l,d){const p=i.insertBeforeIndex;if(Array.isArray(p)){let b=l,E=null;if(3&i.type||(E=b,b=d),null!==b&&0==(2&i.flags))for(let x=1;x<p.length;x++)qa(r,b,s[p[x]],E,!1)}}function hb(r,i){if(r.push(i),r.length>1)for(let s=r.length-2;s>=0;s--){const l=r[s];fb(l)||_E(l,i)&&null===yE(l)&&vE(l,i.index)}}function fb(r){return!(64&r.type)}function _E(r,i){return fb(i)||r.index>i.index}function yE(r){const i=r.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function vE(r,i){const s=r.insertBeforeIndex;Array.isArray(s)?s[0]=i:(zd(cb,db),r.insertBeforeIndex=i)}function Gg(r,i){const s=r.data[i];return null===s||"string"==typeof s?null:s.hasOwnProperty("currentCaseLViewIndex")?s:s.value}function EE(r,i,s){const l=wp(r,s,64,null,null);return hb(i,l),l}function L_(r,i){const s=i[r.currentCaseLViewIndex];return null===s?s:s<0?~s:s}function pb(r){return r>>>17}function gb(r){return(131070&r)>>>1}let Wg=0,zg=0;function _b(r,i,s,l){const d=s[11];let b,p=null;for(let E=0;E<i.length;E++){const x=i[E];if("string"==typeof x){const B=i[++E];null===s[B]&&(s[B]=Kf(d,x))}else if("number"==typeof x)switch(1&x){case 0:const B=pb(x);let q,ae;if(null===p&&(p=B,b=cd(d,l)),B===p?(q=l,ae=b):(q=null,ae=Ie(s[B])),null!==ae){const at=gb(x);qa(d,ae,s[at],q,!1);const St=Gg(r,at);if(null!==St&&"object"==typeof St){const ft=L_(St,s);null!==ft&&_b(r,St.create[ft],s,s[St.anchorIdx])}}break;case 1:const Ae=i[++E],Le=i[++E];qh(d,$(x>>>1,s),null,null,Ae,Le,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${x}"`)}else switch(x){case F_:const B=i[++E],q=i[++E];null===s[q]&&Pe(s[q]=gm(d,B),s);break;case k_:const ae=i[++E],pe=i[++E];null===s[pe]&&Pe(s[pe]=Jf(d,ae,null),s)}}}function yb(r,i,s,l,d){for(let p=0;p<s.length;p++){const b=s[p],E=s[++p];if(b&d){let x="";for(let B=p+1;B<=p+E;B++){const q=s[B];if("string"==typeof q)x+=q;else if("number"==typeof q)if(q<0)x+=$e(i[l-q]);else{const ae=q>>>2;switch(3&q){case 1:const pe=s[++B],Ae=s[++B],Le=r.data[ae];"string"==typeof Le?qh(i[11],i[ae],null,Le,pe,x,Ae):Xo(r,Le,i,pe,x,i[11],Ae,!1);break;case 0:const at=i[ae];null!==at&&Qf(i[11],at,x);break;case 2:SE(r,Gg(r,ae),i,x);break;case 3:vb(r,Gg(r,ae),l,i)}}}}else{const x=s[p+1];if(x>0&&3==(3&x)){const q=Gg(r,x>>>2);i[q.currentCaseLViewIndex]<0&&vb(r,q,l,i)}}p+=E}}function vb(r,i,s,l){let d=l[i.currentCaseLViewIndex];if(null!==d){let p=Wg;d<0&&(d=l[i.currentCaseLViewIndex]=~d,p=-1),yb(r,l,i.update[d],s,p)}}function SE(r,i,s,l){const d=function(r,i){let s=r.cases.indexOf(i);if(-1===s)switch(r.type){case 1:{const l=function(r,i){const s=ab(i)(parseInt(r,10)),l=fE[s];return void 0!==l?l:"other"}(i,ub);s=r.cases.indexOf(l),-1===s&&"other"!==l&&(s=r.cases.indexOf("other"));break}case 0:s=r.cases.indexOf("other")}return-1===s?null:s}(i,l);if(L_(i,s)!==d&&(bb(r,i,s),s[i.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const b=s[i.anchorIdx];b&&_b(r,i.create[d],s,b)}}function bb(r,i,s){let l=L_(i,s);if(null!==l){const d=i.remove[l];for(let p=0;p<d.length;p++){const b=d[p];if(b>0){const E=$(b,s);null!==E&&ip(s[11],E)}else bb(r,Gg(r,~b),s)}}}function AE(){const r=[];let s,l,i=-1;function p(E,x){i=0;const B=L_(E,x);l=null!==B?E.remove[B]:Ee}function b(){if(i<l.length){const E=l[i++];return E>0?s[E]:(r.push(i,l),p(s[1].data[~E],s),b())}return 0===r.length?null:(l=r.pop(),i=r.pop(),b())}return function(E,x){for(s=x;r.length;)r.pop();return p(E.value,x),b}}const V_=/\ufffd(\d+):?\d*\ufffd/gi,RE=/\ufffd(\d+)\ufffd/,Eb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,xE=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,OE=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,PE=/\uE500/g;function Db(r,i,s,l,d,p,b){const E=zu(r,l,1,null);let x=E<<Gs.SHIFT,B=no();i===B&&(B=null),null===B&&(x|=Gs.APPEND_EAGERLY),b&&(x|=Gs.COMMENT,function(r){void 0===ha&&(ha=r())}(AE)),d.push(x,null===p?"":p);const q=wp(r,E,b?32:1,null===p?"":p,null);hb(s,q);const ae=q.index;return qs(q,!1),null!==B&&i!==B&&function(r,i){let s=r.insertBeforeIndex;null===s?(zd(cb,db),s=r.insertBeforeIndex=[null,i]):(function(r,i,s){r!=i&&Lt(s,r,i,"==")}(Array.isArray(s),!0,"Expecting array here"),s.push(i))}(B,ae),q}function LE(r,i,s,l,d,p,b){const E=b.match(V_),x=Db(r,i,s,p,l,E?null:b,!1);E&&Rf(d,b,x.index,null,0,null)}function Rf(r,i,s,l,d,p){const b=r.length,E=b+1;r.push(null,null);const x=b+2,B=i.split(V_);let q=0;for(let ae=0;ae<B.length;ae++){const pe=B[ae];if(1&ae){const Ae=d+parseInt(pe,10);r.push(-1-Ae),q|=Cb(Ae)}else""!==pe&&r.push(pe)}return r.push(s<<2|(l?1:0)),l&&r.push(l,p),r[b]=q,r[E]=r.length-x,q}function Cb(r){return 1<<Math.min(r,31)}function Tb(r){let i,p,s="",l=0,d=!1;for(;null!==(i=xE.exec(r));)d?i[0]===`\ufffd/*${p}\ufffd`&&(l=i.index,d=!1):(s+=r.substring(l,i.index+i[0].length),p=i[1],d=!0);return s+=r.substr(l),s}function Ib(r,i,s,l,d,p){let b=0;const E={type:d.type,currentCaseLViewIndex:zu(r,i,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function(r,i,s){r.push(Cb(i.mainBinding),2,-1-i.mainBinding,s<<2|2)})(s,d,p),function(r,i,s){const l=r.data[i];null===l?r.data[i]=s:l.value=s}(r,p,E);const x=d.values;for(let B=0;B<x.length;B++){const q=x[B],ae=[];for(let pe=0;pe<q.length;pe++){const Ae=q[pe];if("string"!=typeof Ae){const Le=ae.push(Ae)-1;q[pe]=`\x3c!--\ufffd${Le}\ufffd--\x3e`}}b=HE(r,E,i,s,l,d.cases[B],q.join(""),ae)|b}b&&function(r,i,s){r.push(i,1,s<<2|3)}(s,b,p)}function $E(r){const i=[],s=[];let l=1,d=0;const p=wv(r=r.replace(Eb,function(b,E,x){return l="select"===x?0:1,d=parseInt(E.substr(1),10),""}));for(let b=0;b<p.length;){let E=p[b++].trim();1===l&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&i.push(E);const x=wv(p[b++]);i.length>s.length&&s.push(x)}return{type:l,mainBinding:d,cases:i,values:s}}function wv(r){if(!r)return[];let i=0;const s=[],l=[],d=/[{}]/g;let p;for(d.lastIndex=0;p=d.exec(r);){const E=p.index;if("}"==p[0]){if(s.pop(),0==s.length){const x=r.substring(i,E);Eb.test(x)?l.push($E(x)):l.push(x),i=E+1}}else{if(0==s.length){const x=r.substring(i,E);l.push(x),i=E+1}s.push("{")}}const b=r.substring(i);return l.push(b),l}function HE(r,i,s,l,d,p,b,E){const x=[],B=[],q=[];i.cases.push(p),i.create.push(x),i.remove.push(B),i.update.push(q);const pe=mi(Er()).getInertBodyElement(b),Ae=za(pe)||pe;return Ae?Sb(r,i,s,l,x,B,q,Ae,d,E,0):0}function Sb(r,i,s,l,d,p,b,E,x,B,q){let ae=0,pe=E.firstChild;for(;pe;){const Ae=zu(r,s,1,null);switch(pe.nodeType){case Node.ELEMENT_NODE:const Le=pe,at=Le.tagName.toLowerCase();if(Ec.hasOwnProperty(at)){Ev(d,k_,at,x,Ae),r.data[Ae]=at;const wn=Le.attributes;for(let jn=0;jn<wn.length;jn++){const Rr=wn.item(jn),No=Rr.name.toLowerCase();Rr.value.match(V_)?td.hasOwnProperty(No)&&Rf(b,Rr.value,Ae,Rr.name,0,ku[No]?fl:ml[No]?ed:null):qE(d,Ae,Rr)}ae=Sb(r,i,s,l,d,p,b,pe,Ae,B,q+1)|ae,Nb(p,Ae,q)}break;case Node.TEXT_NODE:const Qe=pe.textContent||"",St=Qe.match(V_);Ev(d,null,St?"":Qe,x,Ae),Nb(p,Ae,q),St&&(ae=Rf(b,Qe,Ae,null,0,null)|ae);break;case Node.COMMENT_NODE:const ft=RE.exec(pe.textContent||"");if(ft){const jn=B[parseInt(ft[1],10)];Ev(d,F_,"",x,Ae),Ib(r,s,l,x,jn,Ae),GE(p,Ae,q)}}pe=pe.nextSibling}return ae}function Nb(r,i,s){0===s&&r.push(i)}function GE(r,i,s){0===s&&(r.push(~i),r.push(i))}function Ev(r,i,s,l,d){null!==i&&r.push(i),r.push(s,d,function(r,i,s){return 0|i<<17|s<<1}(0,l,d))}function qE(r,i,s){r.push(i<<1|1,s.name,s.value)}function Mb(r,i,s=-1){const l=Un(),d=mt(),p=20+r,b=ui(l.consts,i),E=no();l.firstCreatePass&&function(r,i,s,l,d,p){const b=no(),E=[],x=[],B=[[]],q=function(r){return r.replace(PE," ")}(d=function(r,i){if(function(r){return-1===r}(i))return Tb(r);{const s=r.indexOf(`:${i}\ufffd`)+2+i.toString().length,l=r.search(new RegExp(`\ufffd\\/\\*\\d+:${i}\ufffd`));return Tb(r.substring(s,l))}}(d,p)).split(OE);for(let ae=0;ae<q.length;ae++){let pe=q[ae];if(0==(1&ae)){const Ae=wv(pe);for(let Le=0;Le<Ae.length;Le++){let at=Ae[Le];if(0==(1&Le)){const Qe=at;""!==Qe&&LE(r,b,B[0],E,x,s,Qe)}else{const Qe=at;if("object"!=typeof Qe)throw new Error(`Unable to parse ICU expression in "${d}" message.`);Ib(r,s,x,i,Qe,Db(r,b,B[0],s,E,"",!0).index)}}}else{const Ae=47===pe.charCodeAt(0),at=(pe.charCodeAt(Ae?1:0),20+Number.parseInt(pe.substring(Ae?2:1)));if(Ae)B.shift(),qs(no(),!1);else{const Qe=EE(r,B[0],at);B.unshift([]),qs(Qe,!0)}}}r.data[l]={create:E,update:x}}(l,null===E?0:E.index,d,p,b,s);const x=l.data[p],q=bm(l,E===d[6]?null:E,d);(function(r,i,s,l){const d=r[11];for(let p=0;p<i.length;p++){const b=i[p++],E=i[p],x=(b&Gs.COMMENT)===Gs.COMMENT,B=(b&Gs.APPEND_EAGERLY)===Gs.APPEND_EAGERLY,q=b>>>Gs.SHIFT;let ae=r[q];null===ae&&(ae=r[q]=x?d.createComment(E):Kf(d,E)),B&&null!==s&&qa(d,s,ae,l,!1)}})(d,x.create,q,E&&8&E.type?d[E.index]:null),Tn(!0)}function xb(r,i,s){Mb(r,i,s),Tn(!1)}function Dv(r){return function(r){r&&(Wg|=1<<Math.min(zg,31)),zg++}(Vo(mt(),lt(),r)),Dv}function Ob(r){!function(r,i,s){if(zg>0){const l=r.data[s];yb(r,i,Array.isArray(l)?l:l.update,Ne()-zg-1,Wg)}Wg=0,zg=0}(Un(),mt(),r+20)}function Cv(r,i,s,l,d){if(r=ie(r),Array.isArray(r))for(let p=0;p<r.length;p++)Cv(r[p],i,s,l,d);else{const p=Un(),b=mt();let E=Qu(r)?r:ie(r.provide),x=Wp(r);const B=Xr(),q=1048575&B.providerIndexes,ae=B.directiveStart,pe=B.providerIndexes>>20;if(Qu(r)||!r.multi){const Ae=new hs(x,d,ph),Le=Iv(E,i,d?q:q+pe,ae);-1===Le?(S(Ct(B,b),p,E),Tv(p,r,i.length),i.push(E),B.directiveStart++,B.directiveEnd++,d&&(B.providerIndexes+=1048576),s.push(Ae),b.push(Ae)):(s[Le]=Ae,b[Le]=Ae)}else{const Ae=Iv(E,i,q+pe,ae),Le=Iv(E,i,q,q+pe),at=Ae>=0&&s[Ae],Qe=Le>=0&&s[Le];if(d&&!Qe||!d&&!at){S(Ct(B,b),p,E);const St=function(r,i,s,l,d){const p=new hs(r,s,ph);return p.multi=[],p.index=i,p.componentProviders=0,Pb(p,d,l&&!s),p}(d?oD:sD,s.length,d,l,x);!d&&Qe&&(s[Le].providerFactory=St),Tv(p,r,i.length,0),i.push(E),B.directiveStart++,B.directiveEnd++,d&&(B.providerIndexes+=1048576),s.push(St),b.push(St)}else Tv(p,r,Ae>-1?Ae:Le,Pb(s[d?Le:Ae],x,!d&&l));!d&&l&&Qe&&s[Le].componentProviders++}}}function Tv(r,i,s,l){const d=Qu(i);if(d||function(r){return!!r.useClass}(i)){const b=(i.useClass||i).prototype.ngOnDestroy;if(b){const E=r.destroyHooks||(r.destroyHooks=[]);if(!d&&i.multi){const x=E.indexOf(s);-1===x?E.push(s,[l,b]):E[x+1].push(l,b)}else E.push(s,b)}}}function Pb(r,i,s){return s&&r.componentProviders++,r.multi.push(i)-1}function Iv(r,i,s,l){for(let d=s;d<l;d++)if(i[d]===r)return d;return-1}function sD(r,i,s,l){return Sv(this.multi,[])}function oD(r,i,s,l){const d=this.multi;let p;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=cn(s,s[1],this.providerFactory.index,l);p=E.slice(0,b),Sv(d,p);for(let x=b;x<E.length;x++)p.push(E[x])}else p=[],Sv(d,p);return p}function Sv(r,i){for(let s=0;s<r.length;s++)i.push((0,r[s])());return i}function kb(r,i=[]){return s=>{s.providersResolver=(l,d)=>function(r,i,s){const l=Un();if(l.firstCreatePass){const d=wi(r);Cv(s,l.data,l.blueprint,d,!0),Cv(i,l.data,l.blueprint,d,!1)}}(l,d?d(r):r,i)}}class Fb{}const Vb="ngComponent";class uD{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${he(r)}. Did you add it to @NgModule.entryComponents?`);return i[Vb]=r,i}(i)}}let xf=(()=>{class r{}return r.NULL=new uD,r})();function B_(...r){}function Of(r,i){return new nc(L(r,i))}const hD=function(){return Of(Xr(),mt())};let nc=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=hD,r})();function Bb(r){return r instanceof nc?r.nativeElement:r}class U_{}let fD=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>gD(),r})();const gD=function(){const r=mt(),s=Et(Xr().index,r);return function(r){return r[11]}(bi(s)?s:r)};let Av=(()=>{class r{}return r.\u0275prov=Ht({token:r,providedIn:"root",factory:()=>null}),r})();class Ub{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Mv=new Ub("12.2.6");class jb{constructor(){}supports(i){return as(i)}create(i){return new vD(i)}}const yD=(r,i)=>i;class vD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||yD}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,d=0,p=null;for(;s||l;){const b=!l||s&&s.currentIndex<Hb(l,d,p)?s:l,E=Hb(b,d,p),x=b.currentIndex;if(b===l)d--,l=l._nextRemoved;else if(s=s._next,null==b.previousIndex)d++;else{p||(p=[]);const B=E-d,q=x-d;if(B!=q){for(let pe=0;pe<B;pe++){const Ae=pe<p.length?p[pe]:p[pe]=0,Le=Ae+pe;q<=Le&&Le<B&&(p[pe]=Ae+1)}p[b.previousIndex]=q-B}}E!==x&&i(b,E,x)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!as(i))throw new Error(`Error trying to diff '${he(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,p,b,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let E=0;E<this.length;E++)p=i[E],b=this._trackByFn(E,p),null!==s&&Object.is(s.trackById,b)?(l&&(s=this._verifyReinsertion(s,p,b,E)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,b,E),l=!0),s=s._next}else d=0,function(r,i){if(Array.isArray(r))for(let s=0;s<r.length;s++)i(r[s]);else{const s=r[Ni()]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,E=>{b=this._trackByFn(d,E),null!==s&&Object.is(s.trackById,b)?(l&&(s=this._verifyReinsertion(s,E,b,d)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,b,d),l=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,d){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,p,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,p,d)):i=this._addAfter(new bD(s,l),p,d),i}_verifyReinsertion(i,s,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?i=this._reinsertAfter(p,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,p=i._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const d=null===s?this._itHead:s._next;return i._next=d,i._prev=s,null===d?this._itTail=i:d._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new $b),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $b),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class bD{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wD{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class $b{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new wD,this.map.set(s,l)),l.add(i)}get(i,s){const d=this.map.get(i);return d?d.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hb(r,i,s){const l=r.previousIndex;if(null===l)return l;let d=0;return s&&l<s.length&&(d=s[l]),l+i+d}class Gb{constructor(){}supports(i){return i instanceof Map||hg(i)}create(){return new ED}}class ED{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||hg(i)))throw new Error(`Error trying to diff '${he(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(d,l);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,s);const p=d._prev,b=d._next;return p&&(p._next=b),b&&(b._prev=p),d._next=null,d._prev=null,d}const l=new DD(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class DD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wb(){return new j_([new jb])}let j_=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(null!=l){const d=l.factories.slice();s=s.concat(d)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||Wb()),deps:[[r,new la,new Lo]]}}find(s){const l=this.factories.find(d=>d.supports(s));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(r){return r.name||typeof r}(s)}'`)}}return r.\u0275prov=Ht({token:r,providedIn:"root",factory:Wb}),r})();function zb(){return new $_([new Gb])}let $_=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(l){const d=l.factories.slice();s=s.concat(d)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||zb()),deps:[[r,new la,new Lo]]}}find(s){const l=this.factories.find(d=>d.supports(s));if(l)return l;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return r.\u0275prov=Ht({token:r,providedIn:"root",factory:zb}),r})();function H_(r,i,s,l,d=!1){for(;null!==s;){const p=i[s.index];if(null!==p&&l.push(Ie(p)),nr(p))for(let E=10;E<p.length;E++){const x=p[E],B=x[1].firstChild;null!==B&&H_(x[1],x,B,l)}const b=s.type;if(8&b)H_(r,i,s.child,l);else if(32&b){const E=ad(s,i);let x;for(;x=E();)l.push(x)}else if(16&b){const E=Tm(i,s);if(Array.isArray(E))l.push(...E);else{const x=Ic(i[16]);H_(x[1],x,E,l,!0)}}s=d?s.projectionNext:s.next}return l}class Yg{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return H_(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(nr(i)){const s=i[8],l=s?s.indexOf(this):-1;l>-1&&(Wd(i,l),To(s,l))}this._attachedToViewContainer=!1}ep(this._lView[1],this._lView)}onDestroy(i){Vm(this._lView[1],this._lView,null,i)}markForCheck(){Lp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ih(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,s){de(!0);try{ih(r,i,s)}finally{de(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,$u(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class TD extends Yg{constructor(i){super(i),this._view=i}detectChanges(){Bp(this._view)}checkNoChanges(){!function(r){de(!0);try{Bp(r)}finally{de(!1)}}(this._view)}get context(){return null}}const SD=function(r){return function(r,i,s){if(Vi(r)&&!s){const l=Et(r.index,i);return new Yg(l,l)}return 47&r.type?new Yg(i[16],i):null}(Xr(),mt(),16==(16&r))};let ND=(()=>{class r{}return r.__NG_ELEMENT_ID__=SD,r})();const RD=[new Gb],OD=new j_([new jb]),PD=new $_(RD),FD=function(){return G_(Xr(),mt())};let Zg=(()=>{class r{}return r.__NG_ELEMENT_ID__=FD,r})();const LD=Zg,VD=class extends LD{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(i){const s=this._declarationTContainer.tViews,l=eh(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(s)),qu(s,l,i),new Yg(l)}};function G_(r,i){return 4&r.type?new VD(i,r,Of(r,i)):null}class bh{}class qb{}const jD=function(){return Kb(Xr(),mt())};let W_=(()=>{class r{}return r.__NG_ELEMENT_ID__=jD,r})();const HD=W_,Yb=class extends HD{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return Of(this._hostTNode,this._hostLView)}get injector(){return new ti(this._hostTNode,this._hostLView)}get parentInjector(){const i=R(this._hostTNode,this._hostLView);if(Si(i)){const s=wa(i,this._hostLView),l=ia(i);return new ti(s[1].data[l+8],s)}return new ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Zb(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,l){const d=i.createEmbeddedView(s||{});return this.insert(d,l),d}createComponent(i,s,l,d,p){const b=l||this.parentInjector;if(!p&&null==i.ngModule&&b){const x=b.get(bh,null);x&&(p=x)}const E=i.create(b,d,void 0,p);return this.insert(E.hostView,s),E}insert(i,s){const l=i._lView,d=l[1];if(nr(l[3])){const q=this.indexOf(i);if(-1!==q)this.detach(q);else{const ae=l[3],pe=new Yb(ae,ae[6],ae[3]);pe.detach(pe.indexOf(i))}}const p=this._adjustIndex(s),b=this._lContainer;!function(r,i,s,l){const d=10+l,p=s.length;l>0&&(s[d-1][4]=i),l<p-10?(i[4]=s[d],aa(s,10+l,i)):(s.push(i),i[4]=null),i[3]=s;const b=i[17];null!==b&&s!==b&&function(r,i){const s=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===s?r[9]=[i]:s.push(i)}(b,i);const E=i[19];null!==E&&E.insertView(r),i[2]|=128}(d,l,b,p);const E=rp(p,b),x=l[11],B=cd(x,b[7]);return null!==B&&function(r,i,s,l,d,p){l[0]=d,l[6]=i,$u(r,l,s,1,d,p)}(d,b[6],x,l,B,E),i.attachToViewContainerRef(),aa(Rv(b),p,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Zb(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=Wd(this._lContainer,s);l&&(To(Rv(this._lContainer),s),ep(l[1],l))}detach(i){const s=this._adjustIndex(i,-1),l=Wd(this._lContainer,s);return l&&null!=To(Rv(this._lContainer),s)?new Yg(l):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function Zb(r){return r[8]}function Rv(r){return r[8]||(r[8]=[])}function Kb(r,i){let s;const l=i[r.index];if(nr(l))s=l;else{let d;if(8&r.type)d=Ie(l);else{const p=i[11];d=p.createComment("");const b=L(r,i);qa(p,cd(p,b),d,function(r,i){return U(r)?r.nextSibling(i):i.nextSibling}(p,b),!1)}i[r.index]=s=zm(l,i,d,r),vd(i,s)}return new Yb(s,r,i)}const Lf={};class m1 extends xf{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Cr(i);return new y1(s,this.ngModule)}}function _1(r){const i=[];for(let s in r)r.hasOwnProperty(s)&&i.push({propName:r[s],templateName:s});return i}const BC=new ni("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Tc});class y1 extends Fb{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=i.selectors.map(fd).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return _1(this.componentDef.inputs)}get outputs(){return _1(this.componentDef.outputs)}create(i,s,l,d){const p=(d=d||this.ngModule)?function(r,i){return{get:(s,l,d)=>{const p=r.get(s,Lf,d);return p!==Lf||l===Lf?p:i.get(s,l,d)}}}(i,d.injector):i,b=p.get(U_,G),E=p.get(Av,null),x=b.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",q=l?function(r,i,s){if(U(r))return r.selectRootElement(i,s===wt.ShadowDom);let l="string"==typeof i?r.querySelector(i):i;return l.textContent="",l}(x,l,this.componentDef.encapsulation):Jf(b.createRenderer(null,this.componentDef),B,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(B)),ae=this.componentDef.onPush?576:528,pe=function(r,i){return{components:[],scheduler:r||Tc,clean:My,playerHandler:i||null,flags:0}}(),Ae=th(0,null,null,1,0,null,null,null,null,null),Le=eh(null,Ae,pe,ae,null,null,b,x,E,p);let at,Qe;ro(Le);try{const St=function(r,i,s,l,d,p){const b=s[1];s[20]=r;const x=Wu(b,20,2,"#host",null),B=x.mergedAttrs=i.hostAttrs;null!==B&&(sh(x,B,!0),null!==r&&(bn(d,r,B),null!==x.classes&&hd(d,r,x.classes),null!==x.styles&&dd(d,r,x.styles)));const q=l.createRenderer(r,i),ae=eh(s,Cp(i),null,i.onPush?64:16,s[20],x,l,q,p||null,null);return b.firstCreatePass&&(S(Ct(x,s),b,i.type),$m(b,x),Hm(x,s.length,1)),vd(s,ae),s[20]=ae}(q,this.componentDef,Le,b,x);if(q)if(l)bn(x,q,["ng-version",Mv.full]);else{const{attrs:ft,classes:wn}=function(r){const i=[],s=[];let l=1,d=2;for(;l<r.length;){let p=r[l];if("string"==typeof p)2===d?""!==p&&i.push(p,r[++l]):8===d&&s.push(p);else{if(!Ya(d))break;d=p}l++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);ft&&bn(x,q,ft),wn&&wn.length>0&&hd(x,q,wn.join(" "))}if(Qe=ne(Ae,20),void 0!==s){const ft=Qe.projection=[];for(let wn=0;wn<this.ngContentSelectors.length;wn++){const jn=s[wn];ft.push(null!=jn?Array.from(jn):null)}}at=function(r,i,s,l,d){const p=s[1],b=function(r,i,s){const l=Xr();r.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Pp(r,l,i,zu(r,i,1,null),s));const d=cn(i,r,l.directiveStart,l);Pe(d,i);const p=L(l,i);return p&&Pe(p,i),d}(p,s,i);if(l.components.push(b),r[8]=b,d&&d.forEach(x=>x(b,i)),i.contentQueries){const x=Xr();i.contentQueries(1,b,x.directiveStart)}const E=Xr();return!p.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(ds(E.index),jm(s[1],E,0,E.directiveStart,E.directiveEnd,i),zh(i,b)),b}(St,this.componentDef,Le,pe,[Yy]),qu(Ae,Le,null)}finally{ci()}return new $C(this.componentType,at,Of(Qe,Le),Le,Qe)}}class $C extends class{}{constructor(i,s,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=s,this.hostView=this.changeDetectorRef=new TD(d),this.componentType=i}get injector(){return new ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Vf=new Map;class WC extends bh{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new m1(this);const l=gr(i),d=i[vt]||null;d&&bv(d),this._bootstrapComponents=Jo(l.bootstrap),this._r3Injector=tf(i,s,[{provide:bh,useValue:this},{provide:xf,useValue:this.componentFactoryResolver}],he(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=Qi.THROW_IF_NOT_FOUND,l=jt.Default){return i===Qi||i===bh||i===ga?this:this._r3Injector.get(i,s,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Gv extends qb{constructor(i){super(),this.moduleType=i,null!==gr(i)&&function(r){const i=new Set;!function s(l){const d=gr(l,!0),p=d.id;null!==p&&(function(r,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${r} - ${he(i)} vs ${he(i.name)}`)}(p,Vf.get(p),l),Vf.set(p,l));const b=Jo(d.imports);for(const E of b)i.has(E)||(i.add(E),s(E))}(r)}(i)}create(i){return new WC(this.moduleType,i)}}function w1(r,i,s,l){return C1(mt(),_e(),r,i,s,l)}function E1(r,i,s,l,d){return function(r,i,s,l,d,p,b){const E=i+s;return Fc(r,E,d,p)?wl(r,E+2,b?l.call(b,d,p):l(d,p)):rm(r,E+2)}(mt(),_e(),r,i,s,l,d)}function D1(r,i,s,l,d,p){return function(r,i,s,l,d,p,b,E){const x=i+s;return function(r,i,s,l,d){const p=Fc(r,i,s,l);return Vo(r,i+2,d)||p}(r,x,d,p,b)?wl(r,x+3,E?l.call(E,d,p,b):l(d,p,b)):rm(r,x+3)}(mt(),_e(),r,i,s,l,d,p)}function rm(r,i){const s=r[i];return s===Yn?void 0:s}function C1(r,i,s,l,d,p){const b=i+s;return Vo(r,b,d)?wl(r,b+1,p?l.call(p,d):l(d)):rm(r,b+1)}function A1(r,i){const s=Un();let l;const d=r+20;s.firstCreatePass?(l=function(r,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(r===l.name)return l}throw new ke("302",`The pipe '${r}' could not be found!`)}(i,s.pipeRegistry),s.data[d]=l,l.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,l.onDestroy)):l=s.data[d];const p=l.factory||(l.factory=ts(l.type)),b=jr(ph);try{const E=Yl(!1),x=p();return Yl(E),function(r,i,s,l){s>=r.data.length&&(r.data[s]=null,r.blueprint[s]=null),i[s]=l}(s,mt(),d,x),x}finally{jr(b)}}function M1(r,i,s){const l=r+20,d=mt(),p=ze(d,l);return function(r,i){Bl.isWrapped(i)&&(i=Bl.unwrap(i),r[Ne()]=Yn);return i}(d,function(r,i){return r[1].data[i].pure}(d,l)?C1(d,_e(),i,p.transform,s,p):p.transform(s))}function Wv(r){return i=>{setTimeout(r,void 0,i)}}const rc=class extends I.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){var d,p,b;let E=i,x=s||(()=>null),B=l;if(i&&"object"==typeof i){const ae=i;E=null===(d=ae.next)||void 0===d?void 0:d.bind(ae),x=null===(p=ae.error)||void 0===p?void 0:p.bind(ae),B=null===(b=ae.complete)||void 0===b?void 0:b.bind(ae)}this.__isAsync&&(x=Wv(x),E&&(E=Wv(E)),B&&(B=Wv(B)));const q=super.subscribe({next:E,error:x,complete:B});return i instanceof c.w&&i.add(q),q}};function sT(){return this._results[Ni()]()}class om{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Ni(),l=om.prototype;l[s]||(l[s]=sT)}get changes(){return this._changes||(this._changes=new rc)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const d=gs(i);(this._changesDetected=!function(r,i,s){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let d=r[l],p=i[l];if(s&&(d=s(d),p=s(p)),p!==d)return!1}return!0}(l._results,d,s))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class zv{constructor(i){this.queryList=i,this.matches=null}clone(){return new zv(this.queryList)}setDirty(){this.queryList.setDirty()}}class qv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,d=[];for(let p=0;p<l;p++){const b=s.getByIndex(p);d.push(this.queries[b.indexInDeclarationView].clone())}return new qv(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==B1(i,s).matches&&this.queries[s].setDirty()}}class R1{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class Yv{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const d=null!==s?s.length:0,p=this.getByIndex(l).embeddedTView(i,d);p&&(p.indexInDeclarationView=l,null!==s?s.push(p):s=[p])}return null!==s?new Yv(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Zv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Zv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(i,s,lT(s,p)),this.matchTNodeWithReadOption(i,s,Qn(s,i,p,!1,!1))}else l===Zg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Qn(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===nc||d===W_||d===Zg&&4&s.type)this.addMatch(s.index,-2);else{const p=Qn(s,i,d,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function lT(r,i){const s=r.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function cT(r,i,s,l){return-1===s?function(r,i){return 11&r.type?Of(r,i):4&r.type?G_(r,i):null}(i,r):-2===s?function(r,i,s){return s===nc?Of(i,r):s===Zg?G_(i,r):s===W_?Kb(i,r):void 0}(r,i,l):cn(r,r[1],s,i)}function x1(r,i,s,l){const d=i[19].queries[l];if(null===d.matches){const p=r.data,b=s.matches,E=[];for(let x=0;x<b.length;x+=2){const B=b[x];E.push(B<0?null:cT(i,p[B],b[x+1],s.metadata.read))}d.matches=E}return d.matches}function Kv(r,i,s,l){const d=r.queries.getByIndex(s),p=d.matches;if(null!==p){const b=x1(r,i,d,s);for(let E=0;E<p.length;E+=2){const x=p[E];if(x>0)l.push(b[E/2]);else{const B=p[E+1],q=i[-x];for(let ae=10;ae<q.length;ae++){const pe=q[ae];pe[17]===pe[3]&&Kv(pe[1],pe,B,l)}if(null!==q[9]){const ae=q[9];for(let pe=0;pe<ae.length;pe++){const Ae=ae[pe];Kv(Ae[1],Ae,B,l)}}}}}return l}function O1(r){const i=mt(),s=Un(),l=qr();vr(l+1);const d=B1(s,l);if(r.dirty&&yn(i)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const p=d.crossesNgTemplate?Kv(s,i,l,[]):x1(s,i,d,l);r.reset(p,Bb),r.notifyOnChanges()}return!0}return!1}function P1(r,i,s){const l=Un();l.firstCreatePass&&(V1(l,new R1(r,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),L1(l,mt(),i)}function k1(r,i,s,l){const d=Un();if(d.firstCreatePass){const p=Xr();V1(d,new R1(i,s,l),p.index),function(r,i){const s=r.contentQueries||(r.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(r.queries.length-1,i)}(d,r),2==(2&s)&&(d.staticContentQueries=!0)}L1(d,mt(),s)}function F1(){return r=mt(),i=qr(),r[19].queries[i].queryList;var r,i}function L1(r,i,s){const l=new om(4==(4&s));Vm(r,i,l,l.destroy),null===i[19]&&(i[19]=new qv),i[19].queries.push(new zv(l))}function V1(r,i,s){null===r.queries&&(r.queries=new Yv),r.queries.track(new Zv(i,s))}function B1(r,i){return r.queries.getByIndex(i)}function U1(r,i){return G_(r,i)}const n0=new ni("Application Initializer");let Uf=(()=>{class r{constructor(s){this.appInits=s,this.resolve=B_,this.reject=B_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Mg(p))s.push(p);else if(b_(p)){const b=new Promise((E,x)=>{p.subscribe({complete:E,error:x})});s.push(b)}}Promise.all(s).then(()=>{l()}).catch(d=>{this.reject(d)}),0===s.length&&l(),this.initialized=!0}}return r.\u0275fac=function(s){return new(s||r)(gi(n0,8))},r.\u0275prov=Ht({token:r,factory:r.\u0275fac}),r})();const iw=new ni("AppId"),UT={provide:iw,useFactory:function(){return`${r0()}${r0()}${r0()}`},deps:[]};function r0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sw=new ni("Platform Initializer"),ow=new ni("Platform ID"),aw=new ni("appBootstrapListener");let lw=(()=>{class r{log(s){console.log(s)}warn(s){console.warn(s)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=Ht({token:r,factory:r.\u0275fac}),r})();const J_=new ni("LocaleId"),uw=new ni("DefaultCurrencyCode");class $T{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}const i0=function(r){return new Gv(r)},HT=i0,GT=function(r){return Promise.resolve(i0(r))},cw=function(r){const i=i0(r),l=Jo(gr(r).declarations).reduce((d,p)=>{const b=Cr(p);return b&&d.push(new y1(b)),d},[]);return new $T(i,l)},WT=cw,zT=function(r){return Promise.resolve(cw(r))};let lm=(()=>{class r{constructor(){this.compileModuleSync=HT,this.compileModuleAsync=GT,this.compileModuleAndAllComponentsSync=WT,this.compileModuleAndAllComponentsAsync=zT}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=Ht({token:r,factory:r.\u0275fac}),r})();const ZT=(()=>Promise.resolve(0))();function s0(r){"undefined"==typeof Zone?ZT.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Tl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rc(!1),this.onMicrotaskEmpty=new rc(!1),this.onStable=new rc(!1),this.onError=new rc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&s,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let r=ar.requestAnimationFrame,i=ar.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const s=r[Zone.__symbol__("OriginalDelegate")];s&&(r=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ar,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,a0(r),r.isCheckStableRunning=!0,o0(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),a0(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,d,p,b,E)=>{try{return dw(r),s.invokeTask(d,p,b,E)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&i(),hw(r)}},onInvoke:(s,l,d,p,b,E,x)=>{try{return dw(r),s.invoke(d,p,b,E,x)}finally{r.shouldCoalesceRunChangeDetection&&i(),hw(r)}},onHasTask:(s,l,d,p)=>{s.hasTask(d,p),l===d&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,a0(r),o0(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,l,d,p)=>(s.handleError(d,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,d){const p=this._inner,b=p.scheduleEventTask("NgZoneEvent: "+d,i,QT,B_,B_);try{return p.runTask(b,s,l)}finally{p.cancelTask(b)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const QT={};function o0(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function a0(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function dw(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function hw(r){r._nesting--,o0(r)}class eI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rc,this.onMicrotaskEmpty=new rc,this.onStable=new rc,this.onError=new rc}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,d){return i.apply(s,l)}}let fw=(()=>{class r{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tl.assertNotInAngularZone(),s0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())s0(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==p),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:d})}whenStable(s,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,l,d){return[]}}return r.\u0275fac=function(s){return new(s||r)(gi(Tl))},r.\u0275prov=Ht({token:r,factory:r.\u0275fac}),r})(),pw=(()=>{class r{constructor(){this._applications=new Map,l0.addToWindow(this)}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return l0.findTestabilityInTree(this,s,l)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=Ht({token:r,factory:r.\u0275fac}),r})();class tI{addToWindow(i){}findTestabilityInTree(i,s,l){return null}}function nI(r){l0=r}let l0=new tI,gw=!0,mw=!1;function u0(){return mw=!0,gw}function rI(){if(mw)throw new Error("Cannot enable prod mode after platform setup.");gw=!1}let vu;const _w=new ni("AllowMultipleToken");class cI{constructor(i,s){this.name=i,this.token=s}}function yw(r,i,s=[]){const l=`Platform: ${i}`,d=new ni(l);return(p=[])=>{let b=vw();if(!b||b.injector.get(_w,!1))if(r)r(s.concat(p).concat({provide:d,useValue:!0}));else{const E=s.concat(p).concat({provide:d,useValue:!0},{provide:oh,useValue:"platform"});!function(r){if(vu&&!vu.destroyed&&!vu.injector.get(_w,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vu=r.get(bw);const i=r.get(sw,null);i&&i.forEach(s=>s())}(Qi.create({providers:E,name:l}))}return function(r){const i=vw();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(d)}}function vw(){return vu&&!vu.destroyed?vu:null}let bw=(()=>{class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const E=function(r,i){let s;return s="noop"===r?new eI:("zone.js"===r?void 0:r)||new Tl({enableLongStackTrace:u0(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),x=[{provide:Tl,useValue:E}];return E.run(()=>{const B=Qi.create({providers:x,parent:this.injector,name:s.moduleType.name}),q=s.create(B),ae=q.injector.get(m,null);if(!ae)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const pe=E.onError.subscribe({next:Ae=>{ae.handleError(Ae)}});q.onDestroy(()=>{c0(this._modules,q),pe.unsubscribe()})}),function(r,i,s){try{const l=s();return Mg(l)?l.catch(d=>{throw i.runOutsideAngular(()=>r.handleError(d)),d}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(ae,E,()=>{const pe=q.injector.get(Uf);return pe.runInitializers(),pe.donePromise.then(()=>(bv(q.injector.get(J_,P_)||P_),this._moduleDoBootstrap(q),q))})})}bootstrapModule(s,l=[]){const d=ww({},l);return function(r,i,s){const l=new Gv(s);return Promise.resolve(l)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(s){const l=s.injector.get(um);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${he(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(s){return new(s||r)(gi(Qi))},r.\u0275prov=Ht({token:r,factory:r.\u0275fac}),r})();function ww(r,i){return Array.isArray(i)?i.reduce(ww,r):Object.assign(Object.assign({},r),i)}let um=(()=>{class r{constructor(s,l,d,p,b){this._zone=s,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new le.y(B=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{B.next(this._stable),B.complete()})}),x=new le.y(B=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{Tl.assertNotInAngularZone(),s0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,B.next(!0))})})});const ae=this._zone.onUnstable.subscribe(()=>{Tl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{B.next(!1)}))});return()=>{q.unsubscribe(),ae.unsubscribe()}});this.isStable=(0,Ce.T)(E,x.pipe((0,Te.B)()))}bootstrap(s,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=s instanceof Fb?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(d.componentType);const p=function(r){return r.isBoundToModule}(d)?void 0:this._injector.get(bh),E=d.create(Qi.NULL,[],l||d.selector,p),x=E.location.nativeElement,B=E.injector.get(fw,null),q=B&&E.injector.get(pw);return B&&q&&q.registerApplication(x,B),E.onDestroy(()=>{this.detachView(E.hostView),c0(this.components,E),q&&q.unregisterApplication(x)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;c0(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(aw,[]).concat(this._bootstrapListeners).forEach(d=>d(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(s){return new(s||r)(gi(Tl),gi(Qi),gi(m),gi(xf),gi(Uf))},r.\u0275prov=Ht({token:r,factory:r.\u0275fac}),r})();function c0(r,i){const s=r.indexOf(i);s>-1&&r.splice(s,1)}class mI{}class yI{}const vI={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let bI=(()=>{class r{constructor(s,l){this._compiler=s,this._config=l||vI}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[l,d]=s.split("#");return void 0===d&&(d="default"),W(8255)(l).then(p=>p[d]).then(p=>Tw(p,l,d)).then(p=>this._compiler.compileModuleAsync(p))}loadFactory(s){let[l,d]=s.split("#"),p="NgFactory";return void 0===d&&(d="default",p=""),W(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(b=>b[d+p]).then(b=>Tw(b,l,d))}}return r.\u0275fac=function(s){return new(s||r)(gi(lm),gi(yI,8))},r.\u0275prov=Ht({token:r,factory:r.\u0275fac}),r})();function Tw(r,i,s){if(!r)throw new Error(`Cannot find '${s}' in '${i}'`);return r}const NI=function(r){return null},MI=yw(null,"core",[{provide:ow,useValue:"unknown"},{provide:bw,deps:[Qi]},{provide:pw,deps:[]},{provide:lw,deps:[]}]),kI=[{provide:um,useClass:um,deps:[Tl,Qi,m,xf,Uf]},{provide:BC,deps:[Tl],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(s){i.push(s)}}},{provide:Uf,useClass:Uf,deps:[[new Lo,n0]]},{provide:lm,useClass:lm,deps:[]},UT,{provide:j_,useFactory:function(){return OD},deps:[]},{provide:$_,useFactory:function(){return PD},deps:[]},{provide:J_,useFactory:function(r){return bv(r=r||"undefined"!=typeof $localize&&$localize.locale||P_),r},deps:[[new $a(J_),new Lo,new la]]},{provide:uw,useValue:"USD"}];let LI=(()=>{class r{constructor(s){}}return r.\u0275fac=function(s){return new(s||r)(gi(um))},r.\u0275mod=li({type:r}),r.\u0275inj=Ut({providers:kI}),r})()},3820:(Tt,He,W)=>{"use strict";W.d(He,{zQ:()=>Ze,ww:()=>Oe,rT:()=>Pt,f7:()=>mn,L6:()=>tt,_Q:()=>it,lh:()=>qt,Qv:()=>kt,nw:()=>xe});var I=W(7716),c=W(9765),le=W(5917),Ce=W(7574),Te=W(4402),ue=W(6682),ge=W(3190);function he(Je,Ke){return Ke?(0,ge.w)(()=>Je,Ke):(0,ge.w)(()=>Je)}var se=W(9746),re=W(8002),X=W(2066),ie=W(8049),ye=W(9673),Me=W(5435),ke=W(9126),Be=W(8939),be=W(8583),$e=W(7841);const kt=new I.OlP("angularfire2.auth.use-emulator"),tt=new I.OlP("angularfire2.auth.settings"),it=new I.OlP("angularfire2.auth.tenant-id"),Pt=new I.OlP("angularfire2.auth.langugage-code"),qt=new I.OlP("angularfire2.auth.use-device-language"),mn=new I.OlP("angularfire.auth.persistence"),xe=(Je,Ke,Xe,je,pt,bt,Ft,Vt)=>(0,ke.cc)(`${Je.name}.auth`,"AngularFireAuth",Je.name,()=>{const Nt=Ke.runOutsideAngular(()=>Je.auth());if(Xe&&Nt.useEmulator(...Xe),je&&(Nt.tenantId=je),Nt.languageCode=pt,bt&&Nt.useDeviceLanguage(),Ft)for(const[Lt,Jt]of Object.entries(Ft))Nt.settings[Lt]=Jt;return Vt&&Nt.setPersistence(Vt),Nt},[Xe,je,pt,bt,Ft,Vt]);let Ze=(()=>{class Je{constructor(Xe,je,pt,bt,Ft,Vt,Nt,Lt,Jt,Fn,zr){const Ht=new c.xQ,Zt=(0,le.of)(void 0).pipe((0,se.QV)(Ft.outsideAngular),(0,ge.w)(()=>bt.runOutsideAngular(()=>Promise.resolve().then(W.bind(W,6780)))),(0,re.U)(()=>(0,Be.on)(Xe,bt,je)),(0,re.U)(Ut=>xe(Ut,bt,Vt,Lt,Jt,Fn,Nt,zr)),(0,X.d)({bufferSize:1,refCount:!1}));if((0,be.PM)(pt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,le.of)(null);else{Zt.pipe((0,ie.P)()).subscribe();const An=Zt.pipe((0,ge.w)(ln=>ln.getRedirectResult().then(_r=>_r,()=>null)),ke.iC,(0,X.d)({bufferSize:1,refCount:!1})),dr=Zt.pipe((0,ge.w)(ln=>new Ce.y(_r=>({unsubscribe:bt.runOutsideAngular(()=>ln.onAuthStateChanged(Mn=>_r.next(Mn),Mn=>_r.error(Mn),()=>_r.complete()))})))),xr=Zt.pipe((0,ge.w)(ln=>new Ce.y(_r=>({unsubscribe:bt.runOutsideAngular(()=>ln.onIdTokenChanged(Mn=>_r.next(Mn),Mn=>_r.error(Mn),()=>_r.complete()))}))));this.authState=An.pipe(he(dr),(0,ye.R)(Ft.outsideAngular),(0,se.QV)(Ft.insideAngular)),this.user=An.pipe(he(xr),(0,ye.R)(Ft.outsideAngular),(0,se.QV)(Ft.insideAngular)),this.idToken=this.user.pipe((0,ge.w)(ln=>ln?(0,Te.D)(ln.getIdToken()):(0,le.of)(null))),this.idTokenResult=this.user.pipe((0,ge.w)(ln=>ln?(0,Te.D)(ln.getIdTokenResult()):(0,le.of)(null))),this.credential=(0,ue.T)(An,Ht,this.authState.pipe((0,Me.h)(ln=>!ln))).pipe((0,re.U)(ln=>(null==ln?void 0:ln.user)?ln:null),(0,ye.R)(Ft.outsideAngular),(0,se.QV)(Ft.insideAngular))}return(0,Be.pX)(this,Zt,bt,{spy:{apply:(Ut,An,dr)=>{(Ut.startsWith("signIn")||Ut.startsWith("createUser"))&&dr.then(xr=>Ht.next(xr))}}})}}return Je.\u0275fac=function(Xe){return new(Xe||Je)(I.LFG(Be.Dh),I.LFG(Be.xv,8),I.LFG(I.Lbi),I.LFG(I.R0b),I.LFG(ke.HU),I.LFG(kt,8),I.LFG(tt,8),I.LFG(it,8),I.LFG(Pt,8),I.LFG(qt,8),I.LFG(mn,8))},Je.\u0275prov=I.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"any"}),Je})(),Oe=(()=>{class Je{constructor(){$e.Z.registerVersion("angularfire",ke.q4.full,"auth-compat")}}return Je.\u0275fac=function(Xe){return new(Xe||Je)},Je.\u0275mod=I.oAB({type:Je}),Je.\u0275inj=I.cJS({providers:[Ze]}),Je})()},4612:(Tt,He,W)=>{"use strict";W.d(He,{ST:()=>O_,yb:()=>_v});var I=W(7716),c=W(3637),le=W(7574),Ce=W(4402),Te=W(5917),ue=W(9126),ge=W(9761),he=W(9328),se=W(8002),re=W(2145),X=W(7519),ie=W(5435),ye=W(8939),Me=W(8583),Be=(W(6780),W(4486)),be=W(8239),$e=W(5452),ht=W(6034),kt=W(300),tt=W(4685),it=function(a,n){return(it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(o[f]=u[f])})(a,n)};function qt(a){var n="function"==typeof Symbol&&Symbol.iterator,o=n&&a[n],u=0;if(o)return o.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&u>=a.length&&(a=void 0),{value:a&&a[u++],done:!a}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var xe,mn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ze=Ze||{},Oe=mn||self;function Je(){}function Ke(a){var n=typeof a;return"array"==(n="object"!=n?n:a?Array.isArray(a)?"array":n:"null")||"object"==n&&"number"==typeof a.length}function Xe(a){var n=typeof a;return"object"==n&&null!=a||"function"==n}var pt="closure_uid_"+(1e9*Math.random()>>>0),bt=0;function Ft(a,n,o){return a.call.apply(a.bind,arguments)}function Vt(a,n,o){if(!a)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,u),a.apply(n,f)}}return function(){return a.apply(n,arguments)}}function Nt(a,n,o){return(Nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ft:Vt).apply(null,arguments)}function Lt(a,n){var o=Array.prototype.slice.call(arguments,1);return function(){var u=o.slice();return u.push.apply(u,arguments),a.apply(this,u)}}function Jt(a,n){function o(){}o.prototype=n.prototype,a.Z=n.prototype,a.prototype=new o,a.prototype.constructor=a,a.Vb=function(u,f,w){for(var M=Array(arguments.length-2),H=2;H<arguments.length;H++)M[H-2]=arguments[H];return n.prototype[f].apply(u,M)}}function Fn(){this.s=this.s,this.o=this.o}var Ht={};Fn.prototype.s=!1,Fn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var a=function(a){return Object.prototype.hasOwnProperty.call(a,pt)&&a[pt]||(a[pt]=++bt)}(this);delete Ht[a]}},Fn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Zt=Array.prototype.indexOf?function(a,n){return Array.prototype.indexOf.call(a,n,void 0)}:function(a,n){if("string"==typeof a)return"string"!=typeof n||1!=n.length?-1:a.indexOf(n,0);for(var o=0;o<a.length;o++)if(o in a&&a[o]===n)return o;return-1},Ut=Array.prototype.forEach?function(a,n,o){Array.prototype.forEach.call(a,n,o)}:function(a,n,o){for(var u=a.length,f="string"==typeof a?a.split(""):a,w=0;w<u;w++)w in f&&n.call(o,f[w],w,a)};function dr(a){return Array.prototype.concat.apply([],arguments)}function xr(a){var n=a.length;if(0<n){for(var o=Array(n),u=0;u<n;u++)o[u]=a[u];return o}return[]}function ln(a){return/^[\s\xa0]*$/.test(a)}var En,_r=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Mn(a,n){return-1!=a.indexOf(n)}function Or(a,n){return a<n?-1:a>n?1:0}e:{var Pr=Oe.navigator;if(Pr){var jt=Pr.userAgent;if(jt){En=jt;break e}}En=""}function br(a,n,o){for(var u in a)n.call(o,a[u],u,a)}function Ai(a){var n={};for(var o in a)n[o]=a[o];return n}var jr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xt(a,n){for(var o,u,f=1;f<arguments.length;f++){for(o in u=arguments[f])a[o]=u[o];for(var w=0;w<jr.length;w++)o=jr[w],Object.prototype.hasOwnProperty.call(u,o)&&(a[o]=u[o])}}function Gt(a){return Gt[" "](a),a}Gt[" "]=Je;var Sr,a,Ln=Mn(En,"Opera"),or=Mn(En,"Trident")||Mn(En,"MSIE"),$n=Mn(En,"Edge"),wt=$n||or,Qt=Mn(En,"Gecko")&&!(Mn(En.toLowerCase(),"webkit")&&!Mn(En,"Edge"))&&!(Mn(En,"Trident")||Mn(En,"MSIE"))&&!Mn(En,"Edge"),ai=Mn(En.toLowerCase(),"webkit")&&!Mn(En,"Edge");function vs(){var a=Oe.document;return a?a.documentMode:void 0}e:{var ar="",Qr=(a=En,Qt?/rv:([^\);]+)(\)|;)/.exec(a):$n?/Edge\/([\d\.]+)/.exec(a):or?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):ai?/WebKit\/(\S+)/.exec(a):Ln?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Qr&&(ar=Qr?Qr[1]:""),or){var kr=vs();if(null!=kr&&kr>parseFloat(ar)){Sr=String(kr);break e}}Sr=ar}var Bn={};function Ee(){return n=Bn,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){for(var a=0,n=_r(String(Sr)).split("."),o=_r("9").split("."),u=Math.max(n.length,o.length),f=0;0==a&&f<u;f++){var w=n[f]||"",M=o[f]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],M=/(\d*)(\D*)(.*)/.exec(M)||["","","",""],0==w[0].length&&0==M[0].length)break;a=Or(0==w[1].length?0:parseInt(w[1],10),0==M[1].length?0:parseInt(M[1],10))||Or(0==w[2].length,0==M[2].length)||Or(w[2],M[2]),w=w[3],M=M[3]}while(0==a)}return 0<=a}();var n}var nt=Oe.document&&or&&(vs()||parseInt(Sr,10))||void 0,We=function(){if(!Oe.addEventListener||!Object.defineProperty)return!1;var a=!1,n=Object.defineProperty({},"passive",{get:function(){a=!0}});try{Oe.addEventListener("test",Je,n),Oe.removeEventListener("test",Je,n)}catch(o){}return a}();function vt(a,n){this.type=a,this.g=this.target=n,this.defaultPrevented=!1}function Bt(a,n){if(vt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var o=this.type=a.type,u=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=n,n=a.relatedTarget){if(Qt){e:{try{Gt(n.nodeName);var f=!0;break e}catch(w){}f=!1}f||(n=null)}}else"mouseover"==o?n=a.fromElement:"mouseout"==o&&(n=a.toElement);this.relatedTarget=n,u?(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:dn[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Bt.Z.h.call(this)}}vt.prototype.h=function(){this.defaultPrevented=!0},Jt(Bt,vt);var dn={2:"touch",3:"pen",4:"mouse"};Bt.prototype.h=function(){Bt.Z.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var In="closure_listenable_"+(1e6*Math.random()|0),Rn=0;function Fr(a,n,o,u,f){this.listener=a,this.proxy=null,this.src=n,this.type=o,this.capture=!!u,this.ia=f,this.key=++Rn,this.ca=this.fa=!1}function Kn(a){a.ca=!0,a.listener=null,a.proxy=null,a.src=null,a.ia=null}function Xn(a){this.src=a,this.g={},this.h=0}function nn(a,n){var o=n.type;if(o in a.g){var w,u=a.g[o],f=Zt(u,n);(w=0<=f)&&Array.prototype.splice.call(u,f,1),w&&(Kn(n),0==a.g[o].length&&(delete a.g[o],a.h--))}}function li(a,n,o,u){for(var f=0;f<a.length;++f){var w=a[f];if(!w.ca&&w.listener==n&&w.capture==!!o&&w.ia==u)return f}return-1}Xn.prototype.add=function(a,n,o,u,f){var w=a.toString();(a=this.g[w])||(a=this.g[w]=[],this.h++);var M=li(a,n,u,f);return-1<M?(n=a[M],o||(n.fa=!1)):((n=new Fr(n,this.src,w,!!u,f)).fa=o,a.push(n)),n};var As="closure_lm_"+(1e6*Math.random()|0),vi={};function bs(a,n,o,u,f){if(u&&u.once)return fr(a,n,o,u,f);if(Array.isArray(n)){for(var w=0;w<n.length;w++)bs(a,n[w],o,u,f);return null}return o=Hn(o),a&&a[In]?a.N(n,o,Xe(u)?!!u.capture:!!u,f):ws(a,n,o,!1,u,f)}function ws(a,n,o,u,f,w){if(!n)throw Error("Invalid event type");var M=Xe(f)?!!f.capture:!!f,H=Rt(a);if(H||(a[As]=H=new Xn(a)),(o=H.add(n,o,u,M,w)).proxy)return o;if(u=function(){var n=wr;return function a(o){return n.call(a.src,a.listener,o)}}(),o.proxy=u,u.src=a,u.listener=o,a.addEventListener)We||(f=M),void 0===f&&(f=!1),a.addEventListener(n.toString(),u,f);else if(a.attachEvent)a.attachEvent(Es(n.toString()),u);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(u)}return o}function fr(a,n,o,u,f){if(Array.isArray(n)){for(var w=0;w<n.length;w++)fr(a,n[w],o,u,f);return null}return o=Hn(o),a&&a[In]?a.O(n,o,Xe(u)?!!u.capture:!!u,f):ws(a,n,o,!0,u,f)}function pr(a,n,o,u,f){if(Array.isArray(n))for(var w=0;w<n.length;w++)pr(a,n[w],o,u,f);else u=Xe(u)?!!u.capture:!!u,o=Hn(o),a&&a[In]?(a=a.i,(n=String(n).toString())in a.g&&-1<(o=li(w=a.g[n],o,u,f))&&(Kn(w[o]),Array.prototype.splice.call(w,o,1),0==w.length&&(delete a.g[n],a.h--))):a&&(a=Rt(a))&&(n=a.g[n.toString()],a=-1,n&&(a=li(n,o,u,f)),(o=-1<a?n[a]:null)&&gr(o))}function gr(a){if("number"!=typeof a&&a&&!a.ca){var n=a.src;if(n&&n[In])nn(n.i,a);else{var o=a.type,u=a.proxy;n.removeEventListener?n.removeEventListener(o,u,a.capture):n.detachEvent?n.detachEvent(Es(o),u):n.addListener&&n.removeListener&&n.removeListener(u),(o=Rt(n))?(nn(o,a),0==o.h&&(o.src=null,n[As]=null)):Kn(a)}}}function Es(a){return a in vi?vi[a]:vi[a]="on"+a}function wr(a,n){if(a.ca)a=!0;else{n=new Bt(n,this);var o=a.listener,u=a.ia||a.src;a.fa&&gr(a),a=o.call(u,n)}return a}function Rt(a){return(a=a[As])instanceof Xn?a:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hn(a){return"function"==typeof a?a:(a[hn]||(a[hn]=function(n){return a.handleEvent(n)}),a[hn])}function Gn(){Fn.call(this),this.i=new Xn(this),this.P=this,this.I=null}function fn(a,n){var o,u=a.I;if(u)for(o=[];u;u=u.I)o.push(u);if(a=a.P,u=n.type||n,"string"==typeof n)n=new vt(n,a);else if(n instanceof vt)n.target=n.target||a;else{var f=n;Xt(n=new vt(u,a),f)}if(f=!0,o)for(var w=o.length-1;0<=w;w--){var M=n.g=o[w];f=yr(M,u,!0,n)&&f}if(f=yr(M=n.g=a,u,!0,n)&&f,f=yr(M,u,!1,n)&&f,o)for(w=0;w<o.length;w++)f=yr(M=n.g=o[w],u,!1,n)&&f}function yr(a,n,o,u){if(!(n=a.i.g[String(n)]))return!0;n=n.concat();for(var f=!0,w=0;w<n.length;++w){var M=n[w];if(M&&!M.ca&&M.capture==o){var H=M.listener,J=M.ia||M.src;M.fa&&nn(a.i,M),f=!1!==H.call(J,u)&&f}}return f&&!u.defaultPrevented}Jt(Gn,Fn),Gn.prototype[In]=!0,Gn.prototype.removeEventListener=function(a,n,o,u){pr(this,a,n,o,u)},Gn.prototype.M=function(){if(Gn.Z.M.call(this),this.i){var n,a=this.i;for(n in a.g){for(var o=a.g[n],u=0;u<o.length;u++)Kn(o[u]);delete a.g[n],a.h--}}this.I=null},Gn.prototype.N=function(a,n,o,u){return this.i.add(String(a),n,!1,o,u)},Gn.prototype.O=function(a,n,o,u){return this.i.add(String(a),n,!0,o,u)};var Mi=Oe.JSON.stringify;function Lr(){var a=Kt,n=null;return a.g&&(n=a.g,a.g=a.g.next,a.g||(a.h=null),n.next=null),n}var ve,Ds=function(){function a(){this.h=this.g=null}return a.prototype.add=function(n,o){var u=Cs.get();u.set(n,o),this.h?this.h.next=u:this.g=u,this.h=u},a}(),Cs=new(function(){function a(n,o){this.i=n,this.j=o,this.h=0,this.g=null}return a.prototype.get=function(){var n;return 0<this.h?(this.h--,this.g=(n=this.g).next,n.next=null):n=this.i(),n},a}())(function(){return new an},function(a){return a.reset()}),an=function(){function a(){this.next=this.g=this.h=null}return a.prototype.set=function(n,o){this.h=n,this.g=o,this.next=null},a.prototype.reset=function(){this.next=this.g=this.h=null},a}();function Ve(a){Oe.setTimeout(function(){throw a},0)}function Re(a,n){ve||function(){var a=Oe.Promise.resolve(void 0);ve=function(){a.then(en)}}(),dt||(ve(),dt=!0),Kt.add(a,n)}var dt=!1,Kt=new Ds;function en(){for(var a;a=Lr();){try{a.h.call(a.g)}catch(o){Ve(o)}var n=Cs;n.j(a),100>n.h&&(n.h++,a.next=n.g,n.g=a)}dt=!1}function Sn(a,n){Gn.call(this),this.h=a||1,this.g=n||Oe,this.j=Nt(this.kb,this),this.l=Date.now()}function _n(a){a.da=!1,a.S&&(a.g.clearTimeout(a.S),a.S=null)}function us(a,n,o){if("function"==typeof a)o&&(a=Nt(a,o));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=Nt(a.handleEvent,a)}return 2147483647<Number(n)?-1:Oe.setTimeout(a,n||0)}function Xs(a){a.g=us(function(){a.g=null,a.i&&(a.i=!1,Xs(a))},a.j);var n=a.h;a.h=null,a.m.apply(null,n)}Jt(Sn,Gn),(xe=Sn.prototype).da=!1,xe.S=null,xe.kb=function(){if(this.da){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-a):(this.S&&(this.g.clearTimeout(this.S),this.S=null),fn(this,"tick"),this.da&&(_n(this),this.start()))}},xe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xe.M=function(){Sn.Z.M.call(this),_n(this),delete this.g};var Gi=function(a){function n(o,u){var f=a.call(this)||this;return f.m=o,f.j=u,f.h=null,f.i=!1,f.g=null,f}return function(a,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=a}it(a,n),a.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}(n,a),n.prototype.l=function(o){this.h=arguments,this.g?this.i=!0:Xs(this)},n.prototype.M=function(){a.prototype.M.call(this),this.g&&(Oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},n}(Fn);function Wi(a){Fn.call(this),this.h=a,this.g={}}Jt(Wi,Fn);var Ms=[];function Li(a,n,o,u){Array.isArray(o)||(o&&(Ms[0]=o.toString()),o=Ms);for(var f=0;f<o.length;f++){var w=bs(n,o[f],u||a.handleEvent,!1,a.h||a);if(!w)break;a.g[w.key]=w}}function es(a){br(a.g,function(n,o){this.g.hasOwnProperty(o)&&gr(n)},a),a.g={}}function Vr(){this.g=!0}function nr(a,n,o,u){a.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(a,n){if(!a.g)return n;if(!n)return null;try{var o=JSON.parse(n);if(o)for(a=0;a<o.length;a++)if(Array.isArray(o[a])){var u=o[a];if(!(2>u.length)){var f=u[1];if(Array.isArray(f)&&!(1>f.length)){var w=f[0];if("noop"!=w&&"stop"!=w&&"close"!=w)for(var M=1;M<f.length;M++)f[M]=""}}}return Mi(o)}catch(H){return n}}(a,o)+(u?" "+u:"")})}Wi.prototype.M=function(){Wi.Z.M.call(this),es(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vr.prototype.Aa=function(){this.g=!1},Vr.prototype.info=function(){};var ii={},wi=null;function Nr(){return wi=wi||new Gn}function co(a){vt.call(this,ii.Ma,a)}function cs(a){var n=Nr();fn(n,new co(n,a))}function Ei(a,n){vt.call(this,ii.STAT_EVENT,a),this.stat=n}function $r(a){var n=Nr();fn(n,new Ei(n,a))}function ho(a,n){vt.call(this,ii.Na,a),this.size=n}function Rs(a,n){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return Oe.setTimeout(function(){a()},n)}ii.Ma="serverreachability",Jt(co,vt),ii.STAT_EVENT="statevent",Jt(Ei,vt),ii.Na="timingevent",Jt(ho,vt);var zs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Mo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function xs(){}function Bi(){}xs.prototype.h=null;var fo,zi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ui(){vt.call(this,"d")}function Ho(){vt.call(this,"c")}function Os(){}function eo(a,n,o,u){this.l=a,this.j=n,this.m=o,this.X=u||1,this.V=new Wi(this),this.P=Ri,this.W=new Sn(a=wt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ps}function Ps(){this.i=null,this.g="",this.h=!1}Jt(Ui,vt),Jt(Ho,vt),Jt(Os,xs),Os.prototype.g=function(){return new XMLHttpRequest},Os.prototype.i=function(){return{}},fo=new Os;var Ri=45e3,ks={},xi={};function to(a,n,o){a.K=1,a.v=gt(U(n)),a.s=o,a.U=!0,ts(a,null)}function ts(a,n){a.F=Date.now(),go(a),a.A=U(a.v);var o=a.A,u=a.X;Array.isArray(u)||(u=[String(u)]),_o(o.h,"t",u),a.C=0,o=a.l.H,a.h=new Ps,a.g=Wo(a.l,o?n:null,!a.s),0<a.O&&(a.L=new Gi(Nt(a.Ia,a,a.g),a.O)),Li(a.V,a.g,"readystatechange",a.gb),n=a.H?Ai(a.H):{},a.s?(a.u||(a.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.s,n)):(a.u="GET",a.g.ea(a.A,a.u,null,n)),cs(1),function(a,n,o,u,f,w){a.info(function(){if(a.g)if(w)for(var M="",H=w.split("&"),J=0;J<H.length;J++){var me=H[J].split("=");if(1<me.length){var De=me[0];me=me[1];var Fe=De.split("_");M=2<=Fe.length&&"type"==Fe[1]?M+(De+"=")+me+"&":M+(De+"=redacted&")}}else M=null;else M=w;return"XMLHTTP REQ ("+u+") [attempt "+f+"]: "+n+"\n"+o+"\n"+M})}(a.j,a.u,a.A,a.m,a.X,a.s)}function qi(a){return!!a.g&&"GET"==a.u&&2!=a.K&&a.l.Ba}function po(a,n,o){for(var f,u=!0;!a.I&&a.C<o.length;){if((f=Di(a,o))==xi){4==n&&(a.o=4,$r(14),u=!1),nr(a.j,a.m,null,"[Incomplete Response]");break}if(f==ks){a.o=4,$r(15),nr(a.j,a.m,o,"[Invalid Chunk]"),u=!1;break}nr(a.j,a.m,f,null),Br(a,f)}qi(a)&&f!=xi&&f!=ks&&(a.h.g="",a.C=0),4!=n||0!=o.length||a.h.h||(a.o=1,$r(16),u=!1),a.i=a.i&&u,u?0<o.length&&!a.aa&&(a.aa=!0,(n=a.l).g==a&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+o.length),Zi(n),n.L=!0,$r(11))):(nr(a.j,a.m,o,"[Invalid Chunked Response]"),Oi(a),Ls(a))}function Di(a,n){var o=a.C,u=n.indexOf("\n",o);return-1==u?xi:(o=Number(n.substring(o,u)),isNaN(o)?ks:(u+=1)+o>n.length?xi:(n=n.substr(u,o),a.C=u+o,n))}function go(a){a.Y=Date.now()+a.P,mo(a,a.P)}function mo(a,n){if(null!=a.B)throw Error("WatchDog timer not null");a.B=Rs(Nt(a.eb,a),n)}function Fs(a){a.B&&(Oe.clearTimeout(a.B),a.B=null)}function Ls(a){0==a.l.G||a.I||ji(a.l,a)}function Oi(a){Fs(a);var n=a.L;n&&"function"==typeof n.na&&n.na(),a.L=null,_n(a.W),es(a.V),a.g&&(n=a.g,a.g=null,n.abort(),n.na())}function Br(a,n){try{var o=a.l;if(0!=o.G&&(o.g==a||vo(o.i,a)))if(o.I=a.N,!a.J&&vo(o.i,a)&&3==o.G){try{var u=o.Ca.g.parse(n)}catch(Zn){u=null}if(Array.isArray(u)&&3==u.length){var f=u;if(0==f[0])e:if(o.u)o.ta=f[1],0<o.ta-o.U&&37500>f[2]&&o.N&&0==o.A&&!o.v&&(o.v=Rs(Nt(o.ab,o),6e3));else{if(o.g){if(!(o.g.F+3e3<a.F))break e;bo(o),Ir(o)}pi(o),$r(18)}if(1>=Un(o.i)&&o.ka){try{o.ka()}catch(Zn){}o.ka=void 0}}else Wr(o,11)}else if((a.J||o.g==a)&&bo(o),!ln(n))for(f=o.Ca.g.parse(n),n=0;n<f.length;n++){var w=f[n];if(o.U=w[0],w=w[1],2==o.G)if("c"==w[0]){o.J=w[1],o.la=w[2];var M=w[3];null!=M&&(o.ma=M,o.h.info("VER="+o.ma));var H=w[4];null!=H&&(o.za=H,o.h.info("SVER="+o.za));var J=w[5];null!=J&&"number"==typeof J&&0<J&&(o.K=u=1.5*J,o.h.info("backChannelRequestTimeoutMs_="+u)),u=o;var me=a.g;if(me){var De=me.g?me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(De){var Fe=u.i;!Fe.g&&(Mn(De,"spdy")||Mn(De,"quic")||Mn(De,"h2"))&&(Fe.j=Fe.l,Fe.g=new Set,Fe.h&&(Xr(Fe,Fe.h),Fe.h=null))}if(u.D){var ct=me.g?me.g.getResponseHeader("X-HTTP-Session-Id"):null;ct&&(u.sa=ct,et(u.F,u.D,ct))}}o.G=3,o.j&&o.j.xa(),o.$&&(o.O=Date.now()-a.F,o.h.info("Handshake RTT: "+o.O+"ms"));var _t=a;if((u=o).oa=wo(u,u.H?u.la:null,u.W),_t.J){va(u.i,_t);var Ot=_t,gn=u.K;gn&&Ot.setTimeout(gn),Ot.B&&(Fs(Ot),go(Ot)),u.g=_t}else mr(u);0<o.l.length&&Wt(o)}else"stop"!=w[0]&&"close"!=w[0]||Wr(o,7);else 3==o.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Wr(o,7):io(o):"noop"!=w[0]&&o.j&&o.j.wa(w),o.A=0)}cs(4)}catch(Zn){}}function Wn(a,n){if(a.forEach&&"function"==typeof a.forEach)a.forEach(n,void 0);else if(Ke(a)||"string"==typeof a)Ut(a,n,void 0);else{if(a.T&&"function"==typeof a.T)var o=a.T();else if(a.R&&"function"==typeof a.R)o=void 0;else if(Ke(a)||"string"==typeof a){o=[];for(var u=a.length,f=0;f<u;f++)o.push(f)}else for(f in o=[],u=0,a)o[u++]=f;f=(u=function(a){if(a.R&&"function"==typeof a.R)return a.R();if("string"==typeof a)return a.split("");if(Ke(a)){for(var n=[],o=a.length,u=0;u<o;u++)n.push(a[u]);return n}for(u in n=[],o=0,a)n[o++]=a[u];return n}(a)).length;for(var w=0;w<f;w++)n.call(void 0,u[w],o&&o[w],a)}}function Ci(a,n){this.h={},this.g=[],this.i=0;var o=arguments.length;if(1<o){if(o%2)throw Error("Uneven number of arguments");for(var u=0;u<o;u+=2)this.set(arguments[u],arguments[u+1])}else if(a)if(a instanceof Ci)for(o=a.T(),u=0;u<o.length;u++)this.set(o[u],a.get(o[u]));else for(u in a)this.set(u,a[u])}function ns(a){if(a.i!=a.g.length){for(var n=0,o=0;n<a.g.length;){var u=a.g[n];fi(a.h,u)&&(a.g[o++]=u),n++}a.g.length=o}if(a.i!=a.g.length){var f={};for(o=n=0;n<a.g.length;)fi(f,u=a.g[n])||(a.g[o++]=u,f[u]=1),n++;a.g.length=o}}function fi(a,n){return Object.prototype.hasOwnProperty.call(a,n)}(xe=eo.prototype).setTimeout=function(a){this.P=a},xe.gb=function(a){a=a.target;var n=this.L;n&&3==Hr(a)?n.l():this.Ia(a)},xe.Ia=function(a){try{if(a==this.g)e:{var n=Hr(this.g),o=this.g.Da(),u=this.g.ba();if(!(3>n)&&(3!=n||wt||this.g&&(this.h.h||this.g.ga()||Ii(this.g)))){this.I||4!=n||7==o||cs(8==o||0>=u?3:2),Fs(this);var f=this.g.ba();this.N=f;t:if(qi(this)){var w=Ii(this.g);a="";var M=w.length,H=4==Hr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Oi(this),Ls(this);var J="";break t}this.h.i=new Oe.TextDecoder}for(o=0;o<M;o++)this.h.h=!0,a+=this.h.i.decode(w[o],{stream:H&&o==M-1});w.splice(0,M),this.h.g+=a,this.C=0,J=this.h.g}else J=this.g.ga();if(this.i=200==f,function(a,n,o,u,f,w,M){a.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+f+"]: "+n+"\n"+o+"\n"+w+" "+M})}(this.j,this.u,this.A,this.m,this.X,n,f),this.i){if(this.$&&!this.J){t:{if(this.g){var me,De=this.g;if((me=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ln(me)){var Fe=me;break t}}Fe=null}if(!(f=Fe)){this.i=!1,this.o=3,$r(12),Oi(this),Ls(this);break e}nr(this.j,this.m,f,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Br(this,f)}this.U?(po(this,n,J),wt&&this.i&&3==n&&(Li(this.V,this.W,"tick",this.fb),this.W.start())):(nr(this.j,this.m,J,null),Br(this,J)),4==n&&Oi(this),this.i&&!this.I&&(4==n?ji(this.l,this):(this.i=!1,go(this)))}else 400==f&&0<J.indexOf("Unknown SID")?(this.o=3,$r(12)):(this.o=0,$r(13)),Oi(this),Ls(this)}}}catch(ct){}},xe.fb=function(){if(this.g){var a=Hr(this.g),n=this.g.ga();this.C<n.length&&(Fs(this),po(this,a,n),this.i&&4!=a&&go(this))}},xe.cancel=function(){this.I=!0,Oi(this)},xe.eb=function(){this.B=null;var a=Date.now();0<=a-this.Y?(function(a,n){a.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(cs(3),$r(17)),Oi(this),this.o=2,Ls(this)):mo(this,this.Y-a)},(xe=Ci.prototype).R=function(){ns(this);for(var a=[],n=0;n<this.g.length;n++)a.push(this.h[this.g[n]]);return a},xe.T=function(){return ns(this),this.g.concat()},xe.get=function(a,n){return fi(this.h,a)?this.h[a]:n},xe.set=function(a,n){fi(this.h,a)||(this.i++,this.g.push(a)),this.h[a]=n},xe.forEach=function(a,n){for(var o=this.T(),u=0;u<o.length;u++){var f=o[u],w=this.get(f);a.call(n,w,f,this)}};var Vn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ti(a,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,a instanceof Ti){this.g=void 0!==n?n:a.g,te(this,a.j),this.s=a.s,G(this,a.i),oe(this,a.m),this.l=a.l,n=a.h;var o=new Jr;o.i=n.i,n.g&&(o.g=new Ci(n.g),o.h=n.h),Ie(this,o),this.o=a.o}else a&&(o=String(a).match(Vn))?(this.g=!!n,te(this,o[1]||"",!0),this.s=k(o[2]||""),G(this,o[3]||"",!0),oe(this,o[4]),this.l=k(o[5]||"",!0),Ie(this,o[6]||"",!0),this.o=k(o[7]||"")):(this.g=!!n,this.h=new Jr(null,this.g))}function U(a){return new Ti(a)}function te(a,n,o){a.j=o?k(n,!0):n,a.j&&(a.j=a.j.replace(/:$/,""))}function G(a,n,o){a.i=o?k(n,!0):n}function oe(a,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);a.m=n}else a.m=null}function Ie(a,n,o){n instanceof Jr?(a.h=n,function(a,n){n&&!a.j&&(Ar(a),a.i=null,a.g.forEach(function(o,u){var f=u.toLowerCase();u!=f&&(on(this,u),_o(this,f,o))},a)),a.j=n}(a.h,a.g)):(o||(n=ne(n,lr)),a.h=new Jr(n,a.g))}function et(a,n,o){a.h.set(n,o)}function gt(a){return et(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function k(a,n){return a?n?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ne(a,n,o){return"string"==typeof a?(a=encodeURI(a).replace(n,ze),o&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ze(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Ti.prototype.toString=function(){var a=[],n=this.j;n&&a.push(ne(n,Et,!0),":");var o=this.i;return(o||"file"==n)&&(a.push("//"),(n=this.s)&&a.push(ne(n,Et,!0),"@"),a.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&a.push(":",String(o))),(o=this.l)&&(this.i&&"/"!=o.charAt(0)&&a.push("/"),a.push(ne(o,"/"==o.charAt(0)?ir:yn,!0))),(o=this.h.toString())&&a.push("?",o),(o=this.o)&&a.push("#",ne(o,ui)),a.join("")};var Et=/[#\/\?@]/g,yn=/[#\?:]/g,ir=/[#\?]/g,lr=/[#\?@]/g,ui=/#/g;function Jr(a,n){this.h=this.g=null,this.i=a||null,this.j=!!n}function Ar(a){a.g||(a.g=new Ci,a.h=0,a.i&&function(a,n){if(a){a=a.split("&");for(var o=0;o<a.length;o++){var u=a[o].indexOf("="),f=null;if(0<=u){var w=a[o].substring(0,u);f=a[o].substring(u+1)}else w=a[o];n(w,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(a.i,function(n,o){a.add(decodeURIComponent(n.replace(/\+/g," ")),o)}))}function on(a,n){Ar(a),n=yo(a,n),fi(a.g.h,n)&&(a.i=null,a.h-=a.g.get(n).length,fi((a=a.g).h,n)&&(delete a.h[n],a.i--,a.g.length>2*a.i&&ns(a)))}function Vs(a,n){return Ar(a),n=yo(a,n),fi(a.g.h,n)}function _o(a,n,o){on(a,n),0<o.length&&(a.i=null,a.g.set(yo(a,n),xr(o)),a.h+=o.length)}function yo(a,n){return n=String(n),a.j&&(n=n.toLowerCase()),n}(xe=Jr.prototype).add=function(a,n){Ar(this),this.i=null,a=yo(this,a);var o=this.g.get(a);return o||this.g.set(a,o=[]),o.push(n),this.h+=1,this},xe.forEach=function(a,n){Ar(this),this.g.forEach(function(o,u){Ut(o,function(f){a.call(n,f,u,this)},this)},this)},xe.T=function(){Ar(this);for(var a=this.g.R(),n=this.g.T(),o=[],u=0;u<n.length;u++)for(var f=a[u],w=0;w<f.length;w++)o.push(n[u]);return o},xe.R=function(a){Ar(this);var n=[];if("string"==typeof a)Vs(this,a)&&(n=dr(n,this.g.get(yo(this,a))));else{a=this.g.R();for(var o=0;o<a.length;o++)n=dr(n,a[o])}return n},xe.set=function(a,n){return Ar(this),this.i=null,Vs(this,a=yo(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[n]),this.h+=1,this},xe.get=function(a,n){return a&&0<(a=this.R(a)).length?String(a[0]):n},xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],n=this.g.T(),o=0;o<n.length;o++){var u=n[o],f=encodeURIComponent(String(u));u=this.R(u);for(var w=0;w<u.length;w++){var M=f;""!==u[w]&&(M+="="+encodeURIComponent(String(u[w]))),a.push(M)}}return this.i=a.join("&")};var Ro=function(n,o){this.h=n,this.g=o};function rl(a){this.l=a||na,a=Oe.PerformanceNavigationTiming?0<(a=Oe.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!(Oe.g&&Oe.g.Ea&&Oe.g.Ea()&&Oe.g.Ea().Zb),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var na=10;function mt(a){return!!a.h||!!a.g&&a.g.size>=a.j}function Un(a){return a.h?1:a.g?a.g.size:0}function vo(a,n){return a.h?a.h==n:!!a.g&&a.g.has(n)}function Xr(a,n){a.g?a.g.add(n):a.h=n}function va(a,n){a.h&&a.h==n?a.h=null:a.g&&a.g.has(n)&&a.g.delete(n)}function no(a){var n,o;if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){var u=a.i;try{for(var f=qt(a.g.values()),w=f.next();!w.done;w=f.next())u=u.concat(w.value.D)}catch(H){n={error:H}}finally{try{w&&!w.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return u}return xr(a.i)}function qs(){}function K(){this.g=new qs}function C(a,n,o){var u=o||"";try{Wn(a,function(f,w){var M=f;Xe(f)&&(M=Mi(f)),n.push(u+w+"="+encodeURIComponent(M))})}catch(f){throw n.push(u+"type="+encodeURIComponent("_badmap")),f}}function F(a,n,o,u,f){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,f(u)}catch(w){}}function Q(a){this.l=a.$b||null,this.j=a.ib||!1}function de(a,n){Gn.call(this),this.D=a,this.u=n,this.m=void 0,this.readyState=_e,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rl.prototype.cancel=function(){var a,n;if(this.i=no(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var o=qt(this.g.values()),u=o.next();!u.done;u=o.next())u.value.cancel()}catch(w){a={error:w}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}this.g.clear()}},qs.prototype.stringify=function(a){return Oe.JSON.stringify(a,void 0)},qs.prototype.parse=function(a){return Oe.JSON.parse(a,void 0)},Jt(Q,xs),Q.prototype.g=function(){return new de(this.l,this.j)},Q.prototype.i=function(a){return function(){return a}}({}),Jt(de,Gn);var _e=0;function Ne(a){a.j.read().then(a.Sa.bind(a)).catch(a.ha.bind(a))}function Ye(a){a.readyState=4,a.l=null,a.j=null,a.A=null,lt(a)}function lt(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(xe=de.prototype).open=function(a,n){if(this.readyState!=_e)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=n,this.readyState=1,lt(this)},xe.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(n.body=a),(this.D||Oe).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ye(this)),this.readyState=_e},xe.Va=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,lt(this)),this.g&&(this.readyState=3,lt(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Oe.ReadableStream&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ne(this)}else a.text().then(this.Ua.bind(this),this.ha.bind(this))},xe.Sa=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var n=a.value?a.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!a.done}))&&(this.response=this.responseText+=n)}a.done?Ye(this):lt(this),3==this.readyState&&Ne(this)}},xe.Ua=function(a){this.g&&(this.response=this.responseText=a,Ye(this))},xe.Ta=function(a){this.g&&(this.response=a,Ye(this))},xe.ha=function(){this.g&&Ye(this)},xe.setRequestHeader=function(a,n){this.v.append(a,n)},xe.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},xe.getAllResponseHeaders=function(){if(!this.h)return"";for(var a=[],n=this.h.entries(),o=n.next();!o.done;)a.push((o=o.value)[0]+": "+o[1]),o=n.next();return a.join("\r\n")},Object.defineProperty(de.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var Dt=Oe.JSON.parse;function At(a){Gn.call(this),this.headers=new Ci,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tn,this.K=this.L=!1}Jt(At,Gn);var Tn="",er=/^https?$/i,rn=["POST","PUT"];function kn(a){return"content-type"==a.toLowerCase()}function qr(a,n){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=n,a.m=5,vr(a),Yr(a)}function vr(a){a.D||(a.D=!0,fn(a,"complete"),fn(a,"error"))}function Yi(a){if(a.h&&void 0!==Ze&&(!a.C[1]||4!=Hr(a)||2!=a.ba()))if(a.v&&4==Hr(a))us(a.Fa,0,a);else if(fn(a,"readystatechange"),4==Hr(a)){a.h=!1;try{var u,n=a.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}if(!(u=o)){var f;if(f=0===n){var w=String(a.H).match(Vn)[1]||null;if(!w&&Oe.self&&Oe.self.location){var M=Oe.self.location.protocol;w=M.substr(0,M.length-1)}f=!er.test(w?w.toLowerCase():"")}u=f}if(u)fn(a,"complete"),fn(a,"success");else{a.m=6;try{var H=2<Hr(a)?a.g.statusText:""}catch(J){H=""}a.j=H+" ["+a.ba()+"]",vr(a)}}finally{Yr(a)}}}function Yr(a,n){if(a.g){ro(a);var o=a.g,u=a.C[0]?Je:null;a.g=null,a.C=null,n||fn(a,"ready");try{o.onreadystatechange=u}catch(f){}}}function ro(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&(Oe.clearTimeout(a.A),a.A=null)}function Hr(a){return a.g?a.g.readyState:0}function Ii(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case Tn:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(n){return null}}function Ts(a,n,o){e:{for(u in o){var u=!1;break e}u=!0}u||(o=function(a){var n="";return br(a,function(o,u){n+=u,n+=":",n+=o,n+="\r\n"}),n}(o),"string"==typeof a?null!=o&&encodeURIComponent(String(o)):et(a,n,o))}function ci(a,n,o){return o&&o.internalChannelParams&&o.internalChannelParams[a]||n}function ka(a){this.za=0,this.l=[],this.h=new Vr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ci("failFast",!1,a),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ci("baseRetryDelayMs",5e3,a),this.$a=ci("retryDelaySeedMs",1e4,a),this.Ya=ci("forwardChannelMaxRetries",2,a),this.ra=ci("forwardChannelRequestTimeoutMs",2e4,a),this.qa=a&&a.xmlHttpFactory||void 0,this.Ba=a&&a.Yb||!1,this.K=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.J="",this.i=new rl(a&&a.concurrentRequestLimit),this.Ca=new K,this.ja=a&&a.fastHandshake||!1,this.Ra=a&&a.Wb||!1,a&&a.Aa&&this.h.Aa(),a&&a.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&a&&a.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!a||!1!==a.Xb}function io(a){if(ds(a),3==a.G){var n=a.V++,o=U(a.F);et(o,"SID",a.J),et(o,"RID",n),et(o,"TYPE","terminate"),zn(a,o),(n=new eo(a,a.h,n,void 0)).K=2,n.v=gt(U(o)),o=!1,Oe.navigator&&Oe.navigator.sendBeacon&&(o=Oe.navigator.sendBeacon(n.v.toString(),"")),!o&&Oe.Image&&((new Image).src=n.v,o=!0),o||(n.g=Wo(n.l,null),n.g.ea(n.v)),n.F=Date.now(),go(n)}hs(a)}function Ir(a){a.g&&(Zi(a),a.g.cancel(),a.g=null)}function ds(a){Ir(a),a.u&&(Oe.clearTimeout(a.u),a.u=null),bo(a),a.i.cancel(),a.m&&("number"==typeof a.m&&Oe.clearTimeout(a.m),a.m=null)}function Gr(a,n){a.l.push(new Ro(a.Za++,n)),3==a.G&&Wt(a)}function Wt(a){mt(a.i)||a.m||(a.m=!0,Re(a.Ha,a),a.C=0)}function vn(a,n){var o;o=n?n.m:a.V++;var u=U(a.F);et(u,"SID",a.J),et(u,"RID",o),et(u,"AID",a.U),zn(a,u),a.o&&a.s&&Ts(u,a.o,a.s),o=new eo(a,a.h,o,a.C+1),null===a.o&&(o.H=a.s),n&&(a.l=n.D.concat(a.l)),n=di(a,o,1e3),o.setTimeout(Math.round(.5*a.ra)+Math.round(.5*a.ra*Math.random())),Xr(a.i,o),to(o,u,n)}function zn(a,n){a.j&&Wn({},function(o,u){et(n,u,o)})}function di(a,n,o){o=Math.min(a.l.length,o);var u=a.j?Nt(a.j.Oa,a.j,a):null;e:for(var f=a.l,w=-1;;){var M=["count="+o];-1==w?0<o?M.push("ofs="+(w=f[0].h)):w=0:M.push("ofs="+w);for(var H=!0,J=0;J<o;J++){var me=f[J].h,De=f[J].g;if(0>(me-=w))w=Math.max(0,f[J].h-100),H=!1;else try{C(De,M,"req"+me+"_")}catch(Fe){u&&u(De)}}if(H){u=M.join("&");break e}}return a=a.l.splice(0,o),n.D=a,u}function mr(a){a.g||a.u||(a.Y=1,Re(a.Ga,a),a.A=0)}function pi(a){return!(a.g||a.u||3<=a.A||(a.Y++,a.u=Rs(Nt(a.Ga,a),xo(a,a.A)),a.A++,0))}function Zi(a){null!=a.B&&(Oe.clearTimeout(a.B),a.B=null)}function Dr(a){a.g=new eo(a,a.h,"rpc",a.Y),null===a.o&&(a.g.H=a.s),a.g.O=0;var n=U(a.oa);et(n,"RID","rpc"),et(n,"SID",a.J),et(n,"CI",a.N?"0":"1"),et(n,"AID",a.U),zn(a,n),et(n,"TYPE","xmlhttp"),a.o&&a.s&&Ts(n,a.o,a.s),a.K&&a.g.setTimeout(a.K);var o=a.g;a=a.la,o.K=1,o.v=gt(U(n)),o.s=null,o.U=!0,ts(o,a)}function bo(a){null!=a.v&&(Oe.clearTimeout(a.v),a.v=null)}function ji(a,n){var o=null;if(a.g==n){bo(a),Zi(a),a.g=null;var u=2}else{if(!vo(a.i,n))return;o=n.D,va(a.i,n),u=1}if(a.I=n.N,0!=a.G)if(n.i)if(1==u){o=n.s?n.s.length:0,n=Date.now()-n.F;var f=a.C;fn(u=Nr(),new ho(u,o,n,f)),Wt(a)}else mr(a);else if(3==(f=n.o)||0==f&&0<a.I||!(1==u&&function(a,n){return!(Un(a.i)>=a.i.j-(a.m?1:0)||(a.m?(a.l=n.D.concat(a.l),0):1==a.G||2==a.G||a.C>=(a.Xa?0:a.Ya)||(a.m=Rs(Nt(a.Ha,a,n),xo(a,a.C)),a.C++,0)))}(a,n)||2==u&&pi(a)))switch(o&&0<o.length&&(n=a.i,n.i=n.i.concat(o)),f){case 1:Wr(a,5);break;case 4:Wr(a,10);break;case 3:Wr(a,6);break;default:Wr(a,2)}}function xo(a,n){var o=a.Pa+Math.floor(Math.random()*a.$a);return a.j||(o*=2),o*n}function Wr(a,n){if(a.h.info("Error code "+n),2==n){var o=null;a.j&&(o=null);var u=Nt(a.jb,a);o||(o=new Ti("//www.google.com/images/cleardot.gif"),Oe.location&&"http"==Oe.location.protocol||te(o,"https"),gt(o)),function(a,n){var o=new Vr;if(Oe.Image){var u=new Image;u.onload=Lt(F,o,u,"TestLoadImage: loaded",!0,n),u.onerror=Lt(F,o,u,"TestLoadImage: error",!1,n),u.onabort=Lt(F,o,u,"TestLoadImage: abort",!1,n),u.ontimeout=Lt(F,o,u,"TestLoadImage: timeout",!1,n),Oe.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=a}else n(!1)}(o.toString(),u)}else $r(2);a.G=0,a.j&&a.j.va(n),hs(a),ds(a)}function hs(a){a.G=0,a.I=-1,a.j&&((0!=no(a.i).length||0!=a.l.length)&&(a.i.i.length=0,xr(a.l),a.l.length=0),a.j.ua())}function wo(a,n,o){var u=function(a){return a instanceof Ti?U(a):new Ti(a,void 0)}(o);if(""!=u.i)n&&G(u,n+"."+u.i),oe(u,u.m);else{var f=Oe.location;u=function(a,n,o,u){var f=new Ti(null,void 0);return a&&te(f,a),n&&G(f,n),o&&oe(f,o),u&&(f.l=u),f}(f.protocol,n?n+"."+f.hostname:f.hostname,+f.port,o)}return a.aa&&br(a.aa,function(w,M){et(u,M,w)}),o=a.sa,(n=a.D)&&o&&et(u,n,o),et(u,"VER",a.ma),zn(a,u),u}function Wo(a,n,o){if(n&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new At(o&&a.Ba&&!a.qa?new Q({ib:!0}):a.qa)).L=a.H,n}function ra(){}function ba(){if(or&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function fs(a,n){Gn.call(this),this.g=new ka(n),this.l=a,this.h=n&&n.messageUrlParams||null,a=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(a?a["X-WebChannel-Content-Type"]=n.messageContentType:a={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(a?a["X-WebChannel-Client-Profile"]=n.ya:a={"X-WebChannel-Client-Profile":n.ya}),this.g.P=a,(a=n&&n.httpHeadersOverwriteParam)&&!ln(a)&&(this.g.o=a),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!ln(n)&&(this.g.D=n,null!==(a=this.h)&&n in a&&n in(a=this.h)&&delete a[n]),this.j=new Eo(this)}function Wl(a){Ui.call(this);var n=a.__sm__;if(n){e:{for(var o in n){a=o;break e}a=void 0}(this.i=a)&&(a=this.i,n=null!==n&&a in n?n[a]:void 0),this.data=n}else this.data=a}function zl(){Ho.call(this),this.status=1}function Eo(a){this.g=a}(xe=At.prototype).ea=function(a,n,o,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);n=n?n.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fo.g(),this.C=function(a){return a.h||(a.h=a.i())}(this.u?this.u:fo),this.g.onreadystatechange=Nt(this.Fa,this);try{this.F=!0,this.g.open(n,String(a),!0),this.F=!1}catch(w){return void qr(this,w)}a=o||"";var f=new Ci(this.headers);u&&Wn(u,function(w,M){f.set(M,w)}),u=function(a){e:{for(var n=kn,o=a.length,u="string"==typeof a?a.split(""):a,f=0;f<o;f++)if(f in u&&n.call(void 0,u[f],f,a)){n=f;break e}n=-1}return 0>n?null:"string"==typeof a?a.charAt(n):a[n]}(f.T()),o=Oe.FormData&&a instanceof Oe.FormData,!(0<=Zt(rn,n))||u||o||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),f.forEach(function(w,M){this.g.setRequestHeader(M,w)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ro(this),0<this.B&&((this.K=function(a){return or&&Ee()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.pa,this)):this.A=us(this.pa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(w){qr(this,w)}},xe.pa=function(){void 0!==Ze&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fn(this,"timeout"),this.abort(8))},xe.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,fn(this,"complete"),fn(this,"abort"),Yr(this))},xe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yr(this,!0)),At.Z.M.call(this)},xe.Fa=function(){this.s||(this.F||this.v||this.l?Yi(this):this.cb())},xe.cb=function(){Yi(this)},xe.ba=function(){try{return 2<Hr(this)?this.g.status:-1}catch(a){return-1}},xe.ga=function(){try{return this.g?this.g.responseText:""}catch(a){return""}},xe.Qa=function(a){if(this.g){var n=this.g.responseText;return a&&0==n.indexOf(a)&&(n=n.substring(a.length)),Dt(n)}},xe.Da=function(){return this.m},xe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(xe=ka.prototype).ma=8,xe.G=1,xe.hb=function(a){try{this.h.info("Origin Trials invoked: "+a)}catch(n){}},xe.Ha=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.V=Math.floor(1e5*Math.random()),a=this.V++;var n=new eo(this,this.h,a,void 0),o=this.s;if(this.P&&(o?Xt(o=Ai(o),this.P):o=this.P),null===this.o&&(n.H=o),this.ja)e:{for(var u=0,f=0;f<this.l.length;f++){var w=this.l[f];if(void 0===(w="__data__"in w.g&&"string"==typeof(w=w.g.__data__)?w.length:void 0))break;if(4096<(u+=w)){u=f;break e}if(4096===u||f===this.l.length-1){u=f+1;break e}}u=1e3}else u=1e3;u=di(this,n,u),et(f=U(this.F),"RID",a),et(f,"CVER",22),this.D&&et(f,"X-HTTP-Session-Id",this.D),zn(this,f),this.o&&o&&Ts(f,this.o,o),Xr(this.i,n),this.Ra&&et(f,"TYPE","init"),this.ja?(et(f,"$req",u),et(f,"SID","null"),n.$=!0,to(n,f,null)):to(n,f,u),this.G=2}}else 3==this.G&&(a?vn(this,a):0==this.l.length||mt(this.i)||vn(this))},xe.Ga=function(){if(this.u=null,Dr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var a=2*this.O;this.h.info("BP detection timer enabled: "+a),this.B=Rs(Nt(this.bb,this),a)}},xe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$r(10),Ir(this),Dr(this))},xe.ab=function(){null!=this.v&&(this.v=null,Ir(this),pi(this),$r(19))},xe.jb=function(a){a?(this.h.info("Successfully pinged google.com"),$r(2)):(this.h.info("Failed to ping google.com"),$r(1))},(xe=ra.prototype).xa=function(){},xe.wa=function(){},xe.va=function(){},xe.ua=function(){},xe.Oa=function(){},ba.prototype.g=function(a,n){return new fs(a,n)},Jt(fs,Gn),fs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var a=this.g,n=this.l,o=this.h||void 0;a.Wa&&(a.h.info("Origin Trials enabled."),Re(Nt(a.hb,a,n))),$r(0),a.W=n,a.aa=o||{},a.N=a.X,a.F=wo(a,null,a.W),Wt(a)},fs.prototype.close=function(){io(this.g)},fs.prototype.u=function(a){if("string"==typeof a){var n={};n.__data__=a,Gr(this.g,n)}else this.v?((n={}).__data__=Mi(a),Gr(this.g,n)):Gr(this.g,a)},fs.prototype.M=function(){this.g.j=null,delete this.j,io(this.g),delete this.g,fs.Z.M.call(this)},Jt(Wl,Ui),Jt(zl,Ho),Jt(Eo,ra),Eo.prototype.xa=function(){fn(this.g,"a")},Eo.prototype.wa=function(a){fn(this.g,new Wl(a))},Eo.prototype.va=function(a){fn(this.g,new zl(a))},Eo.prototype.ua=function(){fn(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Mo.COMPLETE="complete",Bi.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",Gn.prototype.listen=Gn.prototype.N,At.prototype.listenOnce=At.prototype.O,At.prototype.getLastError=At.prototype.La,At.prototype.getLastErrorCode=At.prototype.Da,At.prototype.getStatus=At.prototype.ba,At.prototype.getResponseJson=At.prototype.Qa,At.prototype.getResponseText=At.prototype.ga,At.prototype.send=At.prototype.ea;var Fa=zs,zo=Mo,La=ii,Si_PROXY=10,Si_NOPROXY=11,ia=Q,Va=Bi,wa=At;class Is{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Is.UNAUTHENTICATED=new Is(null),Is.GOOGLE_CREDENTIALS=new Is("google-credentials-uid"),Is.FIRST_PARTY=new Is("first-party-uid"),Is.MOCK_USER=new Is("mock-user");let Bs="9.0.2";const Oo=new kt.Yd("@firebase/firestore");function Ea(){return Oo.logLevel}function Ct(a,...n){if(Oo.logLevel<=kt.in.DEBUG){const o=n.map(R);Oo.debug(`Firestore (${Bs}): ${a}`,...o)}}function si(a,...n){if(Oo.logLevel<=kt.in.ERROR){const o=n.map(R);Oo.error(`Firestore (${Bs}): ${a}`,...o)}}function P(a,...n){if(Oo.logLevel<=kt.in.WARN){const o=n.map(R);Oo.warn(`Firestore (${Bs}): ${a}`,...o)}}function R(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch(o){return a}}function S(a="Unexpected state"){const n=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+a;throw si(n),new Error(n)}function V(a,n){a||S()}function Z(a,n){return a}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Error{constructor(n,o){super(o),this.code=n,this.message=o,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class st{constructor(){this.promise=new Promise((n,o)=>{this.resolve=n,this.reject=o})}}class $t{constructor(n,o){this.user=o,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class Qn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,o){n.enqueueRetryable(()=>o(Is.UNAUTHENTICATED))}shutdown(){}}class cn{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,o){this.changeListener=o,n.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class ei{constructor(n){this.t=n,this.currentUser=Is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,o){var u=this;let f=this.i;const w=me=>this.i!==f?(f=this.i,o(me)):Promise.resolve();let M=new st;this.o=()=>{this.i++,this.currentUser=this.u(),M.resolve(),M=new st,n.enqueueRetryable(()=>w(this.currentUser))};const H=()=>{const me=M;n.enqueueRetryable((0,be.Z)(function*(){yield me.promise,yield w(u.currentUser)}))},J=me=>{Ct("FirebaseCredentialsProvider","Auth detected"),this.auth=me,this.auth.addAuthTokenListener(this.o),H()};this.t.onInit(me=>J(me)),setTimeout(()=>{if(!this.auth){const me=this.t.getImmediate({optional:!0});me?J(me):(Ct("FirebaseCredentialsProvider","Auth not yet detected"),M.resolve(),M=new st)}},0),H()}getToken(){const n=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(u=>this.i!==n?(Ct("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):u?(V("string"==typeof u.accessToken),new $t(u.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return V(null===n||"string"==typeof n),new Is(n)}}class hr{constructor(n,o,u){this.h=n,this.l=o,this.m=u,this.type="FirstParty",this.user=Is.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},o=this.h.auth.getAuthHeaderValueForFirstParty([]);return o&&(n.Authorization=o),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class Po{constructor(n,o,u){this.h=n,this.l=o,this.m=u}getToken(){return Promise.resolve(new hr(this.h,this.l,this.m))}start(n,o){n.enqueueRetryable(()=>o(Is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ti{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.g(u),this.p=u=>o.writeSequenceNumber(u))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function Do(a){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),o=new Uint8Array(a);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(o);else for(let u=0;u<a;u++)o[u]=Math.floor(256*Math.random());return o}ti.T=-1;class sa{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/n.length)*n.length;let u="";for(;u.length<20;){const f=Do(40);for(let w=0;w<f.length;++w)u.length<20&&f[w]<o&&(u+=n.charAt(f[w]%n.length))}return u}}function xn(a,n){return a<n?-1:a>n?1:0}function rs(a,n,o){return a.length===n.length&&a.every((u,f)=>o(u,n[f]))}function Co(a){return a+"\0"}class Pi{constructor(n,o){if(this.seconds=n,this.nanoseconds=o,o<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(n<-62135596800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Pi.fromMillis(Date.now())}static fromDate(n){return Pi.fromMillis(n.getTime())}static fromMillis(n){const o=Math.floor(n/1e3),u=Math.floor(1e6*(n-1e3*o));return new Pi(o,u)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?xn(this.nanoseconds,n.nanoseconds):xn(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class On{constructor(n){this.timestamp=n}static fromTimestamp(n){return new On(n)}static min(){return new On(new Pi(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ic(a){let n=0;for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&n++;return n}function so(a,n){for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&n(o,a[o])}function Th(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}class sc{constructor(n,o,u){void 0===o?o=0:o>n.length&&S(),void 0===u?u=n.length-o:u>n.length-o&&S(),this.segments=n,this.offset=o,this.len=u}get length(){return this.len}isEqual(n){return 0===sc.comparator(this,n)}child(n){const o=this.segments.slice(this.offset,this.limit());return n instanceof sc?n.forEach(u=>{o.push(u)}):o.push(n),this.construct(o)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}forEach(n){for(let o=this.offset,u=this.limit();o<u;o++)n(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,o){const u=Math.min(n.length,o.length);for(let f=0;f<u;f++){const w=n.get(f),M=o.get(f);if(w<M)return-1;if(w>M)return 1}return n.length<o.length?-1:n.length>o.length?1:0}}class Ur extends sc{construct(n,o,u){return new Ur(n,o,u)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const o=[];for(const u of n){if(u.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${u}). Paths must not contain // in them.`);o.push(...u.split("/").filter(f=>f.length>0))}return new Ur(o)}static emptyPath(){return new Ur([])}}const zf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ps extends sc{construct(n,o,u){return new ps(n,o,u)}static isValidIdentifier(n){return zf.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ps.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ps(["__name__"])}static fromServerFormat(n){const o=[];let u="",f=0;const w=()=>{if(0===u.length)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(u),u=""};let M=!1;for(;f<n.length;){const H=n[f];if("\\"===H){if(f+1===n.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const J=n[f+1];if("\\"!==J&&"."!==J&&"`"!==J)throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);u+=J,f+=2}else"`"===H?(M=!M,f++):"."!==H||M?(u+=H,f++):(w(),f++)}if(w(),M)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new ps(o)}static emptyPath(){return new ps([])}}class ni{constructor(n){this.fields=n,n.sort(ps.comparator)}covers(n){for(const o of this.fields)if(o.isPrefixOf(n))return!0;return!1}isEqual(n){return rs(this.fields,n.fields,(o,u)=>o.isEqual(u))}}class qn{constructor(n){this.binaryString=n}static fromBase64String(n){const o=atob(n);return new qn(o)}static fromUint8Array(n){const o=function(u){let f="";for(let w=0;w<u.length;++w)f+=String.fromCharCode(u[w]);return f}(n);return new qn(o)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return xn(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const Hc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(a){if(V(!!a),"string"==typeof a){let n=0;const o=Hc.exec(a);if(V(!!o),o[1]){let f=o[1];f=(f+"000000000").substr(0,9),n=Number(f)}const u=new Date(a);return{seconds:Math.floor(u.getTime()/1e3),nanos:n}}return{seconds:$i(a.seconds),nanos:$i(a.nanos)}}function $i(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function il(a){return"string"==typeof a?qn.fromBase64String(a):qn.fromUint8Array(a)}function Gc(a){var n,o;return"server_timestamp"===(null===(o=((null===(n=null==a?void 0:a.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function Zl(a){const n=a.mapValue.fields.__previous_value__;return Gc(n)?Zl(n):n}function oc(a){const n=oa(a.mapValue.fields.__local_write_time__.timestampValue);return new Pi(n.seconds,n.nanos)}function ko(a){return null==a}function Da(a){return 0===a&&1/a==-1/0}function Ca(a){return"number"==typeof a&&Number.isInteger(a)&&!Da(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}class sn{constructor(n){this.path=n}static fromPath(n){return new sn(Ur.fromString(n))}static fromName(n){return new sn(Ur.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===Ur.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,o){return Ur.comparator(n.path,o.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new sn(new Ur(n.slice()))}}function ri(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Gc(a)?4:10:S()}function Ss(a,n){const o=ri(a);if(o!==ri(n))return!1;switch(o){case 0:return!0;case 1:return a.booleanValue===n.booleanValue;case 4:return oc(a).isEqual(oc(n));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const w=oa(u.timestampValue),M=oa(f.timestampValue);return w.seconds===M.seconds&&w.nanos===M.nanos}(a,n);case 5:return a.stringValue===n.stringValue;case 6:return f=n,il(a.bytesValue).isEqual(il(f.bytesValue));case 7:return a.referenceValue===n.referenceValue;case 8:return function(u,f){return $i(u.geoPointValue.latitude)===$i(f.geoPointValue.latitude)&&$i(u.geoPointValue.longitude)===$i(f.geoPointValue.longitude)}(a,n);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return $i(u.integerValue)===$i(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const w=$i(u.doubleValue),M=$i(f.doubleValue);return w===M?Da(w)===Da(M):isNaN(w)&&isNaN(M)}return!1}(a,n);case 9:return rs(a.arrayValue.values||[],n.arrayValue.values||[],Ss);case 10:return function(u,f){const w=u.mapValue.fields||{},M=f.mapValue.fields||{};if(ic(w)!==ic(M))return!1;for(const H in w)if(w.hasOwnProperty(H)&&(void 0===M[H]||!Ss(w[H],M[H])))return!1;return!0}(a,n);default:return S()}var f}function oo(a,n){return void 0!==(a.values||[]).find(o=>Ss(o,n))}function Fo(a,n){const o=ri(a),u=ri(n);if(o!==u)return xn(o,u);switch(o){case 0:return 0;case 1:return xn(a.booleanValue,n.booleanValue);case 2:return function(f,w){const M=$i(f.integerValue||f.doubleValue),H=$i(w.integerValue||w.doubleValue);return M<H?-1:M>H?1:M===H?0:isNaN(M)?isNaN(H)?0:-1:1}(a,n);case 3:return Ba(a.timestampValue,n.timestampValue);case 4:return Ba(oc(a),oc(n));case 5:return xn(a.stringValue,n.stringValue);case 6:return function(f,w){const M=il(f),H=il(w);return M.compareTo(H)}(a.bytesValue,n.bytesValue);case 7:return function(f,w){const M=f.split("/"),H=w.split("/");for(let J=0;J<M.length&&J<H.length;J++){const me=xn(M[J],H[J]);if(0!==me)return me}return xn(M.length,H.length)}(a.referenceValue,n.referenceValue);case 8:return function(f,w){const M=xn($i(f.latitude),$i(w.latitude));return 0!==M?M:xn($i(f.longitude),$i(w.longitude))}(a.geoPointValue,n.geoPointValue);case 9:return function(f,w){const M=f.values||[],H=w.values||[];for(let J=0;J<M.length&&J<H.length;++J){const me=Fo(M[J],H[J]);if(me)return me}return xn(M.length,H.length)}(a.arrayValue,n.arrayValue);case 10:return function(f,w){const M=f.fields||{},H=Object.keys(M),J=w.fields||{},me=Object.keys(J);H.sort(),me.sort();for(let De=0;De<H.length&&De<me.length;++De){const Fe=xn(H[De],me[De]);if(0!==Fe)return Fe;const ct=Fo(M[H[De]],J[me[De]]);if(0!==ct)return ct}return xn(H.length,me.length)}(a.mapValue,n.mapValue);default:throw S()}}function Ba(a,n){if("string"==typeof a&&"string"==typeof n&&a.length===n.length)return xn(a,n);const o=oa(a),u=oa(n),f=xn(o.seconds,u.seconds);return 0!==f?f:xn(o.nanos,u.nanos)}function gs(a){return Ys(a)}function Ys(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(u){const f=oa(u);return`time(${f.seconds},${f.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?il(a.bytesValue).toBase64():"referenceValue"in a?sn.fromName(a.referenceValue).toString():"geoPointValue"in a?`geo(${(n=a.geoPointValue).latitude},${n.longitude})`:"arrayValue"in a?function(u){let f="[",w=!0;for(const M of u.values||[])w?w=!1:f+=",",f+=Ys(M);return f+"]"}(a.arrayValue):"mapValue"in a?function(u){const f=Object.keys(u.fields||{}).sort();let w="{",M=!0;for(const H of f)M?M=!1:w+=",",w+=`${H}:${Ys(u.fields[H])}`;return w+"}"}(a.mapValue):S();var n}function aa(a,n){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${n.path.canonicalString()}`}}function To(a){return!!a&&"integerValue"in a}function Us(a){return!!a&&"arrayValue"in a}function Eu(a){return!!a&&"nullValue"in a}function ac(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function lc(a){return!!a&&"mapValue"in a}function Kl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const n={mapValue:{fields:{}}};return so(a.mapValue.fields,(o,u)=>n.mapValue.fields[o]=Kl(u)),n}if(a.arrayValue){const n={arrayValue:{values:[]}};for(let o=0;o<(a.arrayValue.values||[]).length;++o)n.arrayValue.values[o]=Kl(a.arrayValue.values[o]);return n}return Object.assign({},a)}class ao{constructor(n){this.value=n}static empty(){return new ao({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let o=this.value;for(let u=0;u<n.length-1;++u)if(o=(o.mapValue.fields||{})[n.get(u)],!lc(o))return null;return o=(o.mapValue.fields||{})[n.lastSegment()],o||null}}set(n,o){this.getFieldsMap(n.popLast())[n.lastSegment()]=Kl(o)}setAll(n){let o=ps.emptyPath(),u={},f=[];n.forEach((M,H)=>{if(!o.isImmediateParentOf(H)){const J=this.getFieldsMap(o);this.applyChanges(J,u,f),u={},f=[],o=H.popLast()}M?u[H.lastSegment()]=Kl(M):f.push(H.lastSegment())});const w=this.getFieldsMap(o);this.applyChanges(w,u,f)}delete(n){const o=this.field(n.popLast());lc(o)&&o.mapValue.fields&&delete o.mapValue.fields[n.lastSegment()]}isEqual(n){return Ss(this.value,n.value)}getFieldsMap(n){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let u=0;u<n.length;++u){let f=o.mapValue.fields[n.get(u)];lc(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},o.mapValue.fields[n.get(u)]=f),o=f}return o.mapValue.fields}applyChanges(n,o,u){so(o,(f,w)=>n[f]=w);for(const f of u)delete n[f]}clone(){return new ao(Kl(this.value))}}function Du(a){const n=[];return so(a.fields,(o,u)=>{const f=new ps([o]);if(lc(u)){const w=Du(u.mapValue).fields;if(0===w.length)n.push(f);else for(const M of w)n.push(f.child(M))}else n.push(f)}),new ni(n)}class ur{constructor(n,o,u,f,w){this.key=n,this.documentType=o,this.version=u,this.data=f,this.documentState=w}static newInvalidDocument(n){return new ur(n,0,On.min(),ao.empty(),0)}static newFoundDocument(n,o,u){return new ur(n,1,o,u,0)}static newNoDocument(n,o){return new ur(n,2,o,ao.empty(),0)}static newUnknownDocument(n,o){return new ur(n,3,o,ao.empty(),2)}convertToFoundDocument(n,o){return this.version=n,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=ao.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof ur&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new ur(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(n,o=null,u=[],f=[],w=null,M=null,H=null){this.path=n,this.collectionGroup=o,this.orderBy=u,this.filters=f,this.limit=w,this.startAt=M,this.endAt=H,this.A=null}}function Ua(a,n=null,o=[],u=[],f=null,w=null,M=null){return new Wc(a,n,o,u,f,w,M)}function uc(a){const n=Z(a);if(null===n.A){let o=n.path.canonicalString();null!==n.collectionGroup&&(o+="|cg:"+n.collectionGroup),o+="|f:",o+=n.filters.map(u=>function(a){return a.field.canonicalString()+a.op.toString()+gs(a.value)}(u)).join(","),o+="|ob:",o+=n.orderBy.map(u=>{return(f=u).field.canonicalString()+f.dir;var f}).join(","),ko(n.limit)||(o+="|l:",o+=n.limit),n.startAt&&(o+="|lb:",o+=dc(n.startAt)),n.endAt&&(o+="|ub:",o+=dc(n.endAt)),n.A=o}return n.A}function Ql(a,n){if(a.limit!==n.limit||a.orderBy.length!==n.orderBy.length)return!1;for(let f=0;f<a.orderBy.length;f++)if(!Tu(a.orderBy[f],n.orderBy[f]))return!1;if(a.filters.length!==n.filters.length)return!1;for(let f=0;f<a.filters.length;f++)if((o=a.filters[f]).op!==(u=n.filters[f]).op||!o.field.isEqual(u.field)||!Ss(o.value,u.value))return!1;var o,u;return a.collectionGroup===n.collectionGroup&&!!a.path.isEqual(n.path)&&!!Aa(a.startAt,n.startAt)&&Aa(a.endAt,n.endAt)}function Jl(a){return sn.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}class js extends class{}{constructor(n,o,u){super(),this.field=n,this.op=o,this.value=u}static create(n,o,u){return n.isKeyField()?"in"===o||"not-in"===o?this.R(n,o,u):new zc(n,o,u):"array-contains"===o?new Cu(n,u):"in"===o?new al(n,u):"not-in"===o?new Nl(n,u):"array-contains-any"===o?new Ta(n,u):new js(n,o,u)}static R(n,o,u){return"in"===o?new sl(n,u):new cc(n,u)}matches(n){const o=n.data.field(this.field);return"!="===this.op?null!==o&&this.P(Fo(o,this.value)):null!==o&&ri(this.value)===ri(o)&&this.P(Fo(o,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return S()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class zc extends js{constructor(n,o,u){super(n,o,u),this.key=sn.fromName(u.referenceValue)}matches(n){const o=sn.comparator(n.key,this.key);return this.P(o)}}class sl extends js{constructor(n,o){super(n,"in",o),this.keys=ol(0,o)}matches(n){return this.keys.some(o=>o.isEqual(n.key))}}class cc extends js{constructor(n,o){super(n,"not-in",o),this.keys=ol(0,o)}matches(n){return!this.keys.some(o=>o.isEqual(n.key))}}function ol(a,n){var o;return((null===(o=n.arrayValue)||void 0===o?void 0:o.values)||[]).map(u=>sn.fromName(u.referenceValue))}class Cu extends js{constructor(n,o){super(n,"array-contains",o)}matches(n){const o=n.data.field(this.field);return Us(o)&&oo(o.arrayValue,this.value)}}class al extends js{constructor(n,o){super(n,"in",o)}matches(n){const o=n.data.field(this.field);return null!==o&&oo(this.value.arrayValue,o)}}class Nl extends js{constructor(n,o){super(n,"not-in",o)}matches(n){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=n.data.field(this.field);return null!==o&&!oo(this.value.arrayValue,o)}}class Ta extends js{constructor(n,o){super(n,"array-contains-any",o)}matches(n){const o=n.data.field(this.field);return!(!Us(o)||!o.arrayValue.values)&&o.arrayValue.values.some(u=>oo(this.value.arrayValue,u))}}class Ia{constructor(n,o){this.position=n,this.before=o}}function dc(a){return`${a.before?"b":"a"}:${a.position.map(n=>gs(n)).join(",")}`}class Sa{constructor(n,o="asc"){this.field=n,this.dir=o}}function Tu(a,n){return a.dir===n.dir&&a.field.isEqual(n.field)}function Na(a,n,o){let u=0;for(let f=0;f<a.position.length;f++){const w=n[f],M=a.position[f];if(u=w.field.isKeyField()?sn.comparator(sn.fromName(M.referenceValue),o.key):Fo(M,o.data.field(w.field)),"desc"===w.dir&&(u*=-1),0!==u)break}return a.before?u<=0:u<0}function Aa(a,n){if(null===a)return null===n;if(null===n||a.before!==n.before||a.position.length!==n.position.length)return!1;for(let o=0;o<a.position.length;o++)if(!Ss(a.position[o],n.position[o]))return!1;return!0}class Zs{constructor(n,o=null,u=[],f=[],w=null,M="F",H=null,J=null){this.path=n,this.collectionGroup=o,this.explicitOrderBy=u,this.filters=f,this.limit=w,this.limitType=M,this.startAt=H,this.endAt=J,this.V=null,this.S=null}}function ll(a,n,o,u,f,w,M,H){return new Zs(a,n,o,u,f,w,M,H)}function Ma(a){return new Zs(a)}function gi(a){return!ko(a.limit)&&"F"===a.limitType}function ul(a){return!ko(a.limit)&&"L"===a.limitType}function Iu(a){return a.explicitOrderBy.length>0?a.explicitOrderBy[0].field:null}function lo(a){for(const n of a.filters)if(n.v())return n.field;return null}function cl(a){return null!==a.collectionGroup}function ja(a){const n=Z(a);if(null===n.V){n.V=[];const o=lo(n),u=Iu(n);if(null!==o&&null===u)o.isKeyField()||n.V.push(new Sa(o)),n.V.push(new Sa(ps.keyField(),"asc"));else{let f=!1;for(const w of n.explicitOrderBy)n.V.push(w),w.field.isKeyField()&&(f=!0);if(!f){const w=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new Sa(ps.keyField(),w))}}}return n.V}function Ks(a){const n=Z(a);if(!n.S)if("F"===n.limitType)n.S=Ua(n.path,n.collectionGroup,ja(n),n.filters,n.limit,n.startAt,n.endAt);else{const o=[];for(const w of ja(n))o.push(new Sa(w.field,"desc"===w.dir?"asc":"desc"));const u=n.endAt?new Ia(n.endAt.position,!n.endAt.before):null,f=n.startAt?new Ia(n.startAt.position,!n.startAt.before):null;n.S=Ua(n.path,n.collectionGroup,o,n.filters,n.limit,u,f)}return n.S}function Su(a,n,o){return new Zs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),n,o,a.startAt,a.endAt)}function Nu(a,n){return Ql(Ks(a),Ks(n))&&a.limitType===n.limitType}function $a(a){return`${uc(Ks(a))}|lt:${a.limitType}`}function Lo(a){return`Query(target=${function(a){let n=a.path.canonicalString();return null!==a.collectionGroup&&(n+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(n+=`, filters: [${a.filters.map(o=>{return`${(u=o).field.canonicalString()} ${u.op} ${gs(u.value)}`;var u}).join(", ")}]`),ko(a.limit)||(n+=", limit: "+a.limit),a.orderBy.length>0&&(n+=`, orderBy: [${a.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),a.startAt&&(n+=", startAt: "+dc(a.startAt)),a.endAt&&(n+=", endAt: "+dc(a.endAt)),`Target(${n})`}(Ks(a))}; limitType=${a.limitType})`}function Ha(a,n){return n.isFoundDocument()&&function(o,u){const f=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(f):sn.isDocumentKey(o.path)?o.path.isEqual(f):o.path.isImmediateParentOf(f)}(a,n)&&function(o,u){for(const f of o.explicitOrderBy)if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(a,n)&&function(o,u){for(const f of o.filters)if(!f.matches(u))return!1;return!0}(a,n)&&(u=n,!((o=a).startAt&&!Na(o.startAt,ja(o),u)||o.endAt&&Na(o.endAt,ja(o),u)));var o,u}function la(a){return(n,o)=>{let u=!1;for(const f of ja(a)){const w=Au(f,n,o);if(0!==w)return w;u=u||f.field.isKeyField()}return 0}}function Au(a,n,o){const u=a.field.isKeyField()?sn.comparator(n.key,o.key):function(f,w,M){const H=w.data.field(f),J=M.data.field(f);return null!==H&&null!==J?Fo(H,J):S()}(a.field,n,o);switch(a.dir){case"asc":return u;case"desc":return-1*u;default:return S()}}function Xl(a,n){if(a.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Da(n)?"-0":n}}function Ga(a){return{integerValue:""+a}}function eu(a,n){return Ca(n)?Ga(n):Xl(a,n)}class tu{constructor(){this._=void 0}}function hc(a,n,o){return a instanceof Yo?function(u,f){const w={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&(w.fields.__previous_value__=f),{mapValue:w}}(o,n):a instanceof dl?qc(a,n):a instanceof Zo?fc(a,n):function(u,f){const w=Al(u,f),M=pc(w)+pc(u.C);return To(w)&&To(u.C)?Ga(M):Xl(u.N,M)}(a,n)}function kd(a,n,o){return a instanceof dl?qc(a,n):a instanceof Zo?fc(a,n):o}function Al(a,n){return a instanceof Ml?To(o=n)||(u=o)&&"doubleValue"in u?n:{integerValue:0}:null;var u,o}class Yo extends tu{}class dl extends tu{constructor(n){super(),this.elements=n}}function qc(a,n){const o=gc(n);for(const u of a.elements)o.some(f=>Ss(f,u))||o.push(u);return{arrayValue:{values:o}}}class Zo extends tu{constructor(n){super(),this.elements=n}}function fc(a,n){let o=gc(n);for(const u of a.elements)o=o.filter(f=>!Ss(f,u));return{arrayValue:{values:o}}}class Ml extends tu{constructor(n,o){super(),this.N=n,this.C=o}}function pc(a){return $i(a.integerValue||a.doubleValue)}function gc(a){return Us(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Rl{constructor(n,o){this.field=n,this.transform=o}}class Yc{constructor(n,o){this.version=n,this.transformResults=o}}class oi{constructor(n,o){this.updateTime=n,this.exists=o}static none(){return new oi}static exists(n){return new oi(void 0,n)}static updateTime(n){return new oi(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Mu(a,n){return void 0!==a.updateTime?n.isFoundDocument()&&n.version.isEqual(a.updateTime):void 0===a.exists||a.exists===n.isFoundDocument()}class Ru{}function Zc(a,n,o){a instanceof hl?function(u,f,w){const M=u.value.clone(),H=Jc(u.fieldTransforms,f,w.transformResults);M.setAll(H),f.convertToFoundDocument(w.version,M).setHasCommittedMutations()}(a,n,o):a instanceof $s?function(u,f,w){if(!Mu(u.precondition,f))return void f.convertToUnknownDocument(w.version);const M=Jc(u.fieldTransforms,f,w.transformResults),H=f.data;H.setAll(Qc(u)),H.setAll(M),f.convertToFoundDocument(w.version,H).setHasCommittedMutations()}(a,n,o):n.convertToNoDocument(o.version).setHasCommittedMutations()}function xl(a,n,o){var f;a instanceof hl?function(u,f,w){if(!Mu(u.precondition,f))return;const M=u.value.clone(),H=Fd(u.fieldTransforms,w,f);M.setAll(H),f.convertToFoundDocument(xu(f),M).setHasLocalMutations()}(a,n,o):a instanceof $s?function(u,f,w){if(!Mu(u.precondition,f))return;const M=Fd(u.fieldTransforms,w,f),H=f.data;H.setAll(Qc(u)),H.setAll(M),f.convertToFoundDocument(xu(f),H).setHasLocalMutations()}(a,n,o):Mu(a.precondition,f=n)&&f.convertToNoDocument(On.min())}function Ol(a,n){let o=null;for(const u of a.fieldTransforms){const f=n.data.field(u.field),w=Al(u.transform,f||null);null!=w&&(null==o&&(o=ao.empty()),o.set(u.field,w))}return o||null}function Kc(a,n){return a.type===n.type&&!!a.key.isEqual(n.key)&&!!a.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===u||o&&u&&rs(o,u,(f,w)=>function(a,n){return a.field.isEqual(n.field)&&(u=n.transform,(o=a.transform)instanceof dl&&u instanceof dl||o instanceof Zo&&u instanceof Zo?rs(o.elements,u.elements,Ss):o instanceof Ml&&u instanceof Ml?Ss(o.C,u.C):o instanceof Yo&&u instanceof Yo);var o,u}(f,w))))&&(0===a.type?a.value.isEqual(n.value):1!==a.type||a.data.isEqual(n.data)&&a.fieldMask.isEqual(n.fieldMask));var o,u}function xu(a){return a.isFoundDocument()?a.version:On.min()}class hl extends Ru{constructor(n,o,u,f=[]){super(),this.key=n,this.value=o,this.precondition=u,this.fieldTransforms=f,this.type=0}}class $s extends Ru{constructor(n,o,u,f,w=[]){super(),this.key=n,this.data=o,this.fieldMask=u,this.precondition=f,this.fieldTransforms=w,this.type=1}}function Qc(a){const n=new Map;return a.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const u=a.data.field(o);n.set(o,u)}}),n}function Jc(a,n,o){const u=new Map;V(a.length===o.length);for(let f=0;f<o.length;f++){const w=a[f],M=w.transform,H=n.data.field(w.field);u.set(w.field,kd(M,H,o[f]))}return u}function Fd(a,n,o){const u=new Map;for(const f of a){const w=f.transform,M=o.data.field(f.field);u.set(f.field,hc(w,M,n))}return u}class Pl extends Ru{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=2,this.fieldTransforms=[]}}class mc extends Ru{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=3,this.fieldTransforms=[]}}class Wa{constructor(n){this.count=n}}var hi,Jn;function Ld(a){switch(a){case ee.OK:return S();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return S()}}function _c(a){if(void 0===a)return si("GRPC error has no .code"),ee.UNKNOWN;switch(a){case hi.OK:return ee.OK;case hi.CANCELLED:return ee.CANCELLED;case hi.UNKNOWN:return ee.UNKNOWN;case hi.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case hi.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case hi.INTERNAL:return ee.INTERNAL;case hi.UNAVAILABLE:return ee.UNAVAILABLE;case hi.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case hi.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case hi.NOT_FOUND:return ee.NOT_FOUND;case hi.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case hi.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case hi.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case hi.ABORTED:return ee.ABORTED;case hi.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case hi.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case hi.DATA_LOSS:return ee.DATA_LOSS;default:return S()}}(Jn=hi||(hi={}))[Jn.OK=0]="OK",Jn[Jn.CANCELLED=1]="CANCELLED",Jn[Jn.UNKNOWN=2]="UNKNOWN",Jn[Jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jn[Jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jn[Jn.NOT_FOUND=5]="NOT_FOUND",Jn[Jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jn[Jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jn[Jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jn[Jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jn[Jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jn[Jn.ABORTED=10]="ABORTED",Jn[Jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jn[Jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jn[Jn.INTERNAL=13]="INTERNAL",Jn[Jn.UNAVAILABLE=14]="UNAVAILABLE",Jn[Jn.DATA_LOSS=15]="DATA_LOSS";class ki{constructor(n,o){this.comparator=n,this.root=o||is.EMPTY}insert(n,o){return new ki(this.comparator,this.root.insert(n,o,this.comparator).copy(null,null,is.BLACK,null,null))}remove(n){return new ki(this.comparator,this.root.remove(n,this.comparator).copy(null,null,is.BLACK,null,null))}get(n){let o=this.root;for(;!o.isEmpty();){const u=this.comparator(n,o.key);if(0===u)return o.value;u<0?o=o.left:u>0&&(o=o.right)}return null}indexOf(n){let o=0,u=this.root;for(;!u.isEmpty();){const f=this.comparator(n,u.key);if(0===f)return o+u.left.size;f<0?u=u.left:(o+=u.left.size+1,u=u.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((o,u)=>(n(o,u),!1))}toString(){const n=[];return this.inorderTraversal((o,u)=>(n.push(`${o}:${u}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Ou(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Ou(this.root,n,this.comparator,!1)}getReverseIterator(){return new Ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Ou(this.root,n,this.comparator,!0)}}class Ou{constructor(n,o,u,f){this.isReverse=f,this.nodeStack=[];let w=1;for(;!n.isEmpty();)if(w=o?u(n.key,o):1,f&&(w*=-1),w<0)n=this.isReverse?n.left:n.right;else{if(0===w){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const o={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class is{constructor(n,o,u,f,w){this.key=n,this.value=o,this.color=null!=u?u:is.RED,this.left=null!=f?f:is.EMPTY,this.right=null!=w?w:is.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,o,u,f,w){return new is(null!=n?n:this.key,null!=o?o:this.value,null!=u?u:this.color,null!=f?f:this.left,null!=w?w:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,o,u){let f=this;const w=u(n,f.key);return f=w<0?f.copy(null,null,null,f.left.insert(n,o,u),null):0===w?f.copy(null,o,null,null,null):f.copy(null,null,null,null,f.right.insert(n,o,u)),f.fixUp()}removeMin(){if(this.left.isEmpty())return is.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,o){let u,f=this;if(o(n,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(n,o),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===o(n,f.key)){if(f.right.isEmpty())return is.EMPTY;u=f.right.min(),f=f.copy(u.key,u.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(n,o))}return f.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,is.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw S();const n=this.left.check();if(n!==this.right.check())throw S();return n+(this.isRed()?0:1)}}is.EMPTY=null,is.RED=!0,is.BLACK=!1,is.EMPTY=new class{constructor(){this.size=0}get key(){throw S()}get value(){throw S()}get color(){throw S()}get left(){throw S()}get right(){throw S()}copy(a,n,o,u,f){return this}insert(a,n,o){return new is(a,n)}remove(a,n){return this}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mi{constructor(n){this.comparator=n,this.data=new ki(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((o,u)=>(n(o),!1))}forEachInRange(n,o){const u=this.data.getIteratorFrom(n[0]);for(;u.hasNext();){const f=u.getNext();if(this.comparator(f.key,n[1])>=0)return;o(f.key)}}forEachWhile(n,o){let u;for(u=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();u.hasNext();)if(!n(u.getNext().key))return}firstAfterOrEqual(n){const o=this.data.getIteratorFrom(n);return o.hasNext()?o.getNext().key:null}getIterator(){return new Xc(this.data.getIterator())}getIteratorFrom(n){return new Xc(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let o=this;return o.size<n.size&&(o=n,n=this),n.forEach(u=>{o=o.add(u)}),o}isEqual(n){if(!(n instanceof mi)||this.size!==n.size)return!1;const o=this.data.getIterator(),u=n.data.getIterator();for(;o.hasNext();){const f=o.getNext().key,w=u.getNext().key;if(0!==this.comparator(f,w))return!1}return!0}toArray(){const n=[];return this.forEach(o=>{n.push(o)}),n}toString(){const n=[];return this.forEach(o=>n.push(o)),"SortedSet("+n.toString()+")"}copy(n){const o=new mi(this.comparator);return o.data=n,o}}class Xc{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const yc=new ki(sn.comparator);function Io(){return yc}const Vd=new ki(sn.comparator);function Pu(){return Vd}const Sh=new ki(sn.comparator);function fl(){return Sh}const ed=new mi(sn.comparator);function sr(...a){let n=ed;for(const o of a)n=n.add(o);return n}const ru=new mi(xn);function kl(){return ru}class pl{constructor(n,o,u,f,w){this.snapshotVersion=n,this.targetChanges=o,this.targetMismatches=u,this.documentUpdates=f,this.resolvedLimboDocuments=w}static createSynthesizedRemoteEventForCurrentChange(n,o){const u=new Map;return u.set(n,gl.createSynthesizedTargetChangeForCurrentChange(n,o)),new pl(On.min(),u,kl(),Io(),sr())}}class gl{constructor(n,o,u,f,w){this.resumeToken=n,this.current=o,this.addedDocuments=u,this.modifiedDocuments=f,this.removedDocuments=w}static createSynthesizedTargetChangeForCurrentChange(n,o){return new gl(qn.EMPTY_BYTE_STRING,o,sr(),sr(),sr())}}class vc{constructor(n,o,u,f){this.k=n,this.removedTargetIds=o,this.key=u,this.$=f}}class bc{constructor(n,o){this.targetId=n,this.O=o}}class wc{constructor(n,o,u=qn.EMPTY_BYTE_STRING,f=null){this.state=n,this.targetIds=o,this.resumeToken=u,this.cause=f}}class Ec{constructor(){this.F=0,this.M=Bd(),this.L=qn.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=sr(),o=sr(),u=sr();return this.M.forEach((f,w)=>{switch(w){case 0:n=n.add(f);break;case 2:o=o.add(f);break;case 1:u=u.add(f);break;default:S()}}),new gl(this.L,this.B,n,o,u)}G(){this.U=!1,this.M=Bd()}H(n,o){this.U=!0,this.M=this.M.insert(n,o)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class ku{constructor(n){this.tt=n,this.et=new Map,this.nt=Io(),this.st=ml(),this.it=new mi(xn)}rt(n){for(const o of n.k)n.$&&n.$.isFoundDocument()?this.ot(o,n.$):this.at(o,n.key,n.$);for(const o of n.removedTargetIds)this.at(o,n.key,n.$)}ct(n){this.forEachTarget(n,o=>{const u=this.ut(o);switch(n.state){case 0:this.ht(o)&&u.j(n.resumeToken);break;case 1:u.X(),u.q||u.G(),u.j(n.resumeToken);break;case 2:u.X(),u.q||this.removeTarget(o);break;case 3:this.ht(o)&&(u.Z(),u.j(n.resumeToken));break;case 4:this.ht(o)&&(this.lt(o),u.j(n.resumeToken));break;default:S()}})}forEachTarget(n,o){n.targetIds.length>0?n.targetIds.forEach(o):this.et.forEach((u,f)=>{this.ht(f)&&o(f)})}ft(n){const o=n.targetId,u=n.O.count,f=this.dt(o);if(f){const w=f.target;if(Jl(w))if(0===u){const M=new sn(w.path);this.at(o,M,ur.newNoDocument(M,On.min()))}else V(1===u);else this.wt(o)!==u&&(this.lt(o),this.it=this.it.add(o))}}_t(n){const o=new Map;this.et.forEach((w,M)=>{const H=this.dt(M);if(H){if(w.current&&Jl(H.target)){const J=new sn(H.target.path);null!==this.nt.get(J)||this.gt(M,J)||this.at(M,J,ur.newNoDocument(J,n))}w.K&&(o.set(M,w.W()),w.G())}});let u=sr();this.st.forEach((w,M)=>{let H=!0;M.forEachWhile(J=>{const me=this.dt(J);return!me||2===me.purpose||(H=!1,!1)}),H&&(u=u.add(w))});const f=new pl(n,o,this.it,this.nt,u);return this.nt=Io(),this.st=ml(),this.it=new mi(xn),f}ot(n,o){if(!this.ht(n))return;const u=this.gt(n,o.key)?2:0;this.ut(n).H(o.key,u),this.nt=this.nt.insert(o.key,o),this.st=this.st.insert(o.key,this.yt(o.key).add(n))}at(n,o,u){if(!this.ht(n))return;const f=this.ut(n);this.gt(n,o)?f.H(o,1):f.J(o),this.st=this.st.insert(o,this.yt(o).delete(n)),u&&(this.nt=this.nt.insert(o,u))}removeTarget(n){this.et.delete(n)}wt(n){const o=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+o.addedDocuments.size-o.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let o=this.et.get(n);return o||(o=new Ec,this.et.set(n,o)),o}yt(n){let o=this.st.get(n);return o||(o=new mi(xn),this.st=this.st.insert(n,o)),o}ht(n){const o=null!==this.dt(n);return o||Ct("WatchChangeAggregator","Detected inactive target",n),o}dt(n){const o=this.et.get(n);return o&&o.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new Ec),this.tt.getRemoteKeysForTarget(n).forEach(o=>{this.at(n,o,null)})}gt(n,o){return this.tt.getRemoteKeysForTarget(n).has(o)}}function ml(){return new ki(sn.comparator)}function Bd(){return new ki(sn.comparator)}const Ud={asc:"ASCENDING",desc:"DESCENDING"},td={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Dc{constructor(n,o){this.databaseId=n,this.D=o}}function iu(a,n){return a.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function nd(a,n){return a.D?n.toBase64():n.toUint8Array()}function jd(a,n){return iu(a,n.toTimestamp())}function ms(a){return V(!!a),On.fromTimestamp(function(n){const o=oa(n);return new Pi(o.seconds,o.nanos)}(a))}function ua(a,n){return(o=a,new Ur(["projects",o.projectId,"databases",o.database])).child("documents").child(n).canonicalString();var o}function Cc(a){const n=Ur.fromString(a);return V(cr(n)),n}function za(a,n){return ua(a.databaseId,n.path)}function ca(a,n){const o=Cc(n);if(o.get(1)!==a.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+a.databaseId.projectId);if(o.get(3)!==a.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+a.databaseId.database);return new sn(ou(o))}function _i(a,n){return ua(a.databaseId,n)}function rd(a){const n=Cc(a);return 4===n.length?Ur.emptyPath():ou(n)}function su(a){return new Ur(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function ou(a){return V(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function au(a,n,o){return{name:za(a,n),fields:o.value.mapValue.fields}}function Fu(a,n,o){const u=ca(a,n.name),f=ms(n.updateTime),w=new ao({mapValue:{fields:n.fields}}),M=ur.newFoundDocument(u,f,w);return o&&M.setHasCommittedMutations(),o?M.setHasCommittedMutations():M}function Fl(a,n){let o;if(n instanceof hl)o={update:au(a,n.key,n.value)};else if(n instanceof Pl)o={delete:za(a,n.key)};else if(n instanceof $s)o={update:au(a,n.key,n.data),updateMask:Cn(n.fieldMask)};else{if(!(n instanceof mc))return S();o={verify:za(a,n.key)}}return n.fieldTransforms.length>0&&(o.updateTransforms=n.fieldTransforms.map(u=>function(f,w){const M=w.transform;if(M instanceof Yo)return{fieldPath:w.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(M instanceof dl)return{fieldPath:w.field.canonicalString(),appendMissingElements:{values:M.elements}};if(M instanceof Zo)return{fieldPath:w.field.canonicalString(),removeAllFromArray:{values:M.elements}};if(M instanceof Ml)return{fieldPath:w.field.canonicalString(),increment:M.C};throw S()}(0,u))),n.precondition.isNone||(o.currentDocument=void 0!==(f=n.precondition).updateTime?{updateTime:jd(a,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:S()),o;var f}function uo(a,n){const o=n.currentDocument?void 0!==(f=n.currentDocument).updateTime?oi.updateTime(ms(f.updateTime)):void 0!==f.exists?oi.exists(f.exists):oi.none():oi.none(),u=n.updateTransforms?n.updateTransforms.map(f=>function(w,M){let H=null;"setToServerValue"in M?(V("REQUEST_TIME"===M.setToServerValue),H=new Yo):"appendMissingElements"in M?H=new dl(M.appendMissingElements.values||[]):"removeAllFromArray"in M?H=new Zo(M.removeAllFromArray.values||[]):"increment"in M?H=new Ml(w,M.increment):S();const J=ps.fromServerFormat(M.fieldPath);return new Rl(J,H)}(a,f)):[];var f;if(n.update){const f=ca(a,n.update.name),w=new ao({mapValue:{fields:n.update.fields}});if(n.updateMask){const M=new ni((n.updateMask.fieldPaths||[]).map(me=>ps.fromServerFormat(me)));return new $s(f,w,M,o,u)}return new hl(f,w,o,u)}if(n.delete){const f=ca(a,n.delete);return new Pl(f,o)}if(n.verify){const f=ca(a,n.verify);return new mc(f,o)}return S()}function D(a,n){return{documents:[_i(a,n.path)]}}function h(a,n){const o={structuredQuery:{}},u=n.path;null!==n.collectionGroup?(o.parent=_i(a,u),o.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(o.parent=_i(a,u.popLast()),o.structuredQuery.from=[{collectionId:u.lastSegment()}]);const f=function(H){if(0===H.length)return;const J=H.map(me=>function(De){if("=="===De.op){if(ac(De.value))return{unaryFilter:{field:It(De.field),op:"IS_NAN"}};if(Eu(De.value))return{unaryFilter:{field:It(De.field),op:"IS_NULL"}}}else if("!="===De.op){if(ac(De.value))return{unaryFilter:{field:It(De.field),op:"IS_NOT_NAN"}};if(Eu(De.value))return{unaryFilter:{field:It(De.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:It(De.field),op:yt(De.op),value:De.value}}}(me));return 1===J.length?J[0]:{compositeFilter:{op:"AND",filters:J}}}(n.filters);f&&(o.structuredQuery.where=f);const w=function(H){if(0!==H.length)return H.map(J=>{return{field:It((me=J).field),direction:ot(me.dir)};var me})}(n.orderBy);w&&(o.structuredQuery.orderBy=w);const M=(J=n.limit,a.D||ko(J)?J:{value:J});var J;return null!==M&&(o.structuredQuery.limit=M),n.startAt&&(o.structuredQuery.startAt=Se(n.startAt)),n.endAt&&(o.structuredQuery.endAt=Se(n.endAt)),o}function _(a){let n=rd(a.parent);const o=a.structuredQuery,u=o.from?o.from.length:0;let f=null;if(u>0){V(1===u);const De=o.from[0];De.allDescendants?f=De.collectionId:n=n.child(De.collectionId)}let w=[];o.where&&(w=j(o.where));let M=[];o.orderBy&&(M=o.orderBy.map(De=>{return new Sa(Yt((Fe=De).field),function(ct){switch(ct){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Fe.direction));var Fe}));let H=null;o.limit&&(H=function(De){let Fe;return Fe="object"==typeof De?De.value:De,ko(Fe)?null:Fe}(o.limit));let J=null;o.startAt&&(J=Pe(o.startAt));let me=null;return o.endAt&&(me=Pe(o.endAt)),ll(n,f,M,w,H,"F",J,me)}function j(a){return a?void 0!==a.unaryFilter?[pn(a)]:void 0!==a.fieldFilter?[zt(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(n=>j(n)).reduce((n,o)=>n.concat(o)):S():[]}function Se(a){return{before:a.before,values:a.position}}function Pe(a){return new Ia(a.values||[],!!a.before)}function ot(a){return Ud[a]}function yt(a){return td[a]}function It(a){return{fieldPath:a.canonicalString()}}function Yt(a){return ps.fromServerFormat(a.fieldPath)}function zt(a){return js.create(Yt(a.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return S()}}(a.fieldFilter.op),a.fieldFilter.value)}function pn(a){switch(a.unaryFilter.op){case"IS_NAN":const n=Yt(a.unaryFilter.field);return js.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Yt(a.unaryFilter.field);return js.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Yt(a.unaryFilter.field);return js.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Yt(a.unaryFilter.field);return js.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return S()}}function Cn(a){const n=[];return a.fields.forEach(o=>n.push(o.canonicalString())),{fieldPaths:n}}function cr(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}function Mr(a){let n="";for(let o=0;o<a.length;o++)n.length>0&&(n=_s(n)),n=Hs(a.get(o),n);return _s(n)}function Hs(a,n){let o=n;const u=a.length;for(let f=0;f<u;f++){const w=a.charAt(f);switch(w){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=w}}return o}function _s(a){return a+"\x01\x01"}function ss(a){const n=a.length;if(V(n>=2),2===n)return V("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),Ur.emptyPath();const o=n-2,u=[];let f="";for(let w=0;w<n;){const M=a.indexOf("\x01",w);switch((M<0||M>o)&&S(),a.charAt(M+1)){case"\x01":const H=a.substring(w,M);let J;0===f.length?J=H:(f+=H,J=f,f=""),u.push(J);break;case"\x10":f+=a.substring(w,M),f+="\0";break;case"\x11":f+=a.substring(w,M+1);break;default:S()}w=M+2}return new Ur(u)}class _l{constructor(n,o){this.seconds=n,this.nanoseconds=o}}class os{constructor(n,o,u){this.ownerId=n,this.allowTabSynchronization=o,this.leaseTimestampMs=u}}os.store="owner",os.key="owner";class Ko{constructor(n,o,u){this.userId=n,this.lastAcknowledgedBatchId=o,this.lastStreamToken=u}}Ko.store="mutationQueues",Ko.keyPath="userId";class Zr{constructor(n,o,u,f,w){this.userId=n,this.batchId=o,this.localWriteTimeMs=u,this.baseMutations=f,this.mutations=w}}Zr.store="mutations",Zr.keyPath="batchId",Zr.userMutationsIndex="userMutationsIndex",Zr.userMutationsKeyPath=["userId","batchId"];class Fi{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,o){return[n,Mr(o)]}static key(n,o,u){return[n,Mr(o),u]}}Fi.store="documentMutations",Fi.PLACEHOLDER=new Fi;class Nh{constructor(n,o){this.path=n,this.readTime=o}}class od{constructor(n,o){this.path=n,this.version=o}}class Ki{constructor(n,o,u,f,w,M){this.unknownDocument=n,this.noDocument=o,this.document=u,this.hasCommittedMutations=f,this.readTime=w,this.parentPath=M}}Ki.store="remoteDocuments",Ki.readTimeIndex="readTimeIndex",Ki.readTimeIndexPath="readTime",Ki.collectionReadTimeIndex="collectionReadTimeIndex",Ki.collectionReadTimeIndexPath=["parentPath","readTime"];class T{constructor(n){this.byteSize=n}}T.store="remoteDocumentGlobal",T.key="remoteDocumentGlobalKey";class m{constructor(n,o,u,f,w,M,H){this.targetId=n,this.canonicalId=o,this.readTime=u,this.resumeToken=f,this.lastListenSequenceNumber=w,this.lastLimboFreeSnapshotVersion=M,this.query=H}}m.store="targets",m.keyPath="targetId",m.queryTargetsIndexName="queryTargetsIndex",m.queryTargetsKeyPath=["canonicalId","targetId"];class v{constructor(n,o,u){this.targetId=n,this.path=o,this.sequenceNumber=u}}v.store="targetDocuments",v.keyPath=["targetId","path"],v.documentTargetsIndex="documentTargetsIndex",v.documentTargetsKeyPath=["path","targetId"];class A{constructor(n,o,u,f){this.highestTargetId=n,this.highestListenSequenceNumber=o,this.lastRemoteSnapshotVersion=u,this.targetCount=f}}A.key="targetGlobalKey",A.store="targetGlobal";class Y{constructor(n,o){this.collectionId=n,this.parent=o}}Y.store="collectionParents",Y.keyPath=["collectionId","parent"];class ce{constructor(n,o,u,f){this.clientId=n,this.updateTimeMs=o,this.networkEnabled=u,this.inForeground=f}}ce.store="clientMetadata",ce.keyPath="clientId";class Ue{constructor(n,o,u){this.bundleId=n,this.createTime=o,this.version=u}}Ue.store="bundles",Ue.keyPath="bundleId";class ut{constructor(n,o,u){this.name=n,this.readTime=o,this.bundledQuery=u}}ut.store="namedQueries",ut.keyPath="name";const Mt=[Ko.store,Zr.store,Fi.store,Ki.store,m.store,os.store,A.store,v.store,ce.store,T.store,Y.store,Ue.store,ut.store],tn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class rt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(n){return this.next(void 0,n)}next(n,o){return this.callbackAttached&&S(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(n,this.result):new rt((u,f)=>{this.nextCallback=w=>{this.wrapSuccess(n,w).next(u,f)},this.catchCallback=w=>{this.wrapFailure(o,w).next(u,f)}})}toPromise(){return new Promise((n,o)=>{this.next(n,o)})}wrapUserFunction(n){try{const o=n();return o instanceof rt?o:rt.resolve(o)}catch(o){return rt.reject(o)}}wrapSuccess(n,o){return n?this.wrapUserFunction(()=>n(o)):rt.resolve(o)}wrapFailure(n,o){return n?this.wrapUserFunction(()=>n(o)):rt.reject(o)}static resolve(n){return new rt((o,u)=>{o(n)})}static reject(n){return new rt((o,u)=>{u(n)})}static waitFor(n){return new rt((o,u)=>{let f=0,w=0,M=!1;n.forEach(H=>{++f,H.next(()=>{++w,M&&w===f&&o()},J=>u(J))}),M=!0,w===f&&o()})}static or(n){let o=rt.resolve(!1);for(const u of n)o=o.next(f=>f?rt.resolve(f):u());return o}static forEach(n,o){const u=[];return n.forEach((f,w)=>{u.push(o.call(this,f,w))}),this.waitFor(u)}}class Hi{constructor(n,o){this.action=n,this.transaction=o,this.aborted=!1,this.Tt=new st,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{o.error?this.Tt.reject(new Lu(n,o.error)):this.Tt.resolve()},this.transaction.onerror=u=>{const f=$d(u.target.error);this.Tt.reject(new Lu(n,f))}}static open(n,o,u,f){try{return new Hi(o,n.transaction(f,u))}catch(w){throw new Lu(o,w)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Ct("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const o=this.transaction.objectStore(n);return new Ah(o)}}class ys{constructor(n,o,u){this.name=n,this.version=o,this.At=u,12.2===ys.Rt((0,tt.z$)())&&si("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Ct("SimpleDb","Removing database:",n),Qo(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(ys.Pt())return!0;const n=(0,tt.z$)(),o=ys.Rt(n),u=0<o&&o<10,f=ys.vt(n),w=0<f&&f<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||u||w)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,o){return n.store(o)}static Rt(n){const o=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),u=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(u)}static vt(n){const o=n.match(/Android ([\d.]+)/i),u=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(u)}Dt(n){var o=this;return(0,be.Z)(function*(){return o.db||(Ct("SimpleDb","Opening database:",o.name),o.db=yield new Promise((u,f)=>{const w=indexedDB.open(o.name,o.version);w.onsuccess=M=>{u(M.target.result)},w.onblocked=()=>{f(new Lu(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},w.onerror=M=>{const H=M.target.error;f("VersionError"===H.name?new fe(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===H.name?new fe(ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+H):new Lu(n,H))},w.onupgradeneeded=M=>{Ct("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',M.oldVersion),o.At.Ct(M.target.result,w.transaction,M.oldVersion,o.version).next(()=>{Ct("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.Nt&&(o.db.onversionchange=u=>o.Nt(u)),o.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=o=>n(o))}runTransaction(n,o,u,f){var w=this;return(0,be.Z)(function*(){const M="readonly"===o;let H=0;for(;;){++H;try{w.db=yield w.Dt(n);const J=Hi.open(w.db,n,M?"readonly":"readwrite",u),me=f(J).catch(De=>(J.abort(De),rt.reject(De))).toPromise();return me.catch(()=>{}),yield J.It,me}catch(J){const me="FirebaseError"!==J.name&&H<3;if(Ct("SimpleDb","Transaction failed with error:",J.message,"Retrying:",me),w.close(),!me)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Tc{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return Qo(this.kt.delete())}}class Lu extends fe{constructor(n,o){super(ee.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function yl(a){return"IndexedDbTransactionError"===a.name}class Ah{constructor(n){this.store=n}put(n,o){let u;return void 0!==o?(Ct("SimpleDb","PUT",this.store.name,n,o),u=this.store.put(o,n)):(Ct("SimpleDb","PUT",this.store.name,"<auto-key>",n),u=this.store.put(n)),Qo(u)}add(n){return Ct("SimpleDb","ADD",this.store.name,n,n),Qo(this.store.add(n))}get(n){return Qo(this.store.get(n)).next(o=>(void 0===o&&(o=null),Ct("SimpleDb","GET",this.store.name,n,o),o))}delete(n){return Ct("SimpleDb","DELETE",this.store.name,n),Qo(this.store.delete(n))}count(){return Ct("SimpleDb","COUNT",this.store.name),Qo(this.store.count())}Lt(n,o){const u=this.cursor(this.options(n,o)),f=[];return this.Bt(u,(w,M)=>{f.push(M)}).next(()=>f)}Ut(n,o){Ct("SimpleDb","DELETE ALL",this.store.name);const u=this.options(n,o);u.qt=!1;const f=this.cursor(u);return this.Bt(f,(w,M,H)=>H.delete())}Kt(n,o){let u;o?u=n:(u={},o=n);const f=this.cursor(u);return this.Bt(f,o)}jt(n){const o=this.cursor({});return new rt((u,f)=>{o.onerror=w=>{const M=$d(w.target.error);f(M)},o.onsuccess=w=>{const M=w.target.result;M?n(M.primaryKey,M.value).next(H=>{H?M.continue():u()}):u()}})}Bt(n,o){const u=[];return new rt((f,w)=>{n.onerror=M=>{w(M.target.error)},n.onsuccess=M=>{const H=M.target.result;if(!H)return void f();const J=new Tc(H),me=o(H.primaryKey,H.value,J);if(me instanceof rt){const De=me.catch(Fe=>(J.done(),rt.reject(Fe)));u.push(De)}J.isDone?f():null===J.Ft?H.continue():H.continue(J.Ft)}}).next(()=>rt.waitFor(u))}options(n,o){let u;return void 0!==n&&("string"==typeof n?u=n:o=n),{index:u,range:o}}cursor(n){let o="next";if(n.reverse&&(o="prev"),n.index){const u=this.store.index(n.index);return n.qt?u.openKeyCursor(n.range,o):u.openCursor(n.range,o)}return this.store.openCursor(n.range,o)}}function Qo(a){return new rt((n,o)=>{a.onsuccess=u=>{n(u.target.result)},a.onerror=u=>{const f=$d(u.target.error);o(f)}})}let Jo=!1;function $d(a){const n=ys.Rt((0,tt.z$)());if(n>=12.2&&n<13){const o="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(o)>=0){const u=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Jo||(Jo=!0,setTimeout(()=>{throw u},0)),u}}return a}class Mh extends Nn{constructor(n,o){super(),this.Qt=n,this.currentSequenceNumber=o}}function Qs(a,n){const o=Z(a);return ys.St(o.Qt,n)}class Hd{constructor(n,o,u,f){this.batchId=n,this.localWriteTime=o,this.baseMutations=u,this.mutations=f}applyToRemoteDocument(n,o){const u=o.mutationResults;for(let f=0;f<this.mutations.length;f++){const w=this.mutations[f];w.key.isEqual(n.key)&&Zc(w,n,u[f])}}applyToLocalView(n){for(const o of this.baseMutations)o.key.isEqual(n.key)&&xl(o,n,this.localWriteTime);for(const o of this.mutations)o.key.isEqual(n.key)&&xl(o,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(o=>{const u=n.get(o.key),f=u;this.applyToLocalView(f),u.isValidDocument()||f.convertToNoDocument(On.min())})}keys(){return this.mutations.reduce((n,o)=>n.add(o.key),sr())}isEqual(n){return this.batchId===n.batchId&&rs(this.mutations,n.mutations,(o,u)=>Kc(o,u))&&rs(this.baseMutations,n.baseMutations,(o,u)=>Kc(o,u))}}class da{constructor(n,o,u,f){this.batch=n,this.commitVersion=o,this.mutationResults=u,this.docVersions=f}static from(n,o,u){V(n.mutations.length===u.length);let f=fl();const w=n.mutations;for(let M=0;M<w.length;M++)f=f.insert(w[M].key,u[M].version);return new da(n,o,u,f)}}class ha{constructor(n,o,u,f,w=On.min(),M=On.min(),H=qn.EMPTY_BYTE_STRING){this.target=n,this.targetId=o,this.purpose=u,this.sequenceNumber=f,this.snapshotVersion=w,this.lastLimboFreeSnapshotVersion=M,this.resumeToken=H}withSequenceNumber(n){return new ha(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,o){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class ad{constructor(n){this.Wt=n}}function qf(a,n){if(n.document)return Fu(a.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const o=sn.fromSegments(n.noDocument.path),u=Vu(n.noDocument.readTime),f=ur.newNoDocument(o,u);return n.hasCommittedMutations?f.setHasCommittedMutations():f}if(n.unknownDocument){const o=sn.fromSegments(n.unknownDocument.path),u=Vu(n.unknownDocument.version);return ur.newUnknownDocument(o,u)}return S()}function Yf(a,n,o){const u=Ic(o),f=n.key.path.popLast().toArray();if(n.isFoundDocument()){const w={name:za(H=a.Wt,(J=n).key),fields:J.data.value.mapValue.fields,updateTime:iu(H,J.version.toTimestamp())};return new Ki(null,null,w,n.hasCommittedMutations,u,f)}var H,J;if(n.isNoDocument()){const w=n.key.path.toArray(),M=Sc(n.version),H=n.hasCommittedMutations;return new Ki(null,new Nh(w,M),null,H,u,f)}if(n.isUnknownDocument()){const w=n.key.path.toArray(),M=Sc(n.version);return new Ki(new od(w,M),null,null,!0,u,f)}return S()}function Ic(a){const n=a.toTimestamp();return[n.seconds,n.nanoseconds]}function Zf(a){const n=new Pi(a[0],a[1]);return On.fromTimestamp(n)}function Sc(a){const n=a.toTimestamp();return new _l(n.seconds,n.nanoseconds)}function Vu(a){const n=new Pi(a.seconds,a.nanoseconds);return On.fromTimestamp(n)}function Bu(a,n){const o=(n.baseMutations||[]).map(w=>uo(a.Wt,w));for(let w=0;w<n.mutations.length-1;++w){const M=n.mutations[w];w+1<n.mutations.length&&void 0!==n.mutations[w+1].transform&&(M.updateTransforms=n.mutations[w+1].transform.fieldTransforms,n.mutations.splice(w+1,1),++w)}const u=n.mutations.map(w=>uo(a.Wt,w)),f=Pi.fromMillis(n.localWriteTimeMs);return new Hd(n.batchId,f,o,u)}function ld(a){const n=Vu(a.readTime),o=void 0!==a.lastLimboFreeSnapshotVersion?Vu(a.lastLimboFreeSnapshotVersion):On.min();let u;var f;return void 0!==a.query.documents?(V(1===(f=a.query).documents.length),u=Ks(Ma(rd(f.documents[0])))):u=Ks(_(a.query)),new ha(u,a.targetId,0,a.lastListenSequenceNumber,n,o,qn.fromBase64String(a.resumeToken))}function uy(a,n){const o=Sc(n.snapshotVersion),u=Sc(n.lastLimboFreeSnapshotVersion);let f;f=Jl(n.target)?D(a.Wt,n.target):h(a.Wt,n.target);const w=n.resumeToken.toBase64();return new m(n.targetId,uc(n.target),o,w,n.sequenceNumber,u,f)}function Uu(a){const n=_({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Su(n,n.limit,"L"):n}class Kf{getBundleMetadata(n,o){return Qf(n).get(o).next(u=>{if(u)return{id:(f=u).bundleId,createTime:Vu(f.createTime),version:f.version};var f})}saveBundleMetadata(n,o){return Qf(n).put({bundleId:(u=o).id,createTime:Sc(ms(u.createTime)),version:u.version});var u}getNamedQuery(n,o){return gm(n).get(o).next(u=>{if(u)return{name:(f=u).name,query:Uu(f.bundledQuery),readTime:Vu(f.readTime)};var f})}saveNamedQuery(n,o){return gm(n).put({name:(u=o).name,readTime:Sc(ms(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Qf(a){return Qs(a,Ue.store)}function gm(a){return Qs(a,ut.store)}class Jf{constructor(){this.Gt=new Xf}addToCollectionParentIndex(n,o){return this.Gt.add(o),rt.resolve()}getCollectionParents(n,o){return rt.resolve(this.Gt.getEntries(o))}}class Xf{constructor(){this.index={}}add(n){const o=n.lastSegment(),u=n.popLast(),f=this.index[o]||new mi(Ur.comparator),w=!f.has(u);return this.index[o]=f.add(u),w}has(n){const o=n.lastSegment(),u=n.popLast(),f=this.index[o];return f&&f.has(u)}getEntries(n){return(this.index[n]||new mi(Ur.comparator)).toArray()}}class cy{constructor(){this.zt=new Xf}addToCollectionParentIndex(n,o){if(!this.zt.has(o)){const u=o.lastSegment(),f=o.popLast();n.addOnCommittedListener(()=>{this.zt.add(o)});const w={collectionId:u,parent:Mr(f)};return mm(n).put(w)}return rt.resolve()}getCollectionParents(n,o){const u=[],f=IDBKeyRange.bound([o,""],[Co(o),""],!1,!0);return mm(n).Lt(f).next(w=>{for(const M of w){if(M.collectionId!==o)break;u.push(ss(M.parent))}return u})}}function mm(a){return Qs(a,Y.store)}const _m={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fa{constructor(n,o,u){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=u}static withCacheSize(n){return new fa(n,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ym(a,n,o){const u=a.store(Zr.store),f=a.store(Fi.store),w=[],M=IDBKeyRange.only(o.batchId);let H=0;const J=u.Kt({range:M},(De,Fe,ct)=>(H++,ct.delete()));w.push(J.next(()=>{V(1===H)}));const me=[];for(const De of o.mutations){const Fe=Fi.key(n,De.key.path,o.batchId);w.push(f.delete(Fe)),me.push(De.key)}return rt.waitFor(w).next(()=>me)}function Gd(a){if(!a)return 0;let n;if(a.document)n=a.document;else if(a.unknownDocument)n=a.unknownDocument;else{if(!a.noDocument)throw S();n=a.noDocument}return JSON.stringify(n).length}fa.DEFAULT_COLLECTION_PERCENTILE=10,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fa.DEFAULT=new fa(41943040,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fa.DISABLED=new fa(-1,0,0);class Wd{constructor(n,o,u,f){this.userId=n,this.N=o,this.Ht=u,this.referenceDelegate=f,this.Jt={}}static Yt(n,o,u,f){V(""!==n.uid);const w=n.isAuthenticated()?n.uid:"";return new Wd(w,o,u,f)}checkEmpty(n){let o=!0;const u=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ll(n).Kt({index:Zr.userMutationsIndex,range:u},(f,w,M)=>{o=!1,M.done()}).next(()=>o)}addMutationBatch(n,o,u,f){const w=ud(n),M=Ll(n);return M.add({}).next(H=>{V("number"==typeof H);const J=new Hd(H,o,u,f),me=function(ct,_t,Ot){const gn=Ot.baseMutations.map(ls=>Fl(ct.Wt,ls)),Zn=Ot.mutations.map(ls=>Fl(ct.Wt,ls));return new Zr(_t,Ot.batchId,Ot.localWriteTime.toMillis(),gn,Zn)}(this.N,this.userId,J),De=[];let Fe=new mi((ct,_t)=>xn(ct.canonicalString(),_t.canonicalString()));for(const ct of f){const _t=Fi.key(this.userId,ct.key.path,H);Fe=Fe.add(ct.key.path.popLast()),De.push(M.put(me)),De.push(w.put(_t,Fi.PLACEHOLDER))}return Fe.forEach(ct=>{De.push(this.Ht.addToCollectionParentIndex(n,ct))}),n.addOnCommittedListener(()=>{this.Jt[H]=J.keys()}),rt.waitFor(De).next(()=>J)})}lookupMutationBatch(n,o){return Ll(n).get(o).next(u=>u?(V(u.userId===this.userId),Bu(this.N,u)):null)}Xt(n,o){return this.Jt[o]?rt.resolve(this.Jt[o]):this.lookupMutationBatch(n,o).next(u=>{if(u){const f=u.keys();return this.Jt[o]=f,f}return null})}getNextMutationBatchAfterBatchId(n,o){const u=o+1,f=IDBKeyRange.lowerBound([this.userId,u]);let w=null;return Ll(n).Kt({index:Zr.userMutationsIndex,range:f},(M,H,J)=>{H.userId===this.userId&&(V(H.batchId>=u),w=Bu(this.N,H)),J.done()}).next(()=>w)}getHighestUnacknowledgedBatchId(n){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let u=-1;return Ll(n).Kt({index:Zr.userMutationsIndex,range:o,reverse:!0},(f,w,M)=>{u=w.batchId,M.done()}).next(()=>u)}getAllMutationBatches(n){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ll(n).Lt(Zr.userMutationsIndex,o).next(u=>u.map(f=>Bu(this.N,f)))}getAllMutationBatchesAffectingDocumentKey(n,o){const u=Fi.prefixForPath(this.userId,o.path),f=IDBKeyRange.lowerBound(u),w=[];return ud(n).Kt({range:f},(M,H,J)=>{const[me,De,Fe]=M,ct=ss(De);if(me===this.userId&&o.path.isEqual(ct))return Ll(n).get(Fe).next(_t=>{if(!_t)throw S();V(_t.userId===this.userId),w.push(Bu(this.N,_t))});J.done()}).next(()=>w)}getAllMutationBatchesAffectingDocumentKeys(n,o){let u=new mi(xn);const f=[];return o.forEach(w=>{const M=Fi.prefixForPath(this.userId,w.path),H=IDBKeyRange.lowerBound(M),J=ud(n).Kt({range:H},(me,De,Fe)=>{const[ct,_t,Ot]=me,gn=ss(_t);ct===this.userId&&w.path.isEqual(gn)?u=u.add(Ot):Fe.done()});f.push(J)}),rt.waitFor(f).next(()=>this.Zt(n,u))}getAllMutationBatchesAffectingQuery(n,o){const u=o.path,f=u.length+1,w=Fi.prefixForPath(this.userId,u),M=IDBKeyRange.lowerBound(w);let H=new mi(xn);return ud(n).Kt({range:M},(J,me,De)=>{const[Fe,ct,_t]=J,Ot=ss(ct);Fe===this.userId&&u.isPrefixOf(Ot)?Ot.length===f&&(H=H.add(_t)):De.done()}).next(()=>this.Zt(n,H))}Zt(n,o){const u=[],f=[];return o.forEach(w=>{f.push(Ll(n).get(w).next(M=>{if(null===M)throw S();V(M.userId===this.userId),u.push(Bu(this.N,M))}))}),rt.waitFor(f).next(()=>u)}removeMutationBatch(n,o){return ym(n.Qt,this.userId,o).next(u=>(n.addOnCommittedListener(()=>{this.te(o.batchId)}),rt.forEach(u,f=>this.referenceDelegate.markPotentiallyOrphaned(n,f))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(o=>{if(!o)return rt.resolve();const u=IDBKeyRange.lowerBound(Fi.prefixForUser(this.userId)),f=[];return ud(n).Kt({range:u},(w,M,H)=>{if(w[0]===this.userId){const J=ss(w[1]);f.push(J)}else H.done()}).next(()=>{V(0===f.length)})})}containsKey(n,o){return ep(n,this.userId,o)}ee(n){return vm(n).get(this.userId).next(o=>o||new Ko(this.userId,-1,""))}}function ep(a,n,o){const u=Fi.prefixForPath(n,o.path),f=u[1],w=IDBKeyRange.lowerBound(u);let M=!1;return ud(a).Kt({range:w,qt:!0},(H,J,me)=>{const[De,Fe,ct]=H;De===n&&Fe===f&&(M=!0),me.done()}).next(()=>M)}function Ll(a){return Qs(a,Zr.store)}function ud(a){return Qs(a,Fi.store)}function vm(a){return Qs(a,Ko.store)}class ju{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new ju(0)}static ie(){return new ju(-1)}}class bm{constructor(n,o){this.referenceDelegate=n,this.N=o}allocateTargetId(n){return this.re(n).next(o=>{const u=new ju(o.highestTargetId);return o.highestTargetId=u.next(),this.oe(n,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(o=>On.fromTimestamp(new Pi(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(n,o,u){return this.re(n).next(f=>(f.highestListenSequenceNumber=o,u&&(f.lastRemoteSnapshotVersion=u.toTimestamp()),o>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=o),this.oe(n,f)))}addTargetData(n,o){return this.ae(n,o).next(()=>this.re(n).next(u=>(u.targetCount+=1,this.ce(o,u),this.oe(n,u))))}updateTargetData(n,o){return this.ae(n,o)}removeTargetData(n,o){return this.removeMatchingKeysForTargetId(n,o.targetId).next(()=>qa(n).delete(o.targetId)).next(()=>this.re(n)).next(u=>(V(u.targetCount>0),u.targetCount-=1,this.oe(n,u)))}removeTargets(n,o,u){let f=0;const w=[];return qa(n).Kt((M,H)=>{const J=ld(H);J.sequenceNumber<=o&&null===u.get(J.targetId)&&(f++,w.push(this.removeTargetData(n,J)))}).next(()=>rt.waitFor(w)).next(()=>f)}forEachTarget(n,o){return qa(n).Kt((u,f)=>{const w=ld(f);o(w)})}re(n){return tp(n).get(A.key).next(o=>(V(null!==o),o))}oe(n,o){return tp(n).put(A.key,o)}ae(n,o){return qa(n).put(uy(this.N,o))}ce(n,o){let u=!1;return n.targetId>o.highestTargetId&&(o.highestTargetId=n.targetId,u=!0),n.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n.sequenceNumber,u=!0),u}getTargetCount(n){return this.re(n).next(o=>o.targetCount)}getTargetData(n,o){const u=uc(o),f=IDBKeyRange.bound([u,Number.NEGATIVE_INFINITY],[u,Number.POSITIVE_INFINITY]);let w=null;return qa(n).Kt({range:f,index:m.queryTargetsIndexName},(M,H,J)=>{const me=ld(H);Ql(o,me.target)&&(w=me,J.done())}).next(()=>w)}addMatchingKeys(n,o,u){const f=[],w=lu(n);return o.forEach(M=>{const H=Mr(M.path);f.push(w.put(new v(u,H))),f.push(this.referenceDelegate.addReference(n,u,M))}),rt.waitFor(f)}removeMatchingKeys(n,o,u){const f=lu(n);return rt.forEach(o,w=>{const M=Mr(w.path);return rt.waitFor([f.delete([u,M]),this.referenceDelegate.removeReference(n,u,w)])})}removeMatchingKeysForTargetId(n,o){const u=lu(n),f=IDBKeyRange.bound([o],[o+1],!1,!0);return u.delete(f)}getMatchingKeysForTargetId(n,o){const u=IDBKeyRange.bound([o],[o+1],!1,!0),f=lu(n);let w=sr();return f.Kt({range:u,qt:!0},(M,H,J)=>{const me=ss(M[1]),De=new sn(me);w=w.add(De)}).next(()=>w)}containsKey(n,o){const u=Mr(o.path),f=IDBKeyRange.bound([u],[Co(u)],!1,!0);let w=0;return lu(n).Kt({index:v.documentTargetsIndex,qt:!0,range:f},([M,H],J,me)=>{0!==M&&(w++,me.done())}).next(()=>w>0)}Et(n,o){return qa(n).get(o).next(u=>u?ld(u):null)}}function qa(a){return Qs(a,m.store)}function tp(a){return Qs(a,A.store)}function lu(a){return Qs(a,v.store)}function Nc(a){return cd.apply(this,arguments)}function cd(){return(cd=(0,be.Z)(function*(a){if(a.code!==ee.FAILED_PRECONDITION||a.message!==tn)throw a;Ct("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function wm([a,n],[o,u]){const f=xn(a,o);return 0===f?xn(n,u):f}class Em{constructor(n){this.ue=n,this.buffer=new mi(wm),this.he=0}le(){return++this.he}fe(n){const o=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(o);else{const u=this.buffer.last();wm(o,u)<0&&(this.buffer=this.buffer.delete(u).add(o))}}get maxValue(){return this.buffer.last()[0]}}class Dm{constructor(n,o){this.garbageCollector=n,this.asyncQueue=o,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var o=this;const u=this.de?3e5:6e4;Ct("LruGarbageCollector",`Garbage collection scheduled in ${u}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",u,(0,be.Z)(function*(){o.we=null,o.de=!0;try{yield n.collectGarbage(o.garbageCollector)}catch(f){yl(f)?Ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",f):yield Nc(f)}yield o._e(n)}))}}class Cm{constructor(n,o){this.me=n,this.params=o}calculateTargetCount(n,o){return this.me.ge(n).next(u=>Math.floor(o/100*u))}nthSequenceNumber(n,o){if(0===o)return rt.resolve(ti.T);const u=new Em(o);return this.me.forEachTarget(n,f=>u.fe(f.sequenceNumber)).next(()=>this.me.ye(n,f=>u.fe(f))).next(()=>u.maxValue)}removeTargets(n,o,u){return this.me.removeTargets(n,o,u)}removeOrphanedDocuments(n,o){return this.me.removeOrphanedDocuments(n,o)}collect(n,o){return-1===this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(_m)):this.getCacheSize(n).next(u=>u<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${u} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_m):this.pe(n,o))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,o){let u,f,w,M,H,J,me;const De=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Fe=>(Fe>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Fe}`),f=this.params.maximumSequenceNumbersToCollect):f=Fe,M=Date.now(),this.nthSequenceNumber(n,f))).next(Fe=>(u=Fe,H=Date.now(),this.removeTargets(n,u,o))).next(Fe=>(w=Fe,J=Date.now(),this.removeOrphanedDocuments(n,u))).next(Fe=>(me=Date.now(),Ea()<=kt.in.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${M-De}ms\n\tDetermined least recently used ${f} in `+(H-M)+`ms\n\tRemoved ${w} targets in `+(J-H)+`ms\n\tRemoved ${Fe} documents in `+(me-J)+`ms\nTotal Duration: ${me-De}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:w,documentsRemoved:Fe})))}}class np{constructor(n,o){this.db=n,this.garbageCollector=new Cm(this,o)}ge(n){const o=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(u=>o.next(f=>u+f))}Ee(n){let o=0;return this.ye(n,u=>{o++}).next(()=>o)}forEachTarget(n,o){return this.db.getTargetCache().forEachTarget(n,o)}ye(n,o){return this.Te(n,(u,f)=>o(f))}addReference(n,o,u){return zd(n,u)}removeReference(n,o,u){return zd(n,u)}removeTargets(n,o,u){return this.db.getTargetCache().removeTargets(n,o,u)}markPotentiallyOrphaned(n,o){return zd(n,o)}Ie(n,o){return function(u,f){let w=!1;return vm(u).jt(M=>ep(u,M,f).next(H=>(H&&(w=!0),rt.resolve(!H)))).next(()=>w)}(n,o)}removeOrphanedDocuments(n,o){const u=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let w=0;return this.Te(n,(M,H)=>{if(H<=o){const J=this.Ie(n,M).next(me=>{if(!me)return w++,u.getEntry(n,M).next(()=>(u.removeEntry(M),lu(n).delete([0,Mr(M.path)])))});f.push(J)}}).next(()=>rt.waitFor(f)).next(()=>u.apply(n)).next(()=>w)}removeTarget(n,o){const u=o.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,u)}updateLimboDocument(n,o){return zd(n,o)}Te(n,o){const u=lu(n);let f,w=ti.T;return u.Kt({index:v.documentTargetsIndex},([M,H],{path:J,sequenceNumber:me})=>{0===M?(w!==ti.T&&o(new sn(ss(f)),w),w=me,f=J):w=ti.T}).next(()=>{w!==ti.T&&o(new sn(ss(f)),w)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function zd(a,n){return lu(a).put((u=a.currentSequenceNumber,new v(0,Mr(n.path),u)));var u}class uu{constructor(n,o){this.mapKeyFn=n,this.equalsFn=o,this.inner={}}get(n){const o=this.mapKeyFn(n),u=this.inner[o];if(void 0!==u)for(const[f,w]of u)if(this.equalsFn(f,n))return w}has(n){return void 0!==this.get(n)}set(n,o){const u=this.mapKeyFn(n),f=this.inner[u];if(void 0!==f){for(let w=0;w<f.length;w++)if(this.equalsFn(f[w][0],n))return void(f[w]=[n,o]);f.push([n,o])}else this.inner[u]=[[n,o]]}delete(n){const o=this.mapKeyFn(n),u=this.inner[o];if(void 0===u)return!1;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],n))return 1===u.length?delete this.inner[o]:u.splice(f,1),!0;return!1}forEach(n){so(this.inner,(o,u)=>{for(const[f,w]of u)n(f,w)})}isEmpty(){return Th(this.inner)}}class qd{constructor(){this.changes=new uu(n=>n.toString(),(n,o)=>n.isEqual(o)),this.changesApplied=!1}getReadTime(n){const o=this.changes.get(n);return o?o.readTime:On.min()}addEntry(n,o){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:o})}removeEntry(n,o=null){this.assertNotApplied(),this.changes.set(n,{document:ur.newInvalidDocument(n),readTime:o})}getEntry(n,o){this.assertNotApplied();const u=this.changes.get(o);return void 0!==u?rt.resolve(u.document):this.getFromCache(n,o)}getEntries(n,o){return this.getAllFromCache(n,o)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Tm{constructor(n,o){this.N=n,this.Ht=o}addEntry(n,o,u){return Vl(n).put($u(o),u)}removeEntry(n,o){const u=Vl(n),f=$u(o);return u.delete(f)}updateMetadata(n,o){return this.getMetadata(n).next(u=>(u.byteSize+=o,this.Ae(n,u)))}getEntry(n,o){return Vl(n).get($u(o)).next(u=>this.Re(o,u))}be(n,o){return Vl(n).get($u(o)).next(u=>({document:this.Re(o,u),size:Gd(u)}))}getEntries(n,o){let u=Io();return this.Pe(n,o,(f,w)=>{const M=this.Re(f,w);u=u.insert(f,M)}).next(()=>u)}ve(n,o){let u=Io(),f=new ki(sn.comparator);return this.Pe(n,o,(w,M)=>{const H=this.Re(w,M);u=u.insert(w,H),f=f.insert(w,Gd(M))}).next(()=>({documents:u,Ve:f}))}Pe(n,o,u){if(o.isEmpty())return rt.resolve();const f=IDBKeyRange.bound(o.first().path.toArray(),o.last().path.toArray()),w=o.getIterator();let M=w.getNext();return Vl(n).Kt({range:f},(H,J,me)=>{const De=sn.fromSegments(H);for(;M&&sn.comparator(M,De)<0;)u(M,null),M=w.getNext();M&&M.isEqual(De)&&(u(M,J),M=w.hasNext()?w.getNext():null),M?me.Mt(M.path.toArray()):me.done()}).next(()=>{for(;M;)u(M,null),M=w.hasNext()?w.getNext():null})}getDocumentsMatchingQuery(n,o,u){let f=Io();const w=o.path.length+1,M={};if(u.isEqual(On.min())){const H=o.path.toArray();M.range=IDBKeyRange.lowerBound(H)}else{const H=o.path.toArray(),J=Ic(u);M.range=IDBKeyRange.lowerBound([H,J],!0),M.index=Ki.collectionReadTimeIndex}return Vl(n).Kt(M,(H,J,me)=>{if(H.length!==w)return;const De=qf(this.N,J);o.path.isPrefixOf(De.key.path)?Ha(o,De)&&(f=f.insert(De.key,De)):me.done()}).next(()=>f)}newChangeBuffer(n){return new rp(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(o=>o.byteSize)}getMetadata(n){return ip(n).get(T.key).next(o=>(V(!!o),o))}Ae(n,o){return ip(n).put(T.key,o)}Re(n,o){if(o){const u=qf(this.N,o);if(!u.isNoDocument()||!u.version.isEqual(On.min()))return u}return ur.newInvalidDocument(n)}}class rp extends qd{constructor(n,o){super(),this.Se=n,this.trackRemovals=o,this.De=new uu(u=>u.toString(),(u,f)=>u.isEqual(f))}applyChanges(n){const o=[];let u=0,f=new mi((w,M)=>xn(w.canonicalString(),M.canonicalString()));return this.changes.forEach((w,M)=>{const H=this.De.get(w);if(M.document.isValidDocument()){const J=Yf(this.Se.N,M.document,this.getReadTime(w));f=f.add(w.path.popLast()),u+=Gd(J)-H,o.push(this.Se.addEntry(n,w,J))}else if(u-=H,this.trackRemovals){const J=Yf(this.Se.N,ur.newNoDocument(w,On.min()),this.getReadTime(w));o.push(this.Se.addEntry(n,w,J))}else o.push(this.Se.removeEntry(n,w))}),f.forEach(w=>{o.push(this.Se.Ht.addToCollectionParentIndex(n,w))}),o.push(this.Se.updateMetadata(n,u)),rt.waitFor(o)}getFromCache(n,o){return this.Se.be(n,o).next(u=>(this.De.set(o,u.size),u.document))}getAllFromCache(n,o){return this.Se.ve(n,o).next(({documents:u,Ve:f})=>(f.forEach((w,M)=>{this.De.set(w,M)}),u))}}function ip(a){return Qs(a,T.store)}function Vl(a){return Qs(a,Ki.store)}function $u(a){return a.path.toArray()}class dy{constructor(n){this.N=n}Ct(n,o,u,f){V(u<f&&u>=0&&f<=11);const w=new Hi("createOrUpgrade",o);var H;u<1&&f>=1&&(n.createObjectStore(os.store),(H=n).createObjectStore(Ko.store,{keyPath:Ko.keyPath}),H.createObjectStore(Zr.store,{keyPath:Zr.keyPath,autoIncrement:!0}).createIndex(Zr.userMutationsIndex,Zr.userMutationsKeyPath,{unique:!0}),H.createObjectStore(Fi.store),sp(n),function(H){H.createObjectStore(Ki.store)}(n));let M=rt.resolve();return u<3&&f>=3&&(0!==u&&(function(H){H.deleteObjectStore(v.store),H.deleteObjectStore(m.store),H.deleteObjectStore(A.store)}(n),sp(n)),M=M.next(()=>function(H){const J=H.store(A.store),me=new A(0,0,On.min().toTimestamp(),0);return J.put(A.key,me)}(w))),u<4&&f>=4&&(0!==u&&(M=M.next(()=>function(H,J){return J.store(Zr.store).Lt().next(me=>{H.deleteObjectStore(Zr.store),H.createObjectStore(Zr.store,{keyPath:Zr.keyPath,autoIncrement:!0}).createIndex(Zr.userMutationsIndex,Zr.userMutationsKeyPath,{unique:!0});const De=J.store(Zr.store),Fe=me.map(ct=>De.put(ct));return rt.waitFor(Fe)})}(n,w))),M=M.next(()=>{!function(H){H.createObjectStore(ce.store,{keyPath:ce.keyPath})}(n)})),u<5&&f>=5&&(M=M.next(()=>this.Ce(w))),u<6&&f>=6&&(M=M.next(()=>(function(H){H.createObjectStore(T.store)}(n),this.Ne(w)))),u<7&&f>=7&&(M=M.next(()=>this.xe(w))),u<8&&f>=8&&(M=M.next(()=>this.ke(n,w))),u<9&&f>=9&&(M=M.next(()=>{(function(H){H.objectStoreNames.contains("remoteDocumentChanges")&&H.deleteObjectStore("remoteDocumentChanges")})(n),function(H){const J=H.objectStore(Ki.store);J.createIndex(Ki.readTimeIndex,Ki.readTimeIndexPath,{unique:!1}),J.createIndex(Ki.collectionReadTimeIndex,Ki.collectionReadTimeIndexPath,{unique:!1})}(o)})),u<10&&f>=10&&(M=M.next(()=>this.$e(w))),u<11&&f>=11&&(M=M.next(()=>{(function(H){H.createObjectStore(Ue.store,{keyPath:Ue.keyPath})})(n),function(H){H.createObjectStore(ut.store,{keyPath:ut.keyPath})}(n)})),M}Ne(n){let o=0;return n.store(Ki.store).Kt((u,f)=>{o+=Gd(f)}).next(()=>{const u=new T(o);return n.store(T.store).put(T.key,u)})}Ce(n){const o=n.store(Ko.store),u=n.store(Zr.store);return o.Lt().next(f=>rt.forEach(f,w=>{const M=IDBKeyRange.bound([w.userId,-1],[w.userId,w.lastAcknowledgedBatchId]);return u.Lt(Zr.userMutationsIndex,M).next(H=>rt.forEach(H,J=>{V(J.userId===w.userId);const me=Bu(this.N,J);return ym(n,w.userId,me).next(()=>{})}))}))}xe(n){const o=n.store(v.store),u=n.store(Ki.store);return n.store(A.store).get(A.key).next(f=>{const w=[];return u.Kt((M,H)=>{const J=new Ur(M),me=[0,Mr(J)];w.push(o.get(me).next(De=>De?rt.resolve():o.put(new v(0,Mr(J),f.highestListenSequenceNumber))))}).next(()=>rt.waitFor(w))})}ke(n,o){n.createObjectStore(Y.store,{keyPath:Y.keyPath});const u=o.store(Y.store),f=new Xf,w=M=>{if(f.add(M)){const H=M.lastSegment(),J=M.popLast();return u.put({collectionId:H,parent:Mr(J)})}};return o.store(Ki.store).Kt({qt:!0},(M,H)=>{const J=new Ur(M);return w(J.popLast())}).next(()=>o.store(Fi.store).Kt({qt:!0},([M,H,J],me)=>{const De=ss(H);return w(De.popLast())}))}$e(n){const o=n.store(m.store);return o.Kt((u,f)=>{const w=ld(f),M=uy(this.N,w);return o.put(M)})}}function sp(a){a.createObjectStore(v.store,{keyPath:v.keyPath}).createIndex(v.documentTargetsIndex,v.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(m.store,{keyPath:m.keyPath}).createIndex(m.queryTargetsIndexName,m.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(A.store)}const op="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ap{constructor(n,o,u,f,w,M,H,J,me,De){if(this.allowTabSynchronization=n,this.persistenceKey=o,this.clientId=u,this.Oe=w,this.window=M,this.document=H,this.Fe=me,this.Me=De,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=Fe=>Promise.resolve(),!ap.bt())throw new fe(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new np(this,f),this.We=o+"main",this.N=new ad(J),this.Ge=new ys(this.We,11,new dy(this.N)),this.ze=new bm(this.referenceDelegate,this.N),this.Ht=new cy,this.He=new Tm(this.N,this.Ht),this.Je=new Kf,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===De&&si("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(ee.FAILED_PRECONDITION,op);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new ti(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var o=this;return this.Qe=function(){var u=(0,be.Z)(function*(f){if(o.started)return n(f)});return function(f){return u.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var o=(0,be.Z)(function*(u){null===u.newVersion&&(yield n())});return function(u){return o.apply(this,arguments)}}())}setNetworkEnabled(n){var o=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,be.Z)(function*(){o.started&&(yield o.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>hd(n).put(new ce(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(o=>{o||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(o=>this.isPrimary&&!o?this.on(n).next(()=>!1):!!o&&this.an(n).next(()=>!0))).catch(n=>{if(yl(n))return Ct("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return dd(n).get(os.key).next(o=>rt.resolve(this.cn(o)))}un(n){return hd(n).delete(this.clientId)}hn(){var n=this;return(0,be.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const o=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",u=>{const f=Qs(u,ce.store);return f.Lt().next(w=>{const M=n.fn(w,18e5),H=w.filter(J=>-1===M.indexOf(J));return rt.forEach(H,J=>f.delete(J.clientId)).next(()=>H)})}).catch(()=>[]);if(n.Ye)for(const u of o)n.Ye.removeItem(n.dn(u.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?rt.resolve(!0):dd(n).get(os.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)){if(this.cn(o)&&this.networkEnabled)return!0;if(!this.cn(o)){if(!o.allowTabSynchronization)throw new fe(ee.FAILED_PRECONDITION,op);return!1}}return!(!this.networkEnabled||!this.inForeground)||hd(n).Lt().next(u=>void 0===this.fn(u,5e3).find(f=>{if(this.clientId!==f.clientId){const M=!this.inForeground&&f.inForeground,H=this.networkEnabled===f.networkEnabled;if(!this.networkEnabled&&f.networkEnabled||M&&H)return!0}return!1}))}).next(o=>(this.isPrimary!==o&&Ct("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var n=this;return(0,be.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[os.store,ce.store],o=>{const u=new Mh(o,ti.T);return n.on(u).next(()=>n.un(u))}),n.Ge.close(),n.yn()})()}fn(n,o){return n.filter(u=>this.ln(u.updateTimeMs,o)&&!this.wn(u.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>hd(n).Lt().next(o=>this.fn(o,18e5).map(u=>u.clientId)))}get started(){return this.Be}getMutationQueue(n){return Wd.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,o,u){let w;return Ct("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===o?"readonly":"readwrite",Mt,M=>(w=new Mh(M,this.Le?this.Le.next():ti.T),"readwrite-primary"===o?this.sn(w).next(H=>!!H||this.rn(w)).next(H=>{if(!H)throw si(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new fe(ee.FAILED_PRECONDITION,tn);return u(w)}).next(H=>this.an(w).next(()=>H)):this.En(w).next(()=>u(w)))).then(M=>(w.raiseOnCommittedEvent(),M))}En(n){return dd(n).get(os.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)&&!this.cn(o)&&!(this.Me||this.allowTabSynchronization&&o.allowTabSynchronization))throw new fe(ee.FAILED_PRECONDITION,op)})}an(n){const o=new os(this.clientId,this.allowTabSynchronization,Date.now());return dd(n).put(os.key,o)}static bt(){return ys.bt()}on(n){const o=dd(n);return o.get(os.key).next(u=>this.cn(u)?(Ct("IndexedDbPersistence","Releasing primary lease."),o.delete(os.key)):rt.resolve())}ln(n,o){const u=Date.now();return!(n<u-o||n>u&&(si(`Detected an update time that is in the future: ${n} > ${u}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,tt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var o;try{const u=null!==(null===(o=this.Ye)||void 0===o?void 0:o.getItem(this.dn(n)));return Ct("IndexedDbPersistence",`Client '${n}' ${u?"is":"is not"} zombied in LocalStorage`),u}catch(u){return si("IndexedDbPersistence","Failed to get zombied client id.",u),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){si("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function dd(a){return Qs(a,os.store)}function hd(a){return Qs(a,ce.store)}function Rh(a,n){let o=a.projectId;return a.isDefaultDatabase||(o+="."+a.database),"firestore/"+n+"/"+o+"/"}class M0{constructor(n,o){this.progress=n,this.Tn=o}}class lp{constructor(n,o,u){this.He=n,this.In=o,this.Ht=u}An(n,o){return this.In.getAllMutationBatchesAffectingDocumentKey(n,o).next(u=>this.Rn(n,o,u))}Rn(n,o,u){return this.He.getEntry(n,o).next(f=>{for(const w of u)w.applyToLocalView(f);return f})}bn(n,o){n.forEach((u,f)=>{for(const w of o)w.applyToLocalView(f)})}Pn(n,o){return this.He.getEntries(n,o).next(u=>this.vn(n,u).next(()=>u))}vn(n,o){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,o).next(u=>this.bn(o,u))}getDocumentsMatchingQuery(n,o,u){return sn.isDocumentKey((f=o).path)&&null===f.collectionGroup&&0===f.filters.length?this.Vn(n,o.path):cl(o)?this.Sn(n,o,u):this.Dn(n,o,u);var f}Vn(n,o){return this.An(n,new sn(o)).next(u=>{let f=Pu();return u.isFoundDocument()&&(f=f.insert(u.key,u)),f})}Sn(n,o,u){const f=o.collectionGroup;let w=Pu();return this.Ht.getCollectionParents(n,f).next(M=>rt.forEach(M,H=>{const J=(me=o,De=H.child(f),new Zs(De,null,me.explicitOrderBy.slice(),me.filters.slice(),me.limit,me.limitType,me.startAt,me.endAt));var me,De;return this.Dn(n,J,u).next(me=>{me.forEach((De,Fe)=>{w=w.insert(De,Fe)})})}).next(()=>w))}Dn(n,o,u){let f,w;return this.He.getDocumentsMatchingQuery(n,o,u).next(M=>(f=M,this.In.getAllMutationBatchesAffectingQuery(n,o))).next(M=>(w=M,this.Cn(n,w,f).next(H=>{f=H;for(const J of w)for(const me of J.mutations){const De=me.key;let Fe=f.get(De);null==Fe&&(Fe=ur.newInvalidDocument(De),f=f.insert(De,Fe)),xl(me,Fe,J.localWriteTime),Fe.isFoundDocument()||(f=f.remove(De))}}))).next(()=>(f.forEach((M,H)=>{Ha(o,H)||(f=f.remove(M))}),f))}Cn(n,o,u){let f=sr();for(const M of o)for(const H of M.mutations)H instanceof $s&&null===u.get(H.key)&&(f=f.add(H.key));let w=u;return this.He.getEntries(n,f).next(M=>(M.forEach((H,J)=>{J.isFoundDocument()&&(w=w.insert(H,J))}),w))}}class up{constructor(n,o,u,f){this.targetId=n,this.fromCache=o,this.Nn=u,this.xn=f}static kn(n,o){let u=sr(),f=sr();for(const w of o.docChanges)switch(w.type){case 0:u=u.add(w.doc.key);break;case 1:f=f.add(w.doc.key)}return new up(n,o.fromCache,u,f)}}class cp{$n(n){this.On=n}getDocumentsMatchingQuery(n,o,u,f){return 0===(w=o).filters.length&&null===w.limit&&null==w.startAt&&null==w.endAt&&(0===w.explicitOrderBy.length||1===w.explicitOrderBy.length&&w.explicitOrderBy[0].field.isKeyField())||u.isEqual(On.min())?this.Fn(n,o):this.On.Pn(n,f).next(w=>{const M=this.Mn(o,w);return(gi(o)||ul(o))&&this.Ln(o.limitType,M,f,u)?this.Fn(n,o):(Ea()<=kt.in.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Lo(o)),this.On.getDocumentsMatchingQuery(n,o,u).next(H=>(M.forEach(J=>{H=H.insert(J.key,J)}),H)))});var w}Mn(n,o){let u=new mi(la(n));return o.forEach((f,w)=>{Ha(n,w)&&(u=u.add(w))}),u}Ln(n,o,u,f){if(u.size!==o.size)return!0;const w="F"===n?o.last():o.first();return!!w&&(w.hasPendingWrites||w.version.compareTo(f)>0)}Fn(n,o){return Ea()<=kt.in.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",Lo(o)),this.On.getDocumentsMatchingQuery(n,o,On.min())}}class hy{constructor(n,o,u,f){this.persistence=n,this.Bn=o,this.N=f,this.Un=new ki(xn),this.qn=new uu(w=>uc(w),Ql),this.Kn=On.min(),this.In=n.getMutationQueue(u),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new lp(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>n.collect(o,this.Un))}}function Im(a,n,o,u){return new hy(a,n,o,u)}function Ya(a,n){return dp.apply(this,arguments)}function dp(){return(dp=(0,be.Z)(function*(a,n){const o=Z(a);let u=o.In,f=o.Qn;const w=yield o.persistence.runTransaction("Handle user change","readonly",M=>{let H;return o.In.getAllMutationBatches(M).next(J=>(H=J,u=o.persistence.getMutationQueue(n),f=new lp(o.jn,u,o.persistence.getIndexManager()),u.getAllMutationBatches(M))).next(J=>{const me=[],De=[];let Fe=sr();for(const ct of H){me.push(ct.batchId);for(const _t of ct.mutations)Fe=Fe.add(_t.key)}for(const ct of J){De.push(ct.batchId);for(const _t of ct.mutations)Fe=Fe.add(_t.key)}return f.Pn(M,Fe).next(ct=>({Wn:ct,removedBatchIds:me,addedBatchIds:De}))})});return o.In=u,o.Qn=f,o.Bn.$n(o.Qn),w})).apply(this,arguments)}function Sm(a,n){const o=Z(a);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",u=>{const f=n.batch.keys(),w=o.jn.newChangeBuffer({trackRemovals:!0});return function(M,H,J,me){const De=J.batch,Fe=De.keys();let ct=rt.resolve();return Fe.forEach(_t=>{ct=ct.next(()=>me.getEntry(H,_t)).next(Ot=>{const gn=J.docVersions.get(_t);V(null!==gn),Ot.version.compareTo(gn)<0&&(De.applyToRemoteDocument(Ot,J),Ot.isValidDocument()&&me.addEntry(Ot,J.commitVersion))})}),ct.next(()=>M.In.removeMutationBatch(H,De))}(o,u,n,w).next(()=>w.apply(u)).next(()=>o.In.performConsistencyCheck(u)).next(()=>o.Qn.Pn(u,f))})}function Nm(a){const n=Z(a);return n.persistence.runTransaction("Get last remote snapshot version","readonly",o=>n.ze.getLastRemoteSnapshotVersion(o))}function fy(a,n){const o=Z(a),u=n.snapshotVersion;let f=o.Un;return o.persistence.runTransaction("Apply remote event","readwrite-primary",w=>{const M=o.jn.newChangeBuffer({trackRemovals:!0});f=o.Un;const H=[];n.targetChanges.forEach((me,De)=>{const Fe=f.get(De);if(!Fe)return;H.push(o.ze.removeMatchingKeys(w,me.removedDocuments,De).next(()=>o.ze.addMatchingKeys(w,me.addedDocuments,De)));const ct=me.resumeToken;if(ct.approximateByteSize()>0){const _t=Fe.withResumeToken(ct,u).withSequenceNumber(w.currentSequenceNumber);f=f.insert(De,_t),Ot=Fe,Zn=me,V((gn=_t).resumeToken.approximateByteSize()>0),(0===Ot.resumeToken.approximateByteSize()||gn.snapshotVersion.toMicroseconds()-Ot.snapshotVersion.toMicroseconds()>=3e8||Zn.addedDocuments.size+Zn.modifiedDocuments.size+Zn.removedDocuments.size>0)&&H.push(o.ze.updateTargetData(w,_t))}var Ot,gn,Zn});let J=Io();if(n.documentUpdates.forEach((me,De)=>{n.resolvedLimboDocuments.has(me)&&H.push(o.persistence.referenceDelegate.updateLimboDocument(w,me))}),H.push(Am(w,M,n.documentUpdates,u,void 0).next(me=>{J=me})),!u.isEqual(On.min())){const me=o.ze.getLastRemoteSnapshotVersion(w).next(De=>o.ze.setTargetsMetadata(w,w.currentSequenceNumber,u));H.push(me)}return rt.waitFor(H).next(()=>M.apply(w)).next(()=>o.Qn.vn(w,J)).next(()=>J)}).then(w=>(o.Un=f,w))}function Am(a,n,o,u,f){let w=sr();return o.forEach(M=>w=w.add(M)),n.getEntries(a,w).next(M=>{let H=Io();return o.forEach((J,me)=>{const De=M.get(J),Fe=(null==f?void 0:f.get(J))||u;me.isNoDocument()&&me.version.isEqual(On.min())?(n.removeEntry(J,Fe),H=H.insert(J,me)):!De.isValidDocument()||me.version.compareTo(De.version)>0||0===me.version.compareTo(De.version)&&De.hasPendingWrites?(n.addEntry(me,Fe),H=H.insert(J,me)):Ct("LocalStore","Ignoring outdated watch update for ",J,". Current version:",De.version," Watch version:",me.version)}),H})}function py(a,n){const o=Z(a);return o.persistence.runTransaction("Get next mutation batch","readonly",u=>(void 0===n&&(n=-1),o.In.getNextMutationBatchAfterBatchId(u,n)))}function Ac(a,n){const o=Z(a);return o.persistence.runTransaction("Allocate target","readwrite",u=>{let f;return o.ze.getTargetData(u,n).next(w=>w?(f=w,rt.resolve(f)):o.ze.allocateTargetId(u).next(M=>(f=new ha(n,M,0,u.currentSequenceNumber),o.ze.addTargetData(u,f).next(()=>f))))}).then(u=>{const f=o.Un.get(u.targetId);return(null===f||u.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(o.Un=o.Un.insert(u.targetId,u),o.qn.set(n,u.targetId)),u})}function fd(a,n,o){return hp.apply(this,arguments)}function hp(){return(hp=(0,be.Z)(function*(a,n,o){const u=Z(a),f=u.Un.get(n),w=o?"readwrite":"readwrite-primary";try{o||(yield u.persistence.runTransaction("Release target",w,M=>u.persistence.referenceDelegate.removeTarget(M,f)))}catch(M){if(!yl(M))throw M;Ct("LocalStore",`Failed to update sequence numbers for target ${n}: ${M}`)}u.Un=u.Un.remove(n),u.qn.delete(f.target)})).apply(this,arguments)}function xh(a,n,o){const u=Z(a);let f=On.min(),w=sr();return u.persistence.runTransaction("Execute query","readonly",M=>function(H,J,me){const De=Z(H),Fe=De.qn.get(me);return void 0!==Fe?rt.resolve(De.Un.get(Fe)):De.ze.getTargetData(J,me)}(u,M,Ks(n)).next(H=>{if(H)return f=H.lastLimboFreeSnapshotVersion,u.ze.getMatchingKeysForTargetId(M,H.targetId).next(J=>{w=J})}).next(()=>u.Bn.getDocumentsMatchingQuery(M,n,o?f:On.min(),o?w:sr())).next(H=>({documents:H,Gn:w})))}function Yn(a,n){const o=Z(a),u=Z(o.ze),f=o.Un.get(n);return f?Promise.resolve(f.target):o.persistence.runTransaction("Get target data","readonly",w=>u.Et(w,n).next(M=>M?M.target:null))}function fp(a){const n=Z(a);return n.persistence.runTransaction("Get new document changes","readonly",o=>function(u,f,w){const M=Z(u);let H=Io(),J=Ic(w);const me=Vl(f),De=IDBKeyRange.lowerBound(J,!0);return me.Kt({index:Ki.readTimeIndex,range:De},(Fe,ct)=>{const _t=qf(M.N,ct);H=H.insert(_t.key,_t),J=ct.readTime}).next(()=>({Tn:H,readTime:Zf(J)}))}(n.jn,o,n.Kn)).then(({Tn:o,readTime:u})=>(n.Kn=u,o))}function pd(){return(pd=(0,be.Z)(function*(a){const n=Z(a);return n.persistence.runTransaction("Synchronize last document change read time","readonly",o=>function(u){const f=Vl(u);let w=On.min();return f.Kt({index:Ki.readTimeIndex,reverse:!0},(M,H,J)=>{H.readTime&&(w=Zf(H.readTime)),J.done()}).next(()=>w)}(o)).then(o=>{n.Kn=o})})).apply(this,arguments)}function Oh(){return(Oh=(0,be.Z)(function*(a,n,o,u){const f=Z(a);let w=sr(),M=Io(),H=fl();for(const De of o){const Fe=n.zn(De.metadata.name);De.document&&(w=w.add(Fe)),M=M.insert(Fe,n.Hn(De)),H=H.insert(Fe,n.Jn(De.metadata.readTime))}const J=f.jn.newChangeBuffer({trackRemovals:!0}),me=yield Ac(f,(De=u,Ks(Ma(Ur.fromString(`__bundle__/docs/${De}`)))));var De;return f.persistence.runTransaction("Apply bundle documents","readwrite",De=>Am(De,J,M,On.min(),H).next(Fe=>(J.apply(De),Fe)).next(Fe=>f.ze.removeMatchingKeysForTargetId(De,me.targetId).next(()=>f.ze.addMatchingKeys(De,w,me.targetId)).next(()=>f.Qn.vn(De,Fe)).next(()=>Fe)))})).apply(this,arguments)}function gy(a,n){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,be.Z)(function*(a,n,o=sr()){const u=yield Ac(a,Ks(Uu(n.bundledQuery))),f=Z(a);return f.persistence.runTransaction("Save named query","readwrite",w=>{const M=ms(n.readTime);if(u.snapshotVersion.compareTo(M)>=0)return f.Je.saveNamedQuery(w,n);const H=u.withResumeToken(qn.EMPTY_BYTE_STRING,M);return f.Un=f.Un.insert(H.targetId,H),f.ze.updateTargetData(w,H).next(()=>f.ze.removeMatchingKeysForTargetId(w,u.targetId)).next(()=>f.ze.addMatchingKeys(w,o,u.targetId)).next(()=>f.Je.saveNamedQuery(w,n))})})).apply(this,arguments)}class cu{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,o){return rt.resolve(this.Yn.get(o))}saveBundleMetadata(n,o){var u;return this.Yn.set(o.id,{id:(u=o).id,version:u.version,createTime:ms(u.createTime)}),rt.resolve()}getNamedQuery(n,o){return rt.resolve(this.Xn.get(o))}saveNamedQuery(n,o){return this.Xn.set(o.name,{name:(u=o).name,query:Uu(u.bundledQuery),readTime:ms(u.readTime)}),rt.resolve();var u}}class Zd{constructor(){this.Zn=new mi(Js.ts),this.es=new mi(Js.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,o){const u=new Js(n,o);this.Zn=this.Zn.add(u),this.es=this.es.add(u)}ss(n,o){n.forEach(u=>this.addReference(u,o))}removeReference(n,o){this.rs(new Js(n,o))}os(n,o){n.forEach(u=>this.removeReference(u,o))}cs(n){const o=new sn(new Ur([])),u=new Js(o,n),f=new Js(o,n+1),w=[];return this.es.forEachInRange([u,f],M=>{this.rs(M),w.push(M.key)}),w}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const o=new sn(new Ur([])),u=new Js(o,n),f=new Js(o,n+1);let w=sr();return this.es.forEachInRange([u,f],M=>{w=w.add(M.key)}),w}containsKey(n){const o=new Js(n,0),u=this.Zn.firstAfterOrEqual(o);return null!==u&&n.isEqual(u.key)}}class Js{constructor(n,o){this.key=n,this.ls=o}static ts(n,o){return sn.comparator(n.key,o.key)||xn(n.ls,o.ls)}static ns(n,o){return xn(n.ls,o.ls)||sn.comparator(n.key,o.key)}}class pp{constructor(n,o){this.Ht=n,this.referenceDelegate=o,this.In=[],this.fs=1,this.ds=new mi(Js.ts)}checkEmpty(n){return rt.resolve(0===this.In.length)}addMutationBatch(n,o,u,f){const w=this.fs;this.fs++;const M=new Hd(w,o,u,f);this.In.push(M);for(const H of f)this.ds=this.ds.add(new Js(H.key,w)),this.Ht.addToCollectionParentIndex(n,H.key.path.popLast());return rt.resolve(M)}lookupMutationBatch(n,o){return rt.resolve(this.ws(o))}getNextMutationBatchAfterBatchId(n,o){const f=this._s(o+1),w=f<0?0:f;return rt.resolve(this.In.length>w?this.In[w]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return rt.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,o){const u=new Js(o,0),f=new Js(o,Number.POSITIVE_INFINITY),w=[];return this.ds.forEachInRange([u,f],M=>{const H=this.ws(M.ls);w.push(H)}),rt.resolve(w)}getAllMutationBatchesAffectingDocumentKeys(n,o){let u=new mi(xn);return o.forEach(f=>{const w=new Js(f,0),M=new Js(f,Number.POSITIVE_INFINITY);this.ds.forEachInRange([w,M],H=>{u=u.add(H.ls)})}),rt.resolve(this.gs(u))}getAllMutationBatchesAffectingQuery(n,o){const u=o.path,f=u.length+1;let w=u;sn.isDocumentKey(w)||(w=w.child(""));const M=new Js(new sn(w),0);let H=new mi(xn);return this.ds.forEachWhile(J=>{const me=J.key.path;return!!u.isPrefixOf(me)&&(me.length===f&&(H=H.add(J.ls)),!0)},M),rt.resolve(this.gs(H))}gs(n){const o=[];return n.forEach(u=>{const f=this.ws(u);null!==f&&o.push(f)}),o}removeMutationBatch(n,o){V(0===this.ys(o.batchId,"removed")),this.In.shift();let u=this.ds;return rt.forEach(o.mutations,f=>{const w=new Js(f.key,o.batchId);return u=u.delete(w),this.referenceDelegate.markPotentiallyOrphaned(n,f.key)}).next(()=>{this.ds=u})}te(n){}containsKey(n,o){const u=new Js(o,0),f=this.ds.firstAfterOrEqual(u);return rt.resolve(o.isEqual(f&&f.key))}performConsistencyCheck(n){return rt.resolve()}ys(n,o){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const o=this._s(n);return o<0||o>=this.In.length?null:this.In[o]}}class R0{constructor(n,o){this.Ht=n,this.ps=o,this.docs=new ki(sn.comparator),this.size=0}addEntry(n,o,u){const f=o.key,w=this.docs.get(f),M=w?w.size:0,H=this.ps(o);return this.docs=this.docs.insert(f,{document:o.clone(),size:H,readTime:u}),this.size+=H-M,this.Ht.addToCollectionParentIndex(n,f.path.popLast())}removeEntry(n){const o=this.docs.get(n);o&&(this.docs=this.docs.remove(n),this.size-=o.size)}getEntry(n,o){const u=this.docs.get(o);return rt.resolve(u?u.document.clone():ur.newInvalidDocument(o))}getEntries(n,o){let u=Io();return o.forEach(f=>{const w=this.docs.get(f);u=u.insert(f,w?w.document.clone():ur.newInvalidDocument(f))}),rt.resolve(u)}getDocumentsMatchingQuery(n,o,u){let f=Io();const w=new sn(o.path.child("")),M=this.docs.getIteratorFrom(w);for(;M.hasNext();){const{key:H,value:{document:J,readTime:me}}=M.getNext();if(!o.path.isPrefixOf(H.path))break;me.compareTo(u)<=0||Ha(o,J)&&(f=f.insert(J.key,J.clone()))}return rt.resolve(f)}Es(n,o){return rt.forEach(this.docs,u=>o(u))}newChangeBuffer(n){return new Rm(this)}getSize(n){return rt.resolve(this.size)}}class Rm extends qd{constructor(n){super(),this.Se=n}applyChanges(n){const o=[];return this.changes.forEach((u,f)=>{f.document.isValidDocument()?o.push(this.Se.addEntry(n,f.document,this.getReadTime(u))):this.Se.removeEntry(u)}),rt.waitFor(o)}getFromCache(n,o){return this.Se.getEntry(n,o)}getAllFromCache(n,o){return this.Se.getEntries(n,o)}}class x0{constructor(n){this.persistence=n,this.Ts=new uu(o=>uc(o),Ql),this.lastRemoteSnapshotVersion=On.min(),this.highestTargetId=0,this.Is=0,this.As=new Zd,this.targetCount=0,this.Rs=ju.se()}forEachTarget(n,o){return this.Ts.forEach((u,f)=>o(f)),rt.resolve()}getLastRemoteSnapshotVersion(n){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return rt.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(n,o,u){return u&&(this.lastRemoteSnapshotVersion=u),o>this.Is&&(this.Is=o),rt.resolve()}ae(n){this.Ts.set(n.target,n);const o=n.targetId;o>this.highestTargetId&&(this.Rs=new ju(o),this.highestTargetId=o),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,o){return this.ae(o),this.targetCount+=1,rt.resolve()}updateTargetData(n,o){return this.ae(o),rt.resolve()}removeTargetData(n,o){return this.Ts.delete(o.target),this.As.cs(o.targetId),this.targetCount-=1,rt.resolve()}removeTargets(n,o,u){let f=0;const w=[];return this.Ts.forEach((M,H)=>{H.sequenceNumber<=o&&null===u.get(H.targetId)&&(this.Ts.delete(M),w.push(this.removeMatchingKeysForTargetId(n,H.targetId)),f++)}),rt.waitFor(w).next(()=>f)}getTargetCount(n){return rt.resolve(this.targetCount)}getTargetData(n,o){const u=this.Ts.get(o)||null;return rt.resolve(u)}addMatchingKeys(n,o,u){return this.As.ss(o,u),rt.resolve()}removeMatchingKeys(n,o,u){this.As.os(o,u);const f=this.persistence.referenceDelegate,w=[];return f&&o.forEach(M=>{w.push(f.markPotentiallyOrphaned(n,M))}),rt.waitFor(w)}removeMatchingKeysForTargetId(n,o){return this.As.cs(o),rt.resolve()}getMatchingKeysForTargetId(n,o){const u=this.As.hs(o);return rt.resolve(u)}containsKey(n,o){return rt.resolve(this.As.containsKey(o))}}class du{constructor(n,o){this.bs={},this.Le=new ti(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new x0(this),this.Ht=new Jf,this.He=new R0(this.Ht,u=>this.referenceDelegate.Ps(u)),this.N=new ad(o),this.Je=new cu(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let o=this.bs[n.toKey()];return o||(o=new pp(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=o),o}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,o,u){Ct("MemoryPersistence","Starting transaction:",n);const f=new Ph(this.Le.next());return this.referenceDelegate.vs(),u(f).next(w=>this.referenceDelegate.Vs(f).next(()=>w)).toPromise().then(w=>(f.raiseOnCommittedEvent(),w))}Ss(n,o){return rt.or(Object.values(this.bs).map(u=>()=>u.containsKey(n,o)))}}class Ph extends Nn{constructor(n){super(),this.currentSequenceNumber=n}}class gd{constructor(n){this.persistence=n,this.Ds=new Zd,this.Cs=null}static Ns(n){return new gd(n)}get xs(){if(this.Cs)return this.Cs;throw S()}addReference(n,o,u){return this.Ds.addReference(u,o),this.xs.delete(u.toString()),rt.resolve()}removeReference(n,o,u){return this.Ds.removeReference(u,o),this.xs.add(u.toString()),rt.resolve()}markPotentiallyOrphaned(n,o){return this.xs.add(o.toString()),rt.resolve()}removeTarget(n,o){this.Ds.cs(o.targetId).forEach(f=>this.xs.add(f.toString()));const u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(n,o.targetId).next(f=>{f.forEach(w=>this.xs.add(w.toString()))}).next(()=>u.removeTargetData(n,o))}vs(){this.Cs=new Set}Vs(n){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.xs,u=>{const f=sn.fromPath(u);return this.ks(n,f).next(w=>{w||o.removeEntry(f)})}).next(()=>(this.Cs=null,o.apply(n)))}updateLimboDocument(n,o){return this.ks(n,o).next(u=>{u?this.xs.delete(o.toString()):this.xs.add(o.toString())})}Ps(n){return 0}ks(n,o){return rt.or([()=>rt.resolve(this.Ds.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(n,o),()=>this.persistence.Ss(n,o)])}}function kh(a,n){return`firestore_clients_${a}_${n}`}function my(a,n,o){let u=`firestore_mutations_${a}_${o}`;return n.isAuthenticated()&&(u+=`_${n.uid}`),u}function gp(a,n){return`firestore_targets_${a}_${n}`}class Kd{constructor(n,o,u,f){this.user=n,this.batchId=o,this.state=u,this.error=f}static $s(n,o,u){const f=JSON.parse(u);let w,M="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return M&&f.error&&(M="string"==typeof f.error.message&&"string"==typeof f.error.code,M&&(w=new fe(f.error.code,f.error.message))),M?new Kd(n,o,f.state,w):(si("SharedClientState",`Failed to parse mutation state for ID '${o}': ${u}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Fh{constructor(n,o,u){this.targetId=n,this.state=o,this.error=u}static $s(n,o){const u=JSON.parse(o);let f,w="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return w&&u.error&&(w="string"==typeof u.error.message&&"string"==typeof u.error.code,w&&(f=new fe(u.error.code,u.error.message))),w?new Fh(n,u.state,f):(si("SharedClientState",`Failed to parse target state for ID '${n}': ${o}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Lh{constructor(n,o){this.clientId=n,this.activeTargetIds=o}static $s(n,o){const u=JSON.parse(o);let f="object"==typeof u&&u.activeTargetIds instanceof Array,w=kl();for(let M=0;f&&M<u.activeTargetIds.length;++M)f=Ca(u.activeTargetIds[M]),w=w.add(u.activeTargetIds[M]);return f?new Lh(n,w):(si("SharedClientState",`Failed to parse client data for instance '${n}': ${o}`),null)}}class xm{constructor(n,o){this.clientId=n,this.onlineState=o}static $s(n){const o=JSON.parse(n);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new xm(o.clientId,o.onlineState):(si("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Vh{constructor(){this.activeTargetIds=kl()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Bh{constructor(n,o,u,f,w){this.window=n,this.Oe=o,this.persistenceKey=u,this.Ls=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new ki(xn),this.started=!1,this.Ks=[];const M=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=w,this.js=kh(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Vh),this.Ws=new RegExp(`^firestore_clients_${M}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${M}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${M}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(H){return`firestore_bundle_loaded_${H}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,be.Z)(function*(){const o=yield n.syncEngine.pn();for(const f of o){if(f===n.Ls)continue;const w=n.getItem(kh(n.persistenceKey,f));if(w){const M=Lh.$s(f,w);M&&(n.qs=n.qs.insert(M.clientId,M))}}n.Ys();const u=n.storage.getItem(n.Hs);if(u){const f=n.Xs(u);f&&n.Zs(f)}for(const f of n.Ks)n.Us(f);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let o=!1;return this.qs.forEach((u,f)=>{f.activeTargetIds.has(n)&&(o=!0)}),o}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,o,u){this.ei(n,o,u),this.ni(n)}addLocalQueryTarget(n){let o="not-current";if(this.isActiveQueryTarget(n)){const u=this.storage.getItem(gp(this.persistenceKey,n));if(u){const f=Fh.$s(n,u);f&&(o=f.state)}}return this.si.Fs(n),this.Ys(),o}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(gp(this.persistenceKey,n))}updateQueryState(n,o,u){this.ii(n,o,u)}handleUserChange(n,o,u){o.forEach(f=>{this.ni(f)}),this.currentUser=n,u.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const o=this.storage.getItem(n);return Ct("SharedClientState","READ",n,o),o}setItem(n,o){Ct("SharedClientState","SET",n,o),this.storage.setItem(n,o)}removeItem(n){Ct("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var o=this;const u=n;if(u.storageArea===this.storage){if(Ct("SharedClientState","EVENT",u.key,u.newValue),u.key===this.js)return void si("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,be.Z)(function*(){if(o.started){if(null!==u.key)if(o.Ws.test(u.key)){if(null==u.newValue){const f=o.ai(u.key);return o.ci(f,null)}{const f=o.ui(u.key,u.newValue);if(f)return o.ci(f.clientId,f)}}else if(o.Gs.test(u.key)){if(null!==u.newValue){const f=o.hi(u.key,u.newValue);if(f)return o.li(f)}}else if(o.zs.test(u.key)){if(null!==u.newValue){const f=o.fi(u.key,u.newValue);if(f)return o.di(f)}}else if(u.key===o.Hs){if(null!==u.newValue){const f=o.Xs(u.newValue);if(f)return o.Zs(f)}}else if(u.key===o.Qs){const f=function(w){let M=ti.T;if(null!=w)try{const H=JSON.parse(w);V("number"==typeof H),M=H}catch(H){si("SharedClientState","Failed to read sequence number from WebStorage",H)}return M}(u.newValue);f!==ti.T&&o.sequenceNumberHandler(f)}else if(u.key===o.Js)return o.syncEngine.wi()}else o.Ks.push(u)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,o,u){const f=new Kd(this.currentUser,n,o,u),w=my(this.persistenceKey,this.currentUser,n);this.setItem(w,f.Os())}ni(n){const o=my(this.persistenceKey,this.currentUser,n);this.removeItem(o)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,o,u){const f=gp(this.persistenceKey,n),w=new Fh(n,o,u);this.setItem(f,w.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const o=this.Ws.exec(n);return o?o[1]:null}ui(n,o){const u=this.ai(n);return Lh.$s(u,o)}hi(n,o){const u=this.Gs.exec(n),f=Number(u[1]);return Kd.$s(new Is(void 0!==u[2]?u[2]:null),f,o)}fi(n,o){const u=this.zs.exec(n),f=Number(u[1]);return Fh.$s(f,o)}Xs(n){return xm.$s(n)}li(n){var o=this;return(0,be.Z)(function*(){if(n.user.uid===o.currentUser.uid)return o.syncEngine._i(n.batchId,n.state,n.error);Ct("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,o){const u=o?this.qs.insert(n,o):this.qs.remove(n),f=this.ti(this.qs),w=this.ti(u),M=[],H=[];return w.forEach(J=>{f.has(J)||M.push(J)}),f.forEach(J=>{w.has(J)||H.push(J)}),this.syncEngine.gi(M,H).then(()=>{this.qs=u})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let o=kl();return n.forEach((u,f)=>{o=o.unionWith(f.activeTargetIds)}),o}}class Om{constructor(){this.yi=new Vh,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,o,u){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,o,u){this.pi[n]=o}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new Vh,Promise.resolve()}handleUserChange(n,o,u){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class mp{Ei(n){}shutdown(){}}class _y{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const O0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class P0{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class k0 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,o,u,f){const w=this.Bi(n,o);Ct("RestConnection","Sending: ",w,u);const M={};return this.Ui(M,f),this.qi(n,w,M,u).then(H=>(Ct("RestConnection","Received: ",H),H),H=>{throw P("RestConnection",`${n} failed with error: `,H,"url: ",w,"request:",u),H})}Ki(n,o,u,f){return this.Li(n,o,u,f)}Ui(n,o){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+Bs,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o)for(const u in o.authHeaders)o.authHeaders.hasOwnProperty(u)&&(n[u]=o.authHeaders[u])}Bi(n,o){return`${this.Fi}/v1/${o}:${O0[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,o,u,f){return new Promise((w,M)=>{const H=new wa;H.listenOnce(zo.COMPLETE,()=>{try{switch(H.getLastErrorCode()){case Fa.NO_ERROR:const me=H.getResponseJson();Ct("Connection","XHR received:",JSON.stringify(me)),w(me);break;case Fa.TIMEOUT:Ct("Connection",'RPC "'+n+'" timed out'),M(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Fa.HTTP_ERROR:const De=H.getStatus();if(Ct("Connection",'RPC "'+n+'" failed with status:',De,"response text:",H.getResponseText()),De>0){const Fe=H.getResponseJson().error;if(Fe&&Fe.status&&Fe.message){const ct=function(_t){const Ot=_t.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Ot)>=0?Ot:ee.UNKNOWN}(Fe.status);M(new fe(ct,Fe.message))}else M(new fe(ee.UNKNOWN,"Server responded with status "+H.getStatus()))}else M(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:S()}}finally{Ct("Connection",'RPC "'+n+'" completed.')}});const J=JSON.stringify(f);H.send(o,"POST",J,u,15)})}ji(n,o){const u=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],f=new ba,w=Nr(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(M.xmlHttpFactory=new ia({})),this.Ui(M.initMessageHeaders,o),(0,tt.uI)()||(0,tt.b$)()||(0,tt.d)()||(0,tt.w1)()||(0,tt.Mn)()||(0,tt.ru)()||(M.httpHeadersOverwriteParam="$httpHeaders");const H=u.join("");Ct("Connection","Creating WebChannel: "+H,M);const J=f.createWebChannel(H,M);let me=!1,De=!1;const Fe=new P0({vi:_t=>{De?Ct("Connection","Not sending because WebChannel is closed:",_t):(me||(Ct("Connection","Opening WebChannel transport."),J.open(),me=!0),Ct("Connection","WebChannel sending:",_t),J.send(_t))},Vi:()=>J.close()}),ct=(_t,Ot,gn)=>{_t.listen(Ot,Zn=>{try{gn(Zn)}catch(ls){setTimeout(()=>{throw ls},0)}})};return ct(J,Va.EventType.OPEN,()=>{De||Ct("Connection","WebChannel transport opened.")}),ct(J,Va.EventType.CLOSE,()=>{De||(De=!0,Ct("Connection","WebChannel transport closed"),Fe.$i())}),ct(J,Va.EventType.ERROR,_t=>{De||(De=!0,P("Connection","WebChannel transport errored:",_t),Fe.$i(new fe(ee.UNAVAILABLE,"The operation could not be completed")))}),ct(J,Va.EventType.MESSAGE,_t=>{var Ot;if(!De){const gn=_t.data[0];V(!!gn);const Zn=gn,ls=Zn.error||(null===(Ot=Zn[0])||void 0===Ot?void 0:Ot.error);if(ls){Ct("Connection","WebChannel received error:",ls);const Uo=ls.status;let jl=function(yh){const Af=hi[yh];if(void 0!==Af)return _c(Af)}(Uo),tl=ls.message;void 0===jl&&(jl=ee.INTERNAL,tl="Unknown error status: "+Uo+" with message "+ls.message),De=!0,Fe.$i(new fe(jl,tl)),J.close()}else Ct("Connection","WebChannel received:",gn),Fe.Oi(gn)}}),ct(w,La.STAT_EVENT,_t=>{_t.stat===Si_PROXY?Ct("Connection","Detected buffering proxy"):_t.stat===Si_NOPROXY&&Ct("Connection","Detected no buffering proxy")}),setTimeout(()=>{Fe.ki()},0),Fe}}function yy(){return"undefined"!=typeof window?window:null}function _p(){return"undefined"!=typeof document?document:null}function Uh(a){return new Dc(a,!0)}class Pm{constructor(n,o,u=1e3,f=1.5,w=6e4){this.Oe=n,this.timerId=o,this.Qi=u,this.Wi=f,this.Gi=w,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const o=Math.floor(this.zi+this.Zi()),u=Math.max(0,Date.now()-this.Ji),f=Math.max(0,o-u);f>0&&Ct("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.zi} ms, delay with jitter: ${o} ms, last attempt: ${u} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,f,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class vy{constructor(n,o,u,f,w,M){this.Oe=n,this.er=u,this.nr=f,this.credentialsProvider=w,this.listener=M,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Pm(n,o)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,be.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,be.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,o){var u=this;return(0,be.Z)(function*(){u._r(),u.rr.cancel(),u.sr++,3!==n?u.rr.reset():o&&o.code===ee.RESOURCE_EXHAUSTED?(si(o.toString()),si("Using maximum backoff delay to prevent overloading the backend."),u.rr.Yi()):o&&o.code===ee.UNAUTHENTICATED&&u.credentialsProvider.invalidateToken(),null!==u.stream&&(u.mr(),u.stream.close(),u.stream=null),u.state=n,yield u.listener.Ci(o)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),o=this.sr;this.credentialsProvider.getToken().then(u=>{this.sr===o&&this.yr(u)},u=>{n(()=>{const f=new fe(ee.UNKNOWN,"Fetching auth token failed: "+u.message);return this.pr(f)})})}yr(n){const o=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{o(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(u=>{o(()=>this.pr(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}ur(){var n=this;this.state=4,this.rr.Xi((0,be.Z)(function*(){n.state=0,n.start()}))}pr(n){return Ct("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return o=>{this.Oe.enqueueAndForget(()=>this.sr===n?o():(Ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F0 extends vy{constructor(n,o,u,f,w){super(n,"listen_stream_connection_backoff","listen_stream_idle",o,u,w),this.N=f}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const o=function(a,n){let o;if("targetChange"in n){const u="NO_CHANGE"===(J=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===J?1:"REMOVE"===J?2:"CURRENT"===J?3:"RESET"===J?4:S(),f=n.targetChange.targetIds||[],w=function(J,me){return J.D?(V(void 0===me||"string"==typeof me),qn.fromBase64String(me||"")):(V(void 0===me||me instanceof Uint8Array),qn.fromUint8Array(me||new Uint8Array))}(a,n.targetChange.resumeToken),M=n.targetChange.cause,H=M&&function(J){const me=void 0===J.code?ee.UNKNOWN:_c(J.code);return new fe(me,J.message||"")}(M);o=new wc(u,f,w,H||null)}else if("documentChange"in n){const u=n.documentChange,f=ca(a,u.document.name),w=ms(u.document.updateTime),M=new ao({mapValue:{fields:u.document.fields}}),H=ur.newFoundDocument(f,w,M);o=new vc(u.targetIds||[],u.removedTargetIds||[],H.key,H)}else if("documentDelete"in n){const u=n.documentDelete,f=ca(a,u.document),w=u.readTime?ms(u.readTime):On.min(),M=ur.newNoDocument(f,w);o=new vc([],u.removedTargetIds||[],M.key,M)}else if("documentRemove"in n){const u=n.documentRemove,f=ca(a,u.document);o=new vc([],u.removedTargetIds||[],f,null)}else{if(!("filter"in n))return S();{const u=n.filter,w=new Wa(u.count||0);o=new bc(u.targetId,w)}}var J;return o}(this.N,n),u=function(f){if(!("targetChange"in f))return On.min();const w=f.targetChange;return w.targetIds&&w.targetIds.length?On.min():w.readTime?ms(w.readTime):On.min()}(n);return this.listener.Tr(o,u)}Ir(n){const o={};o.database=su(this.N),o.addTarget=function(f,w){let M;const H=w.target;return M=Jl(H)?{documents:D(f,H)}:{query:h(f,H)},M.targetId=w.targetId,w.resumeToken.approximateByteSize()>0?M.resumeToken=nd(f,w.resumeToken):w.snapshotVersion.compareTo(On.min())>0&&(M.readTime=iu(f,w.snapshotVersion.toTimestamp())),M}(this.N,n);const u=function(a,n){const o=function(u,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return S()}}(0,n.purpose);return null==o?null:{"goog-listen-tags":o}}(0,n);u&&(o.labels=u),this.wr(o)}Ar(n){const o={};o.database=su(this.N),o.removeTarget=n,this.wr(o)}}class L0 extends vy{constructor(n,o,u,f,w){super(n,"write_stream_connection_backoff","write_stream_idle",o,u,w),this.N=f,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(V(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const o=function(a,n){return a&&a.length>0?(V(void 0!==n),a.map(o=>function(u,f){let w=ms(u.updateTime?u.updateTime:f);return w.isEqual(On.min())&&(w=ms(f)),new Yc(w,u.transformResults||[])}(o,n))):[]}(n.writeResults,n.commitTime),u=ms(n.commitTime);return this.listener.vr(u,o)}return V(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=su(this.N),this.wr(n)}Pr(n){const o={streamToken:this.lastStreamToken,writes:n.map(u=>Fl(this.N,u))};this.wr(o)}}class Hu extends class{}{constructor(n,o,u){super(),this.credentials=n,this.nr=o,this.N=u,this.Dr=!1}Cr(){if(this.Dr)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,o,u){return this.Cr(),this.credentials.getToken().then(f=>this.nr.Li(n,o,u,f)).catch(f=>{throw"FirebaseError"===f.name?(f.code===ee.UNAUTHENTICATED&&this.credentials.invalidateToken(),f):new fe(ee.UNKNOWN,f.toString())})}Ki(n,o,u){return this.Cr(),this.credentials.getToken().then(f=>this.nr.Ki(n,o,u,f)).catch(f=>{throw"FirebaseError"===f.name?(f.code===ee.UNAUTHENTICATED&&this.credentials.invalidateToken(),f):new fe(ee.UNKNOWN,f.toString())})}terminate(){this.Dr=!0}}class yp{constructor(n,o){this.asyncQueue=n,this.onlineStateHandler=o,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const o=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(si(o),this.$r=!1):Ct("OnlineStateTracker",o)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class by{constructor(n,o,u,f,w){var M=this;this.localStore=n,this.datastore=o,this.asyncQueue=u,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=w,this.Qr.Ei(H=>{u.enqueueAndForget((0,be.Z)(function*(){var J;Gu(M)&&(Ct("RemoteStore","Restarting streams for network reachability change."),yield(J=(0,be.Z)(function*(me){const De=Z(me);De.Kr.add(4),yield Mc(De),De.Wr.set("Unknown"),De.Kr.delete(4),yield md(De)}),function(me){return J.apply(this,arguments)})(M))}))}),this.Wr=new yp(u,f)}}function md(a){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,be.Z)(function*(a){if(Gu(a))for(const n of a.jr)yield n(!0)})).apply(this,arguments)}function Mc(a){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,be.Z)(function*(a){for(const n of a.jr)yield n(!1)})).apply(this,arguments)}function jh(a,n){const o=Z(a);o.qr.has(n.targetId)||(o.qr.set(n.targetId,n),Xd(o)?Fm(o):_d(o).cr()&&$h(o,n))}function Za(a,n){const o=Z(a),u=_d(o);o.qr.delete(n),u.cr()&&km(o,n),0===o.qr.size&&(u.cr()?u.lr():Gu(o)&&o.Wr.set("Unknown"))}function $h(a,n){a.Gr.Y(n.targetId),_d(a).Ir(n)}function km(a,n){a.Gr.Y(n),_d(a).Ar(n)}function Fm(a){a.Gr=new ku({getRemoteKeysForTarget:n=>a.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>a.qr.get(n)||null}),_d(a).start(),a.Wr.Or()}function Xd(a){return Gu(a)&&!_d(a).ar()&&a.qr.size>0}function Gu(a){return 0===Z(a).Kr.size}function vp(a){a.Gr=void 0}function wy(a){return bp.apply(this,arguments)}function bp(){return(bp=(0,be.Z)(function*(a){a.qr.forEach((n,o)=>{$h(a,n)})})).apply(this,arguments)}function eh(a,n){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,be.Z)(function*(a,n){vp(a),Xd(a)?(a.Wr.Lr(n),Fm(a)):a.Wr.set("Unknown")})).apply(this,arguments)}function wp(a,n,o){return zu.apply(this,arguments)}function zu(){return(zu=(0,be.Z)(function*(a,n,o){if(a.Wr.set("Online"),n instanceof wc&&2===n.state&&n.cause)try{yield(u=(0,be.Z)(function*(f,w){const M=w.cause;for(const H of w.targetIds)f.qr.has(H)&&(yield f.remoteSyncer.rejectListen(H,M),f.qr.delete(H),f.Gr.removeTarget(H))}),function(f,w){return u.apply(this,arguments)})(a,n)}catch(u){Ct("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),u),yield qu(a,u)}else if(n instanceof vc?a.Gr.rt(n):n instanceof bc?a.Gr.ft(n):a.Gr.ct(n),!o.isEqual(On.min()))try{const u=yield Nm(a.localStore);o.compareTo(u)>=0&&(yield function(f,w){const M=f.Gr._t(w);return M.targetChanges.forEach((H,J)=>{if(H.resumeToken.approximateByteSize()>0){const me=f.qr.get(J);me&&f.qr.set(J,me.withResumeToken(H.resumeToken,w))}}),M.targetMismatches.forEach(H=>{const J=f.qr.get(H);if(!J)return;f.qr.set(H,J.withResumeToken(qn.EMPTY_BYTE_STRING,J.snapshotVersion)),km(f,H);const me=new ha(J.target,H,1,J.sequenceNumber);$h(f,me)}),f.remoteSyncer.applyRemoteEvent(M)}(a,o))}catch(u){Ct("RemoteStore","Failed to raise snapshot:",u),yield qu(a,u)}var u})).apply(this,arguments)}function qu(a,n,o){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,be.Z)(function*(a,n,o){if(!yl(n))throw n;a.Kr.add(1),yield Mc(a),a.Wr.set("Offline"),o||(o=()=>Nm(a.localStore)),a.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Ct("RemoteStore","Retrying IndexedDB access"),yield o(),a.Kr.delete(1),yield md(a)}))})).apply(this,arguments)}function Lm(a,n){return n().catch(o=>qu(a,o,n))}function Rc(a){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,be.Z)(function*(a){const n=Z(a),o=Zu(n);let u=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;Ep(n);)try{const f=yield py(n.localStore,u);if(null===f){0===n.Ur.length&&o.lr();break}u=f.batchId,Dp(n,f)}catch(f){yield qu(n,f)}Cp(n)&&th(n)})).apply(this,arguments)}function Ep(a){return Gu(a)&&a.Ur.length<10}function Dp(a,n){a.Ur.push(n);const o=Zu(a);o.cr()&&o.br&&o.Pr(n.mutations)}function Cp(a){return Gu(a)&&!Zu(a).ar()&&a.Ur.length>0}function th(a){Zu(a).start()}function Ey(a){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,be.Z)(function*(a){Zu(a).Sr()})).apply(this,arguments)}function V0(a){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,be.Z)(function*(a){const n=Zu(a);for(const o of a.Ur)n.Pr(o.mutations)})).apply(this,arguments)}function Vm(a,n,o){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,be.Z)(function*(a,n,o){const u=a.Ur.shift(),f=da.from(u,n,o);yield Lm(a,()=>a.remoteSyncer.applySuccessfulWrite(f)),yield Rc(a)})).apply(this,arguments)}function Bm(a,n){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,be.Z)(function*(a,n){var o;n&&Zu(a).br&&(yield(o=(0,be.Z)(function*(u,f){if(Ld(w=f.code)&&w!==ee.ABORTED){const M=u.Ur.shift();Zu(u).hr(),yield Lm(u,()=>u.remoteSyncer.rejectFailedWrite(M.batchId,f)),yield Rc(u)}var w}),function(u,f){return o.apply(this,arguments)})(a,n)),Cp(a)&&th(a)})).apply(this,arguments)}function Sp(a,n){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,be.Z)(function*(a,n){const o=Z(a);n?(o.Kr.delete(2),yield md(o)):n||(o.Kr.add(2),yield Mc(o),o.Wr.set("Unknown"))})).apply(this,arguments)}function _d(a){return a.zr||(a.zr=function(n,o,u){const f=Z(n);return f.Cr(),new F0(o,f.nr,f.credentials,f.N,u)}(a.datastore,a.asyncQueue,{Si:wy.bind(null,a),Ci:eh.bind(null,a),Tr:wp.bind(null,a)}),a.jr.push(function(){var n=(0,be.Z)(function*(o){o?(a.zr.hr(),Xd(a)?Fm(a):a.Wr.set("Unknown")):(yield a.zr.stop(),vp(a))});return function(o){return n.apply(this,arguments)}}())),a.zr}function Zu(a){return a.Hr||(a.Hr=function(n,o,u){const f=Z(n);return f.Cr(),new L0(o,f.nr,f.credentials,f.N,u)}(a.datastore,a.asyncQueue,{Si:Ey.bind(null,a),Ci:Bm.bind(null,a),Vr:V0.bind(null,a),vr:Vm.bind(null,a)}),a.jr.push(function(){var n=(0,be.Z)(function*(o){o?(a.Hr.hr(),yield Rc(a)):(yield a.Hr.stop(),a.Ur.length>0&&(Ct("RemoteStore",`Stopping write stream with ${a.Ur.length} pending writes`),a.Ur=[]))});return function(o){return n.apply(this,arguments)}}())),a.Hr}class Um{constructor(n,o,u,f,w){this.asyncQueue=n,this.timerId=o,this.targetTimeMs=u,this.op=f,this.removalCallback=w,this.deferred=new st,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(M=>{})}static createAndSchedule(n,o,u,f,w){const M=Date.now()+u,H=new Um(n,o,M,f,w);return H.start(u),H}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nh(a,n){if(si("AsyncQueue",`${n}: ${a}`),yl(a))return new fe(ee.UNAVAILABLE,`${n}: ${a}`);throw a}class xc{constructor(n){this.comparator=n?(o,u)=>n(o,u)||sn.comparator(o.key,u.key):(o,u)=>sn.comparator(o.key,u.key),this.keyedMap=Pu(),this.sortedSet=new ki(this.comparator)}static emptySet(n){return new xc(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const o=this.keyedMap.get(n);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((o,u)=>(n(o),!1))}add(n){const o=this.delete(n.key);return o.copy(o.keyedMap.insert(n.key,n),o.sortedSet.insert(n,null))}delete(n){const o=this.get(n);return o?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(o)):this}isEqual(n){if(!(n instanceof xc)||this.size!==n.size)return!1;const o=this.sortedSet.getIterator(),u=n.sortedSet.getIterator();for(;o.hasNext();){const f=o.getNext().key,w=u.getNext().key;if(!f.isEqual(w))return!1}return!0}toString(){const n=[];return this.forEach(o=>{n.push(o.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,o){const u=new xc;return u.comparator=this.comparator,u.keyedMap=n,u.sortedSet=o,u}}class Dy{constructor(){this.Jr=new ki(sn.comparator)}track(n){const o=n.doc.key,u=this.Jr.get(o);u?0!==n.type&&3===u.type?this.Jr=this.Jr.insert(o,n):3===n.type&&1!==u.type?this.Jr=this.Jr.insert(o,{type:u.type,doc:n.doc}):2===n.type&&2===u.type?this.Jr=this.Jr.insert(o,{type:2,doc:n.doc}):2===n.type&&0===u.type?this.Jr=this.Jr.insert(o,{type:0,doc:n.doc}):1===n.type&&0===u.type?this.Jr=this.Jr.remove(o):1===n.type&&2===u.type?this.Jr=this.Jr.insert(o,{type:1,doc:u.doc}):0===n.type&&1===u.type?this.Jr=this.Jr.insert(o,{type:2,doc:n.doc}):S():this.Jr=this.Jr.insert(o,n)}Yr(){const n=[];return this.Jr.inorderTraversal((o,u)=>{n.push(u)}),n}}class yd{constructor(n,o,u,f,w,M,H,J){this.query=n,this.docs=o,this.oldDocs=u,this.docChanges=f,this.mutatedKeys=w,this.fromCache=M,this.syncStateChanged=H,this.excludesMetadataChanges=J}static fromInitialDocuments(n,o,u,f){const w=[];return o.forEach(M=>{w.push({type:0,doc:M})}),new yd(n,o,xc.emptySet(o),w,u,f,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Nu(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const o=this.docChanges,u=n.docChanges;if(o.length!==u.length)return!1;for(let f=0;f<o.length;f++)if(o[f].type!==u[f].type||!o[f].doc.isEqual(u[f].doc))return!1;return!0}}class Np{constructor(){this.Xr=void 0,this.listeners=[]}}class jm{constructor(){this.queries=new uu(n=>$a(n),Nu),this.onlineState="Unknown",this.Zr=new Set}}function Ap(a,n){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,be.Z)(function*(a,n){const o=Z(a),u=n.query;let f=!1,w=o.queries.get(u);if(w||(f=!0,w=new Np),f)try{w.Xr=yield o.onListen(u)}catch(M){const H=nh(M,`Initialization of query '${Lo(n.query)}' failed`);return void n.onError(H)}o.queries.set(u,w),w.listeners.push(n),n.eo(o.onlineState),w.Xr&&n.no(w.Xr)&&xp(o)})).apply(this,arguments)}function Rp(a,n){return zh.apply(this,arguments)}function zh(){return(zh=(0,be.Z)(function*(a,n){const o=Z(a),u=n.query;let f=!1;const w=o.queries.get(u);if(w){const M=w.listeners.indexOf(n);M>=0&&(w.listeners.splice(M,1),f=0===w.listeners.length)}if(f)return o.queries.delete(u),o.onUnlisten(u)})).apply(this,arguments)}function Cy(a,n){const o=Z(a);let u=!1;for(const f of n){const M=o.queries.get(f.query);if(M){for(const H of M.listeners)H.no(f)&&(u=!0);M.Xr=f}}u&&xp(o)}function $m(a,n,o){const u=Z(a),f=u.queries.get(n);if(f)for(const w of f.listeners)w.onError(o);u.queries.delete(n)}function xp(a){a.Zr.forEach(n=>{n.next()})}class Op{constructor(n,o,u){this.query=n,this.so=o,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=u||{}}no(n){if(!this.options.includeMetadataChanges){const u=[];for(const f of n.docChanges)3!==f.type&&u.push(f);n=new yd(n.query,n.docs,n.oldDocs,u,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let o=!1;return this.io?this.oo(n)&&(this.so.next(n),o=!0):this.ao(n,this.onlineState)&&(this.co(n),o=!0),this.ro=n,o}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let o=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),o=!0),o}ao(n,o){return!n.fromCache||!(this.options.uo&&"Offline"!==o||n.docs.isEmpty()&&"Offline"!==o)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=yd.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class Hm{constructor(n,o){this.payload=n,this.byteLength=o}ho(){return"metadata"in this.payload}}class Pp{constructor(n){this.N=n}zn(n){return ca(this.N,n)}Hn(n){return n.metadata.exists?Fu(this.N,n.document,!1):ur.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return ms(n)}}class Ty{constructor(n,o,u){this.lo=n,this.localStore=o,this.N=u,this.queries=[],this.documents=[],this.progress=bl(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let o=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++o):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++o),o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}wo(n){const o=new Map,u=new Pp(this.N);for(const f of n)if(f.metadata.queries){const w=u.zn(f.metadata.name);for(const M of f.metadata.queries){const H=(o.get(M)||sr()).add(w);o.set(M,H)}}return o}complete(){var n=this;return(0,be.Z)(function*(){const o=yield function(a,n,o,u){return Oh.apply(this,arguments)}(n.localStore,new Pp(n.N),n.documents,n.lo.id),u=n.wo(n.documents);for(const f of n.queries)yield gy(n.localStore,f,u.get(f.name));return n.progress.taskState="Success",new M0(Object.assign({},n.progress),o)})()}}function bl(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class qh{constructor(n){this.key=n}}class Gm{constructor(n){this.key=n}}class Wm{constructor(n,o){this.query=n,this._o=o,this.mo=null,this.current=!1,this.yo=sr(),this.mutatedKeys=sr(),this.po=la(n),this.Eo=new xc(this.po)}get To(){return this._o}Io(n,o){const u=o?o.Ao:new Dy,f=o?o.Eo:this.Eo;let w=o?o.mutatedKeys:this.mutatedKeys,M=f,H=!1;const J=gi(this.query)&&f.size===this.query.limit?f.last():null,me=ul(this.query)&&f.size===this.query.limit?f.first():null;if(n.inorderTraversal((De,Fe)=>{const ct=f.get(De),_t=Ha(this.query,Fe)?Fe:null,Ot=!!ct&&this.mutatedKeys.has(ct.key),gn=!!_t&&(_t.hasLocalMutations||this.mutatedKeys.has(_t.key)&&_t.hasCommittedMutations);let Zn=!1;ct&&_t?ct.data.isEqual(_t.data)?Ot!==gn&&(u.track({type:3,doc:_t}),Zn=!0):this.Ro(ct,_t)||(u.track({type:2,doc:_t}),Zn=!0,(J&&this.po(_t,J)>0||me&&this.po(_t,me)<0)&&(H=!0)):!ct&&_t?(u.track({type:0,doc:_t}),Zn=!0):ct&&!_t&&(u.track({type:1,doc:ct}),Zn=!0,(J||me)&&(H=!0)),Zn&&(_t?(M=M.add(_t),w=gn?w.add(De):w.delete(De)):(M=M.delete(De),w=w.delete(De)))}),gi(this.query)||ul(this.query))for(;M.size>this.query.limit;){const De=gi(this.query)?M.last():M.first();M=M.delete(De.key),w=w.delete(De.key),u.track({type:1,doc:De})}return{Eo:M,Ao:u,Ln:H,mutatedKeys:w}}Ro(n,o){return n.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(n,o,u){const f=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const w=n.Ao.Yr();w.sort((me,De)=>function(Fe,ct){const _t=Ot=>{switch(Ot){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return S()}};return _t(Fe)-_t(ct)}(me.type,De.type)||this.po(me.doc,De.doc)),this.bo(u);const M=o?this.Po():[],H=0===this.yo.size&&this.current?1:0,J=H!==this.mo;return this.mo=H,0!==w.length||J?{snapshot:new yd(this.query,n.Eo,f,w,n.mutatedKeys,0===H,J,!1),vo:M}:{vo:M}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Dy,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(o=>this._o=this._o.add(o)),n.modifiedDocuments.forEach(o=>{}),n.removedDocuments.forEach(o=>this._o=this._o.delete(o)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=sr(),this.Eo.forEach(u=>{this.Vo(u.key)&&(this.yo=this.yo.add(u.key))});const o=[];return n.forEach(u=>{this.yo.has(u)||o.push(new Gm(u))}),this.yo.forEach(u=>{n.has(u)||o.push(new qh(u))}),o}So(n){this._o=n.Gn,this.yo=sr();const o=this.Io(n.documents);return this.applyChanges(o,!0)}Do(){return yd.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class B0{constructor(n,o,u){this.query=n,this.targetId=o,this.view=u}}class zm{constructor(n){this.key=n,this.Co=!1}}class Iy{constructor(n,o,u,f,w,M){this.localStore=n,this.remoteStore=o,this.eventManager=u,this.sharedClientState=f,this.currentUser=w,this.maxConcurrentLimboResolutions=M,this.No={},this.xo=new uu(H=>$a(H),Nu),this.ko=new Map,this.$o=new Set,this.Oo=new ki(sn.comparator),this.Fo=new Map,this.Mo=new Zd,this.Lo={},this.Bo=new Map,this.Uo=ju.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Sy(a,n){return kp.apply(this,arguments)}function kp(){return(kp=(0,be.Z)(function*(a,n){const o=Yp(a);let u,f;const w=o.xo.get(n);if(w)u=w.targetId,o.sharedClientState.addLocalQueryTarget(u),f=w.view.Do();else{const M=yield Ac(o.localStore,Ks(n)),H=o.sharedClientState.addLocalQueryTarget(M.targetId);u=M.targetId,f=yield rh(o,n,u,"current"===H),o.isPrimaryClient&&jh(o.remoteStore,M)}return f})).apply(this,arguments)}function rh(a,n,o,u){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,be.Z)(function*(a,n,o,u){a.Ko=(De,Fe,ct)=>{return(_t=(0,be.Z)(function*(Ot,gn,Zn,ls){let Uo=gn.view.Io(Zn);Uo.Ln&&(Uo=yield xh(Ot.localStore,gn.query,!1).then(({documents:yh})=>gn.view.Io(yh,Uo)));const jl=ls&&ls.targetChanges.get(gn.targetId),tl=gn.view.applyChanges(Uo,Ot.isPrimaryClient,jl);return $p(Ot,gn.targetId,tl.vo),tl.snapshot}),function(Ot,gn,Zn,ls){return _t.apply(this,arguments)})(a,De,Fe,ct);var _t};const f=yield xh(a.localStore,n,!0),w=new Wm(n,f.Gn),M=w.Io(f.documents),H=gl.createSynthesizedTargetChangeForCurrentChange(o,u&&"Offline"!==a.onlineState),J=w.applyChanges(M,a.isPrimaryClient,H);$p(a,o,J.vo);const me=new B0(n,o,w);return a.xo.set(n,me),a.ko.has(o)?a.ko.get(o).push(n):a.ko.set(o,[n]),J.snapshot})).apply(this,arguments)}function Ny(a,n){return vd.apply(this,arguments)}function vd(){return(vd=(0,be.Z)(function*(a,n){const o=Z(a),u=o.xo.get(n),f=o.ko.get(u.targetId);if(f.length>1)return o.ko.set(u.targetId,f.filter(w=>!Nu(w,n))),void o.xo.delete(n);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield fd(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),Za(o.remoteStore,u.targetId),pa(o,u.targetId)}).catch(Nc))):(pa(o,u.targetId),yield fd(o.localStore,u.targetId,!0))})).apply(this,arguments)}function Vp(){return(Vp=(0,be.Z)(function*(a,n,o){const u=Zp(a);try{const f=yield function(w,M){const H=Z(w),J=Pi.now(),me=M.reduce((Fe,ct)=>Fe.add(ct.key),sr());let De;return H.persistence.runTransaction("Locally write mutations","readwrite",Fe=>H.Qn.Pn(Fe,me).next(ct=>{De=ct;const _t=[];for(const Ot of M){const gn=Ol(Ot,De.get(Ot.key));null!=gn&&_t.push(new $s(Ot.key,gn,Du(gn.value.mapValue),oi.exists(!0)))}return H.In.addMutationBatch(Fe,J,_t,M)})).then(Fe=>(Fe.applyToLocalDocumentSet(De),{batchId:Fe.batchId,changes:De}))}(u.localStore,n);u.sharedClientState.addPendingMutation(f.batchId),function(w,M,H){let J=w.Lo[w.currentUser.toKey()];J||(J=new ki(xn)),J=J.insert(M,H),w.Lo[w.currentUser.toKey()]=J}(u,f.batchId,o),yield ga(u,f.changes),yield Rc(u.remoteStore)}catch(f){const w=nh(f,"Failed to persist write");o.reject(w)}})).apply(this,arguments)}function Yh(a,n){return ih.apply(this,arguments)}function ih(){return(ih=(0,be.Z)(function*(a,n){const o=Z(a);try{const u=yield fy(o.localStore,n);n.targetChanges.forEach((f,w)=>{const M=o.Fo.get(w);M&&(V(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?M.Co=!0:f.modifiedDocuments.size>0?V(M.Co):f.removedDocuments.size>0&&(V(M.Co),M.Co=!1))}),yield ga(o,u,n)}catch(u){yield Nc(u)}})).apply(this,arguments)}function Bp(a,n,o){const u=Z(a);if(u.isPrimaryClient&&0===o||!u.isPrimaryClient&&1===o){const f=[];u.xo.forEach((w,M)=>{const H=M.view.eo(n);H.snapshot&&f.push(H.snapshot)}),function(w,M){const H=Z(w);H.onlineState=M;let J=!1;H.queries.forEach((me,De)=>{for(const Fe of De.listeners)Fe.eo(M)&&(J=!0)}),J&&xp(H)}(u.eventManager,n),f.length&&u.No.Tr(f),u.onlineState=n,u.isPrimaryClient&&u.sharedClientState.setOnlineState(n)}}function Ay(a,n,o){return Up.apply(this,arguments)}function Up(){return(Up=(0,be.Z)(function*(a,n,o){const u=Z(a);u.sharedClientState.updateQueryState(n,"rejected",o);const f=u.Fo.get(n),w=f&&f.key;if(w){let M=new ki(sn.comparator);M=M.insert(w,ur.newNoDocument(w,On.min()));const H=sr().add(w),J=new pl(On.min(),new Map,new mi(xn),M,H);yield Yh(u,J),u.Oo=u.Oo.remove(w),u.Fo.delete(n),Zm(u)}else yield fd(u.localStore,n,!1).then(()=>pa(u,n,o)).catch(Nc)})).apply(this,arguments)}function jp(a,n){return qm.apply(this,arguments)}function qm(){return(qm=(0,be.Z)(function*(a,n){const o=Z(a),u=n.batch.batchId;try{const f=yield Sm(o.localStore,n);Jh(o,u,null),Qh(o,u),o.sharedClientState.updateMutationState(u,"acknowledged"),yield ga(o,f)}catch(f){yield Nc(f)}})).apply(this,arguments)}function My(a,n,o){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,be.Z)(function*(a,n,o){const u=Z(a);try{const f=yield function(w,M){const H=Z(w);return H.persistence.runTransaction("Reject batch","readwrite-primary",J=>{let me;return H.In.lookupMutationBatch(J,M).next(De=>(V(null!==De),me=De.keys(),H.In.removeMutationBatch(J,De))).next(()=>H.In.performConsistencyCheck(J)).next(()=>H.Qn.Pn(J,me))})}(u.localStore,n);Jh(u,n,o),Qh(u,n),u.sharedClientState.updateMutationState(n,"rejected",o),yield ga(u,f)}catch(f){yield Nc(f)}})).apply(this,arguments)}function Kh(){return(Kh=(0,be.Z)(function*(a,n){const o=Z(a);Gu(o.remoteStore)||Ct("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const u=yield function(w){const M=Z(w);return M.persistence.runTransaction("Get highest unacknowledged batch id","readonly",H=>M.In.getHighestUnacknowledgedBatchId(H))}(o.localStore);if(-1===u)return void n.resolve();const f=o.Bo.get(u)||[];f.push(n),o.Bo.set(u,f)}catch(u){const f=nh(u,"Initialization of waitForPendingWrites() operation failed");n.reject(f)}})).apply(this,arguments)}function Qh(a,n){(a.Bo.get(n)||[]).forEach(o=>{o.resolve()}),a.Bo.delete(n)}function Jh(a,n,o){const u=Z(a);let f=u.Lo[u.currentUser.toKey()];if(f){const w=f.get(n);w&&(o?w.reject(o):w.resolve(),f=f.remove(n)),u.Lo[u.currentUser.toKey()]=f}}function pa(a,n,o=null){a.sharedClientState.removeLocalQueryTarget(n);for(const u of a.ko.get(n))a.xo.delete(u),o&&a.No.jo(u,o);a.ko.delete(n),a.isPrimaryClient&&a.Mo.cs(n).forEach(u=>{a.Mo.containsKey(u)||sh(a,u)})}function sh(a,n){a.$o.delete(n.path.canonicalString());const o=a.Oo.get(n);null!==o&&(Za(a.remoteStore,o),a.Oo=a.Oo.remove(n),a.Fo.delete(o),Zm(a))}function $p(a,n,o){for(const u of o)u instanceof qh?(a.Mo.addReference(u.key,n),Ry(a,u)):u instanceof Gm?(Ct("SyncEngine","Document no longer in limbo: "+u.key),a.Mo.removeReference(u.key,n),a.Mo.containsKey(u.key)||sh(a,u.key)):S()}function Ry(a,n){const o=n.key,u=o.path.canonicalString();a.Oo.get(o)||a.$o.has(u)||(Ct("SyncEngine","New document in limbo: "+o),a.$o.add(u),Zm(a))}function Zm(a){for(;a.$o.size>0&&a.Oo.size<a.maxConcurrentLimboResolutions;){const n=a.$o.values().next().value;a.$o.delete(n);const o=new sn(Ur.fromString(n)),u=a.Uo.next();a.Fo.set(u,new zm(o)),a.Oo=a.Oo.insert(o,u),jh(a.remoteStore,new ha(Ks(Ma(o.path)),u,2,ti.T))}}function ga(a,n,o){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,be.Z)(function*(a,n,o){const u=Z(a),f=[],w=[],M=[];var H;u.xo.isEmpty()||(u.xo.forEach((H,J)=>{M.push(u.Ko(J,n,o).then(me=>{if(me){u.isPrimaryClient&&u.sharedClientState.updateQueryState(J.targetId,me.fromCache?"not-current":"current"),f.push(me);const De=up.kn(J.targetId,me);w.push(De)}}))}),yield Promise.all(M),u.No.Tr(f),yield(H=(0,be.Z)(function*(J,me){const De=Z(J);try{yield De.persistence.runTransaction("notifyLocalViewChanges","readwrite",Fe=>rt.forEach(me,ct=>rt.forEach(ct.Nn,_t=>De.persistence.referenceDelegate.addReference(Fe,ct.targetId,_t)).next(()=>rt.forEach(ct.xn,_t=>De.persistence.referenceDelegate.removeReference(Fe,ct.targetId,_t)))))}catch(Fe){if(!yl(Fe))throw Fe;Ct("LocalStore","Failed to update sequence numbers: "+Fe)}for(const Fe of me){const ct=Fe.targetId;if(!Fe.fromCache){const _t=De.Un.get(ct),gn=_t.withLastLimboFreeSnapshotVersion(_t.snapshotVersion);De.Un=De.Un.insert(ct,gn)}}}),function(J,me){return H.apply(this,arguments)})(u.localStore,w))})).apply(this,arguments)}function oh(a,n){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,be.Z)(function*(a,n){const o=Z(a);if(!o.currentUser.isEqual(n)){Ct("SyncEngine","User change. New user:",n.toKey());const u=yield Ya(o.localStore,n);o.currentUser=n,(f=o).Bo.forEach(M=>{M.forEach(H=>{H.reject(new fe(ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Bo.clear(),o.sharedClientState.handleUserChange(n,u.removedBatchIds,u.addedBatchIds),yield ga(o,u.Wn)}var f})).apply(this,arguments)}function xy(a,n){const o=Z(a),u=o.Fo.get(n);if(u&&u.Co)return sr().add(u.key);{let f=sr();const w=o.ko.get(n);if(!w)return f;for(const M of w){const H=o.xo.get(M);f=f.unionWith(H.view.To)}return f}}function Hp(a,n){return ef.apply(this,arguments)}function ef(){return(ef=(0,be.Z)(function*(a,n){const o=Z(a),u=yield xh(o.localStore,n.query,!0),f=n.view.So(u);return o.isPrimaryClient&&$p(o,n.targetId,f.vo),f})).apply(this,arguments)}function Oy(a){return tf.apply(this,arguments)}function tf(){return(tf=(0,be.Z)(function*(a){const n=Z(a);return fp(n.localStore).then(o=>ga(n,o))})).apply(this,arguments)}function Py(a,n,o,u){return ah.apply(this,arguments)}function ah(){return(ah=(0,be.Z)(function*(a,n,o,u){const f=Z(a),w=yield function(M,H){const J=Z(M),me=Z(J.In);return J.persistence.runTransaction("Lookup mutation documents","readonly",De=>me.Xt(De,H).next(Fe=>Fe?J.Qn.Pn(De,Fe):rt.resolve(null)))}(f.localStore,n);var H;null!==w?("pending"===o?yield Rc(f.remoteStore):"acknowledged"===o||"rejected"===o?(Jh(f,n,u||null),Qh(f,n),H=n,Z(Z(f.localStore).In).te(H)):S(),yield ga(f,w)):Ct("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function Gp(){return(Gp=(0,be.Z)(function*(a,n){const o=Z(a);if(Yp(o),Zp(o),!0===n&&!0!==o.qo){const u=o.sharedClientState.getAllActiveQueryTargets(),f=yield Wp(o,u.toArray());o.qo=!0,yield Sp(o.remoteStore,!0);for(const w of f)jh(o.remoteStore,w)}else if(!1===n&&!1!==o.qo){const u=[];let f=Promise.resolve();o.ko.forEach((w,M)=>{o.sharedClientState.isLocalQueryTarget(M)?u.push(M):f=f.then(()=>(pa(o,M),fd(o.localStore,M,!0))),Za(o.remoteStore,M)}),yield f,yield Wp(o,u),function(w){const M=Z(w);M.Fo.forEach((H,J)=>{Za(M.remoteStore,J)}),M.Mo.us(),M.Fo=new Map,M.Oo=new ki(sn.comparator)}(o),o.qo=!1,yield Sp(o.remoteStore,!1)}})).apply(this,arguments)}function Wp(a,n,o){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,be.Z)(function*(a,n,o){const u=Z(a),f=[],w=[];for(const M of n){let H;const J=u.ko.get(M);if(J&&0!==J.length){H=yield Ac(u.localStore,Ks(J[0]));for(const me of J){const De=u.xo.get(me),Fe=yield Hp(u,De);Fe.snapshot&&w.push(Fe.snapshot)}}else{const me=yield Yn(u.localStore,M);H=yield Ac(u.localStore,me),yield rh(u,zp(me),M,!1)}f.push(H)}return u.No.Tr(w),f})).apply(this,arguments)}function zp(a){return ll(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function Fy(a){const n=Z(a);return Z(Z(n.localStore).persistence).pn()}function Ly(a,n,o,u){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,be.Z)(function*(a,n,o,u){const f=Z(a);if(f.qo)Ct("SyncEngine","Ignoring unexpected query state notification.");else if(f.ko.has(n))switch(o){case"current":case"not-current":{const w=yield fp(f.localStore),M=pl.createSynthesizedRemoteEventForCurrentChange(n,"current"===o);yield ga(f,w,M);break}case"rejected":yield fd(f.localStore,n,!0),pa(f,n,u);break;default:S()}})).apply(this,arguments)}function Vy(a,n,o){return qp.apply(this,arguments)}function qp(){return(qp=(0,be.Z)(function*(a,n,o){const u=Yp(a);if(u.qo){for(const f of n){if(u.ko.has(f)){Ct("SyncEngine","Adding an already active target "+f);continue}const w=yield Yn(u.localStore,f),M=yield Ac(u.localStore,w);yield rh(u,zp(w),M.targetId,!1),jh(u.remoteStore,M)}for(const f of o)u.ko.has(f)&&(yield fd(u.localStore,f,!1).then(()=>{Za(u.remoteStore,f),pa(u,f)}).catch(Nc))}})).apply(this,arguments)}function Yp(a){const n=Z(a);return n.remoteStore.remoteSyncer.applyRemoteEvent=Yh.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=xy.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Ay.bind(null,n),n.No.Tr=Cy.bind(null,n.eventManager),n.No.jo=$m.bind(null,n.eventManager),n}function Zp(a){const n=Z(a);return n.remoteStore.remoteSyncer.applySuccessfulWrite=jp.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=My.bind(null,n),n}class Km{constructor(){this.synchronizeTabs=!1}initialize(n){var o=this;return(0,be.Z)(function*(){o.N=Uh(n.databaseInfo.databaseId),o.sharedClientState=o.Wo(n),o.persistence=o.Go(n),yield o.persistence.start(),o.gcScheduler=o.zo(n),o.localStore=o.Ho(n)})()}zo(n){return null}Ho(n){return Im(this.persistence,new cp,n.initialUser,this.N)}Go(n){return new du(gd.Ns,this.N)}Wo(n){return new Om}terminate(){var n=this;return(0,be.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class Kp extends Km{constructor(n,o,u){super(),this.Jo=n,this.cacheSizeBytes=o,this.forceOwnership=u,this.synchronizeTabs=!1}initialize(n){var o=()=>super.initialize,u=this;return(0,be.Z)(function*(){yield o().call(u,n),yield function(a){return pd.apply(this,arguments)}(u.localStore),yield u.Jo.initialize(u,n),yield Zp(u.Jo.syncEngine),yield Rc(u.Jo.remoteStore),yield u.persistence.nn(()=>(u.gcScheduler&&!u.gcScheduler.started&&u.gcScheduler.start(u.localStore),Promise.resolve()))})()}Ho(n){return Im(this.persistence,new cp,n.initialUser,this.N)}zo(n){return new Dm(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const o=Rh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?fa.withCacheSize(this.cacheSizeBytes):fa.DEFAULT;return new ap(this.synchronizeTabs,o,n.clientId,u,n.asyncQueue,yy(),_p(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new Om}}class Qi extends Kp{constructor(n,o){super(n,o,!1),this.Jo=n,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(n){var o=()=>super.initialize,u=this;return(0,be.Z)(function*(){yield o().call(u,n);const f=u.Jo.syncEngine;u.sharedClientState instanceof Bh&&(u.sharedClientState.syncEngine={_i:Py.bind(null,f),mi:Ly.bind(null,f),gi:Vy.bind(null,f),pn:Fy.bind(null,f),wi:Oy.bind(null,f)},yield u.sharedClientState.start()),yield u.persistence.nn(function(){var w=(0,be.Z)(function*(M){yield function(a,n){return Gp.apply(this,arguments)}(u.Jo.syncEngine,M),u.gcScheduler&&(M&&!u.gcScheduler.started?u.gcScheduler.start(u.localStore):M||u.gcScheduler.stop())});return function(M){return w.apply(this,arguments)}}())})()}Wo(n){const o=yy();if(!Bh.bt(o))throw new fe(ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const u=Rh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Bh(o,n.asyncQueue,u,n.clientId,n.initialUser)}}class lh{initialize(n,o){var u=this;return(0,be.Z)(function*(){u.localStore||(u.localStore=n.localStore,u.sharedClientState=n.sharedClientState,u.datastore=u.createDatastore(o),u.remoteStore=u.createRemoteStore(o),u.eventManager=u.createEventManager(o),u.syncEngine=u.createSyncEngine(o,!n.synchronizeTabs),u.sharedClientState.onlineStateHandler=f=>Bp(u.syncEngine,f,1),u.remoteStore.remoteSyncer.handleCredentialChange=oh.bind(null,u.syncEngine),yield Sp(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(n){return new jm}createDatastore(n){const o=Uh(n.databaseInfo.databaseId),u=new k0(n.databaseInfo);return new Hu(n.credentials,u,o)}createRemoteStore(n){return o=this.localStore,u=this.datastore,f=n.asyncQueue,w=H=>Bp(this.syncEngine,H,0),M=_y.bt()?new _y:new mp,new by(o,u,f,w,M);var o,u,f,w,M}createSyncEngine(n,o){return function(u,f,w,M,H,J,me){const De=new Iy(u,f,w,M,H,J);return me&&(De.qo=!0),De}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,o)}terminate(){return(n=(0,be.Z)(function*(o){const u=Z(o);Ct("RemoteStore","RemoteStore shutting down."),u.Kr.add(5),yield Mc(u),u.Qr.shutdown(),u.Wr.set("Unknown")}),function(o){return n.apply(this,arguments)})(this.remoteStore);var n}}function By(a,n=10240){let o=0;return{read:()=>(0,be.Z)(function*(){if(o<a.byteLength){const u={value:a.slice(o,o+n),done:!1};return o+=n,u}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ka{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,o){this.muted||setTimeout(()=>{this.muted||n(o)},0)}}class Qp{constructor(n,o){this.Zo=n,this.N=o,this.metadata=new st,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(u=>{u&&u.ho()?this.metadata.resolve(u.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==u?void 0:u.payload)}`))},u=>this.metadata.reject(u))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,be.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,be.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,be.Z)(function*(){const o=yield n.na();if(null===o)return null;const u=n.ta.decode(o),f=Number(u);isNaN(f)&&n.sa(`length string (${u}) is not valid number`);const w=yield n.ia(f);return new Hm(JSON.parse(w),o.length+f)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,be.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const o=n.ra();o<0&&n.sa("Reached the end of bundle when a length string is expected.");const u=n.buffer.slice(0,o);return n.buffer=n.buffer.slice(o),u})()}ia(n){var o=this;return(0,be.Z)(function*(){for(;o.buffer.length<n;)(yield o.oa())&&o.sa("Reached the end of bundle when more is expected.");const u=o.ta.decode(o.buffer.slice(0,n));return o.buffer=o.buffer.slice(n),u})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,be.Z)(function*(){const o=yield n.Zo.read();if(!o.done){const u=new Uint8Array(n.buffer.length+o.value.length);u.set(n.buffer),u.set(o.value,n.buffer.length),n.buffer=u}return o.done})()}}class Jp{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var o=this;return(0,be.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new fe(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const u=yield(f=(0,be.Z)(function*(w,M){const H=Z(w),J=su(H.N)+"/documents",me={documents:M.map(_t=>za(H.N,_t))},De=yield H.Ki("BatchGetDocuments",J,me),Fe=new Map;De.forEach(_t=>{const Ot=function(a,n){return"found"in n?function(o,u){V(!!u.found);const f=ca(o,u.found.name),w=ms(u.found.updateTime),M=new ao({mapValue:{fields:u.found.fields}});return ur.newFoundDocument(f,w,M)}(a,n):"missing"in n?function(o,u){V(!!u.missing),V(!!u.readTime);const f=ca(o,u.missing),w=ms(u.readTime);return ur.newNoDocument(f,w)}(a,n):S()}(H.N,_t);Fe.set(Ot.key.toString(),Ot)});const ct=[];return M.forEach(_t=>{const Ot=Fe.get(_t.toString());V(!!Ot),ct.push(Ot)}),ct}),function(w,M){return f.apply(this,arguments)})(o.datastore,n);var f;return u.forEach(f=>o.recordVersion(f)),u})()}set(n,o){this.write(o.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,o){try{this.write(o.toMutation(n,this.preconditionForUpdate(n)))}catch(u){this.lastWriteError=u}this.writtenDocs.add(n.toString())}delete(n){this.write(new Pl(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,be.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const o=n.readVersions;var u;n.mutations.forEach(u=>{o.delete(u.key.toString())}),o.forEach((u,f)=>{const w=sn.fromPath(f);n.mutations.push(new mc(w,n.precondition(w)))}),yield(u=(0,be.Z)(function*(f,w){const M=Z(f),H=su(M.N)+"/documents",J={writes:w.map(me=>Fl(M.N,me))};yield M.Li("Commit",H,J)}),function(f,w){return u.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let o;if(n.isFoundDocument())o=n.version;else{if(!n.isNoDocument())throw S();o=On.min()}const u=this.readVersions.get(n.key.toString());if(u){if(!o.isEqual(u))throw new fe(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),o)}precondition(n){const o=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&o?oi.updateTime(o):oi.none()}preconditionForUpdate(n){const o=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&o){if(o.isEqual(On.min()))throw new fe(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return oi.updateTime(o)}return oi.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class j0{constructor(n,o,u,f){this.asyncQueue=n,this.datastore=o,this.updateFunction=u,this.deferred=f,this.aa=5,this.rr=new Pm(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,be.Z)(function*(){const o=new Jp(n.datastore),u=n.ua(o);u&&u.then(f=>{n.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{n.deferred.resolve(f)}).catch(w=>{n.ha(w)}))}).catch(f=>{n.ha(f)})}))}ua(n){try{const o=this.updateFunction(n);return!ko(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const o=n.code;return"aborted"===o||"failed-precondition"===o||!Ld(o)}return!1}}class Uy{constructor(n,o,u){var f=this;this.credentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Is.UNAUTHENTICATED,this.clientId=sa.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(o,function(){var w=(0,be.Z)(function*(M){Ct("FirestoreClient","Received user=",M.uid),yield f.credentialListener(M),f.user=M});return function(M){return w.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,be.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const o=new st;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),o.resolve()}catch(u){const f=nh(u,"Failed to shutdown persistence");o.reject(f)}})),o.promise}}function Qm(a,n){return nf.apply(this,arguments)}function nf(){return(nf=(0,be.Z)(function*(a,n){a.asyncQueue.verifyOperationInProgress(),Ct("FirestoreClient","Initializing OfflineComponentProvider");const o=yield a.getConfiguration();yield n.initialize(o);let u=o.initialUser;a.setCredentialChangeListener(function(){var f=(0,be.Z)(function*(w){u.isEqual(w)||(yield Ya(n.localStore,w),u=w)});return function(w){return f.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>a.terminate()),a.offlineComponents=n})).apply(this,arguments)}function Xp(a,n){return rf.apply(this,arguments)}function rf(){return(rf=(0,be.Z)(function*(a,n){a.asyncQueue.verifyOperationInProgress();const o=yield sf(a);Ct("FirestoreClient","Initializing OnlineComponentProvider");const u=yield a.getConfiguration();yield n.initialize(o,u),a.setCredentialChangeListener(f=>{return(w=(0,be.Z)(function*(M,H){const J=Z(M);J.asyncQueue.verifyOperationInProgress(),Ct("RemoteStore","RemoteStore received new credentials");const me=Gu(J);J.Kr.add(3),yield Mc(J),me&&J.Wr.set("Unknown"),yield J.remoteSyncer.handleCredentialChange(H),J.Kr.delete(3),yield md(J)}),function(M,H){return w.apply(this,arguments)})(n.remoteStore,f);var w}),a.onlineComponents=n})).apply(this,arguments)}function sf(a){return eg.apply(this,arguments)}function eg(){return(eg=(0,be.Z)(function*(a){return a.offlineComponents||(Ct("FirestoreClient","Using default OfflineComponentProvider"),yield Qm(a,new Km)),a.offlineComponents})).apply(this,arguments)}function of(a){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,be.Z)(function*(a){return a.onlineComponents||(Ct("FirestoreClient","Using default OnlineComponentProvider"),yield Xp(a,new lh)),a.onlineComponents})).apply(this,arguments)}function af(a){return sf(a).then(n=>n.persistence)}function lf(a){return sf(a).then(n=>n.localStore)}function tg(a){return of(a).then(n=>n.remoteStore)}function uf(a){return of(a).then(n=>n.syncEngine)}function kc(a){return ng.apply(this,arguments)}function ng(){return(ng=(0,be.Z)(function*(a){const n=yield of(a),o=n.eventManager;return o.onListen=Sy.bind(null,n.syncEngine),o.onUnlisten=Ny.bind(null,n.syncEngine),o})).apply(this,arguments)}function rg(a,n,o={}){const u=new st;return a.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(f,w,M,H,J){const me=new Ka({next:Fe=>{w.enqueueAndForget(()=>Rp(f,De));const ct=Fe.docs.has(M);!ct&&Fe.fromCache?J.reject(new fe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):ct&&Fe.fromCache&&H&&"server"===H.source?J.reject(new fe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):J.resolve(Fe)},error:Fe=>J.reject(Fe)}),De=new Op(Ma(M.path),me,{includeMetadataChanges:!0,uo:!0});return Ap(f,De)}(yield kc(a),a.asyncQueue,n,o,u)})),u.promise}function ig(a,n,o={}){const u=new st;return a.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(f,w,M,H,J){const me=new Ka({next:Fe=>{w.enqueueAndForget(()=>Rp(f,De)),Fe.fromCache&&"server"===H.source?J.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):J.resolve(Fe)},error:Fe=>J.reject(Fe)}),De=new Op(M,me,{includeMetadataChanges:!0,uo:!0});return Ap(f,De)}(yield kc(a),a.asyncQueue,n,o,u)})),u.promise}class sg{constructor(n,o,u,f,w,M,H,J){this.databaseId=n,this.appId=o,this.persistenceKey=u,this.host=f,this.ssl=w,this.forceLongPolling=M,this.autoDetectLongPolling=H,this.useFetchStreams=J}}class bd{constructor(n,o){this.projectId=n,this.database=o||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof bd&&n.projectId===this.projectId&&n.database===this.database}}const og=new Map;function cf(a,n,o){if(!o)throw new fe(ee.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${n}.`)}function zy(a,n,o,u){if(!0===n&&!0===u)throw new fe(ee.INVALID_ARGUMENT,`${a} and ${o} cannot be used together.`)}function Qa(a){if(!sn.isDocumentKey(a))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function qy(a){if(sn.isDocumentKey(a))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function ag(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const n=function(o){if(o.constructor){const u=/function\s+([^\s(]+)\s*\(/.exec(o.constructor.toString());if(u&&u.length>1)return u[1]}return null}(a);return n?`a custom ${n} object`:"an object"}}return"function"==typeof a?"a function":S()}function Kr(a,n){if("_delegate"in a&&(a=a._delegate),!(a instanceof n)){if(n.name===a.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=ag(a);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${o}`)}}return a}function lg(a,n){if(n<=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${n}.`)}class ug{constructor(n){var o;if(void 0===n.host){if(void 0!==n.ssl)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(o=n.ssl)||void 0===o||o;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,zy("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class wd{constructor(n,o){this._credentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ug({}),this._settingsFrozen=!1,n instanceof bd?this._databaseId=n:(this._app=n,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bd(u.options.projectId)}(n))}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ug(n),void 0!==n.credentials&&(this._credentials=function(o){if(!o)return new Qn;switch(o.type){case"gapi":const u=o.client;return V(!("object"!=typeof u||null===u||!u.auth||!u.auth.getAuthHeaderValueForFirstParty)),new Po(u,o.sessionIndex||"0",o.iamToken||null);case"provider":return o.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=og.get(n);o&&(Ct("ComponentProvider","Removing Datastore"),og.delete(n),o.terminate())}(this),Promise.resolve()}}class Ji{constructor(n,o,u){this.converter=o,this._key=u,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Ji(this.firestore,n,this._key)}}class So{constructor(n,o,u){this.converter=o,this._query=u,this.type="query",this.firestore=n}withConverter(n){return new So(this.firestore,n,this._query)}}class Ja extends So{constructor(n,o,u){super(n,o,Ma(u)),this._path=u,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Ji(this.firestore,null,new sn(n))}withConverter(n){return new Ja(this.firestore,n,this._path)}}function Jm(a,n,...o){if(a=(0,tt.m9)(a),cf("collection","path",n),a instanceof wd){const u=Ur.fromString(n,...o);return qy(u),new Ja(a,null,u)}{if(!(a instanceof Ji||a instanceof Ja))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=a._path.child(Ur.fromString(n,...o));return qy(u),new Ja(a.firestore,null,u)}}function df(a,n,...o){if(a=(0,tt.m9)(a),1===arguments.length&&(n=sa.I()),cf("doc","path",n),a instanceof wd){const u=Ur.fromString(n,...o);return Qa(u),new Ji(a,null,new sn(u))}{if(!(a instanceof Ji||a instanceof Ja))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=a._path.child(Ur.fromString(n,...o));return Qa(u),new Ji(a.firestore,a instanceof Ja?a.converter:null,new sn(u))}}function Xm(a,n){return a=(0,tt.m9)(a),n=(0,tt.m9)(n),(a instanceof Ji||a instanceof Ja)&&(n instanceof Ji||n instanceof Ja)&&a.firestore===n.firestore&&a.path===n.path&&a.converter===n.converter}function e_(a,n){return a=(0,tt.m9)(a),n=(0,tt.m9)(n),a instanceof So&&n instanceof So&&a.firestore===n.firestore&&Nu(a._query,n._query)&&a.converter===n.converter}class Zy{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Pm(this,"async_queue_retry"),this.Ea=()=>{const o=_p();o&&Ct("AsyncQueue","Visibility state changed to "+o.visibilityState),this.rr.tr()};const n=_p();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const o=_p();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const o=new st;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,be.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(o){if(!yl(o))throw o;Ct("AsyncQueue","Operation failed with retryable error: "+o)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const o=this.fa.then(()=>(this.ga=!0,n().catch(u=>{throw this.ma=u,this.ga=!1,si("INTERNAL UNHANDLED ERROR: ",function(f){let w=f.message||"";return f.stack&&(w=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),w}(u)),u}).then(u=>(this.ga=!1,u))));return this.fa=o,o}enqueueAfterDelay(n,o,u){this.Ta(),this.pa.indexOf(n)>-1&&(o=0);const f=Um.createAndSchedule(this,n,o,u,w=>this.Ra(w));return this._a.push(f),f}Ta(){this.ma&&S()}verifyOperationInProgress(){}ba(){var n=this;return(0,be.Z)(function*(){let o;do{o=n.fa,yield o}while(o!==n.fa)})()}Pa(n){for(const o of this._a)if(o.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((o,u)=>o.targetTimeMs-u.targetTimeMs);for(const o of this._a)if(o.skipDelay(),"all"!==n&&o.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const o=this._a.indexOf(n);this._a.splice(o,1)}}function dg(a){return function(n,o){if("object"!=typeof n||null===n)return!1;const u=n;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(a)}class Ky{constructor(){this._progressObserver={},this._taskCompletionResolver=new st,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,o,u){this._progressObserver={next:n,error:o,complete:u}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,o){return this._taskCompletionResolver.promise.then(n,o)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Ni extends wd{constructor(n,o){super(n,o),this.type="firestore",this._queue=new Zy,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||t_(this),this._firestoreClient.terminate()}}function as(a){return a._firestoreClient||t_(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function t_(a){var n;const o=a._freezeSettings(),u=(w=(null===(n=a._app)||void 0===n?void 0:n.options.appId)||"",new sg(a._databaseId,w,a._persistenceKey,(H=o).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,H.useFetchStreams));var w,H;a._firestoreClient=new Uy(a._credentials,a._queue,u)}function wl(a,n,o){const u=new st;return a.asyncQueue.enqueue((0,be.Z)(function*(){try{yield Qm(a,o),yield Xp(a,n),u.resolve()}catch(f){if(!("FirebaseError"===(w=f).name?w.code===ee.FAILED_PRECONDITION||w.code===ee.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&w instanceof DOMException)||22===w.code||20===w.code||11===w.code))throw f;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+f),u.reject(f)}var w})).then(()=>u.promise)}function Lc(a){if(a._initialized||a._terminated)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ma{constructor(...n){for(let o=0;o<n.length;++o)if(0===n[o].length)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ps(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class ea{constructor(n){this._byteString=n}static fromBase64String(n){try{return new ea(qn.fromBase64String(n))}catch(o){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(n){return new ea(qn.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Xa{constructor(n){this._methodName=n}}class hu{constructor(n,o){if(!isFinite(n)||n<-90||n>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(o)||o<-180||o>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=n,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return xn(this._lat,n._lat)||xn(this._long,n._long)}}const Dd=/^__.*__$/;class Cd{constructor(n,o,u){this.data=n,this.fieldMask=o,this.fieldTransforms=u}toMutation(n,o){return null!==this.fieldMask?new $s(n,this.data,this.fieldMask,o,this.fieldTransforms):new hl(n,this.data,o,this.fieldTransforms)}}class pg{constructor(n,o,u){this.data=n,this.fieldMask=o,this.fieldTransforms=u}toMutation(n,o){return new $s(n,this.data,this.fieldMask,o,this.fieldTransforms)}}function gg(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw S()}}class dh{constructor(n,o,u,f,w,M){this.settings=n,this.databaseId=o,this.N=u,this.ignoreUndefinedProperties=f,void 0===w&&this.Sa(),this.fieldTransforms=w||[],this.fieldMask=M||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new dh(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var o;const u=null===(o=this.path)||void 0===o?void 0:o.child(n),f=this.Ca({path:u,xa:!1});return f.ka(n),f}$a(n){var o;const u=null===(o=this.path)||void 0===o?void 0:o.child(n),f=this.Ca({path:u,xa:!1});return f.Sa(),f}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return bg(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(o=>n.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>n.isPrefixOf(o.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(gg(this.Da)&&Dd.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class n_{constructor(n,o,u){this.databaseId=n,this.ignoreUndefinedProperties=o,this.N=u||Uh(n)}Ba(n,o,u,f=!1){return new dh({Da:n,methodName:o,La:u,path:ps.emptyPath(),xa:!1,Ma:f},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Ju(a){const n=a._freezeSettings(),o=Uh(a._databaseId);return new n_(a._databaseId,!!n.ignoreUndefinedProperties,o)}function hh(a,n,o,u,f,w={}){const M=a.Ba(w.merge||w.mergeFields?2:0,n,o,f);yg("Data must be an object, but it was:",M,u);const H=s_(u,M);let J,me;if(w.merge)J=new ni(M.fieldMask),me=M.fieldTransforms;else if(w.mergeFields){const De=[];for(const Fe of w.mergeFields){const ct=_f(n,Fe,o);if(!M.contains(ct))throw new fe(ee.INVALID_ARGUMENT,`Field '${ct}' is specified in your field mask but missing from your input data.`);o_(De,ct)||De.push(ct)}J=new ni(De),me=M.fieldTransforms.filter(Fe=>J.covers(Fe.field))}else J=null,me=M.fieldTransforms;return new Cd(new ao(H),J,me)}class Td extends Xa{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Td}}function mg(a,n,o){return new dh({Da:3,La:n.settings.La,methodName:a._methodName,xa:o},n.databaseId,n.N,n.ignoreUndefinedProperties)}class pf extends Xa{_toFieldTransform(n){return new Rl(n.path,new Yo)}isEqual(n){return n instanceof pf}}class Xy extends Xa{constructor(n,o){super(n),this.Ua=o}_toFieldTransform(n){const o=mg(this,n,!0),u=this.Ua.map(w=>Id(w,o)),f=new dl(u);return new Rl(n.path,f)}isEqual(n){return this===n}}class r_ extends Xa{constructor(n,o){super(n),this.Ua=o}_toFieldTransform(n){const o=mg(this,n,!0),u=this.Ua.map(w=>Id(w,o)),f=new Zo(u);return new Rl(n.path,f)}isEqual(n){return this===n}}class ev extends Xa{constructor(n,o){super(n),this.qa=o}_toFieldTransform(n){const o=new Ml(n.N,eu(n.N,this.qa));return new Rl(n.path,o)}isEqual(n){return this===n}}function gf(a,n,o,u){const f=a.Ba(1,n,o);yg("Data must be an object, but it was:",f,u);const w=[],M=ao.empty();so(u,(J,me)=>{const De=vg(n,J,o);me=(0,tt.m9)(me);const Fe=f.$a(De);if(me instanceof Td)w.push(De);else{const ct=Id(me,Fe);null!=ct&&(w.push(De),M.set(De,ct))}});const H=new ni(w);return new pg(M,H,f.fieldTransforms)}function mf(a,n,o,u,f,w){const M=a.Ba(1,n,o),H=[_f(n,u,o)],J=[f];if(w.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ct=0;ct<w.length;ct+=2)H.push(_f(n,w[ct])),J.push(w[ct+1]);const me=[],De=ao.empty();for(let ct=H.length-1;ct>=0;--ct)if(!o_(me,H[ct])){const _t=H[ct];let Ot=J[ct];Ot=(0,tt.m9)(Ot);const gn=M.$a(_t);if(Ot instanceof Td)me.push(_t);else{const Zn=Id(Ot,gn);null!=Zn&&(me.push(_t),De.set(_t,Zn))}}const Fe=new ni(me);return new pg(De,Fe,M.fieldTransforms)}function i_(a,n,o,u=!1){return Id(o,a.Ba(u?4:3,n))}function Id(a,n){if(_g(a=(0,tt.m9)(a)))return yg("Unsupported field value:",n,a),s_(a,n);if(a instanceof Xa)return function(o,u){if(!gg(u.Da))throw u.Fa(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Fa(`${o._methodName}() is not currently supported inside arrays`);const f=o._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(a,n),null;if(void 0===a&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),a instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(o,u){const f=[];let w=0;for(const M of o){let H=Id(M,u.Oa(w));null==H&&(H={nullValue:"NULL_VALUE"}),f.push(H),w++}return{arrayValue:{values:f}}}(a,n)}return function(o,u){if(null===(o=(0,tt.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return eu(u.N,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const f=Pi.fromDate(o);return{timestampValue:iu(u.N,f)}}if(o instanceof Pi){const f=new Pi(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:iu(u.N,f)}}if(o instanceof hu)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ea)return{bytesValue:nd(u.N,o._byteString)};if(o instanceof Ji){const f=u.databaseId,w=o.firestore._databaseId;if(!w.isEqual(f))throw u.Fa(`Document reference is for database ${w.projectId}/${w.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:ua(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.Fa(`Unsupported field value: ${ag(o)}`)}(a,n)}function s_(a,n){const o={};return Th(a)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):so(a,(u,f)=>{const w=Id(f,n.Na(u));null!=w&&(o[u]=w)}),{mapValue:{fields:o}}}function _g(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Pi||a instanceof hu||a instanceof ea||a instanceof Ji||a instanceof Xa)}function yg(a,n,o){if(!_g(o)||"object"!=typeof(u=o)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const u=ag(o);throw n.Fa("an object"===u?a+" a custom object":a+" "+u)}var u}function _f(a,n,o){if((n=(0,tt.m9)(n))instanceof ma)return n._internalPath;if("string"==typeof n)return vg(a,n);throw bg("Field path arguments must be of type string or FieldPath.",a,!1,void 0,o)}const tv=new RegExp("[~\\*/\\[\\]]");function vg(a,n,o){if(n.search(tv)>=0)throw bg(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,o);try{return new ma(...n.split("."))._internalPath}catch(u){throw bg(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,o)}}function bg(a,n,o,u,f){const w=u&&!u.isEmpty(),M=void 0!==f;let H=`Function ${n}() called with invalid data`;o&&(H+=" (via `toFirestore()`)"),H+=". ";let J="";return(w||M)&&(J+=" (found",w&&(J+=` in field ${u}`),M&&(J+=` in document ${f}`),J+=")"),new fe(ee.INVALID_ARGUMENT,H+a+J)}function o_(a,n){return a.some(o=>o.isEqual(n))}class Sd{constructor(n,o,u,f,w){this._firestore=n,this._userDataWriter=o,this._key=u,this._document=f,this._converter=w}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new W0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const o=this._document.data.field(wg("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o)}}}class W0 extends Sd{data(){return super.data()}}function wg(a,n){return"string"==typeof n?vg(a,n):n instanceof ma?n._internalPath:n._delegate._internalPath}class Nd{constructor(n,o){this.hasPendingWrites=n,this.fromCache=o}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class fu extends Sd{constructor(n,o,u,f,w,M){super(n,o,u,f,M),this._firestore=n,this._firestoreImpl=n,this.metadata=w}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const o=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,o={}){if(this._document){const u=this._document.data.field(wg("DocumentSnapshot.get",n));if(null!==u)return this._userDataWriter.convertValue(u,o.serverTimestamps)}}}class yf extends fu{data(n={}){return super.data(n)}}class Xu{constructor(n,o,u,f){this._firestore=n,this._userDataWriter=o,this._snapshot=f,this.metadata=new Nd(f.hasPendingWrites,f.fromCache),this.query=u}get docs(){const n=[];return this.forEach(o=>n.push(o)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,o){this._snapshot.docs.forEach(u=>{n.call(o,new yf(this._firestore,this._userDataWriter,u.key,u,new Nd(this._snapshot.mutatedKeys.has(u.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const o=!!n.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let w=0;return u._snapshot.docChanges.map(M=>({type:"added",doc:new yf(u._firestore,u._userDataWriter,M.doc.key,M.doc,new Nd(u._snapshot.mutatedKeys.has(M.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:w++}))}{let w=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(M=>f||3!==M.type).map(M=>{const H=new yf(u._firestore,u._userDataWriter,M.doc.key,M.doc,new Nd(u._snapshot.mutatedKeys.has(M.doc.key),u._snapshot.fromCache),u.query.converter);let J=-1,me=-1;return 0!==M.type&&(J=w.indexOf(M.doc.key),w=w.delete(M.doc.key)),1!==M.type&&(w=w.add(M.doc),me=w.indexOf(M.doc.key)),{type:nv(M.type),doc:H,oldIndex:J,newIndex:me}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function nv(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return S()}}function vf(a,n){return a instanceof fu&&n instanceof fu?a._firestore===n._firestore&&a._key.isEqual(n._key)&&(null===a._document?null===n._document:a._document.isEqual(n._document))&&a._converter===n._converter:a instanceof Xu&&n instanceof Xu&&a._firestore===n._firestore&&e_(a.query,n.query)&&a.metadata.isEqual(n.metadata)&&a._snapshot.isEqual(n._snapshot)}function bf(a){if(ul(a)&&0===a.explicitOrderBy.length)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fh{}function Vc(a,...n){for(const o of n)a=o._apply(a);return a}class z0 extends fh{constructor(n,o,u){super(),this.Ka=n,this.ja=o,this.Qa=u,this.type="where"}_apply(n){const o=Ju(n.firestore),u=function(f,w,M,H,J,me,De){let Fe;if(J.isKeyField()){if("array-contains"===me||"array-contains-any"===me)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${me}' queries on FieldPath.documentId().`);if("in"===me||"not-in"===me){d_(De,me);const _t=[];for(const Ot of De)_t.push(c_(H,f,Ot));Fe={arrayValue:{values:_t}}}else Fe=c_(H,f,De)}else"in"!==me&&"not-in"!==me&&"array-contains-any"!==me||d_(De,me),Fe=i_(M,"where",De,"in"===me||"not-in"===me);const ct=js.create(J,me,Fe);return function(_t,Ot){if(Ot.v()){const Zn=lo(_t);if(null!==Zn&&!Zn.isEqual(Ot.field))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Zn.toString()}' and '${Ot.field.toString()}'`);const ls=Iu(_t);null!==ls&&h_(0,Ot.field,ls)}const gn=function(Zn,ls){for(const Uo of Zn.filters)if(ls.indexOf(Uo.op)>=0)return Uo.op;return null}(_t,function(Zn){switch(Zn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ot.op));if(null!==gn)throw new fe(ee.INVALID_ARGUMENT,gn===Ot.op?`Invalid query. You cannot use more than one '${Ot.op.toString()}' filter.`:`Invalid query. You cannot use '${Ot.op.toString()}' filters with '${gn.toString()}' filters.`)}(f,ct),ct}(n._query,0,o,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new So(n.firestore,n.converter,function(f,w){const M=f.filters.concat([w]);return new Zs(f.path,f.collectionGroup,f.explicitOrderBy.slice(),M,f.limit,f.limitType,f.startAt,f.endAt)}(n._query,u))}}class rv extends fh{constructor(n,o){super(),this.Ka=n,this.Wa=o,this.type="orderBy"}_apply(n){const o=function(u,f,w){if(null!==u.startAt)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const M=new Sa(f,w);return function(H,J){if(null===Iu(H)){const me=lo(H);null!==me&&h_(0,me,J.field)}}(u,M),M}(n._query,this.Ka,this.Wa);return new So(n.firestore,n.converter,function(u,f){const w=u.explicitOrderBy.concat([f]);return new Zs(u.path,u.collectionGroup,w,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))}}class iv extends fh{constructor(n,o,u){super(),this.type=n,this.Ga=o,this.za=u}_apply(n){return new So(n.firestore,n.converter,Su(n._query,this.Ga,this.za))}}class l_ extends fh{constructor(n,o,u){super(),this.type=n,this.Ha=o,this.Ja=u}_apply(n){const o=Dg(n,this.type,this.Ha,this.Ja);return new So(n.firestore,n.converter,(f=o,new Zs((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}class Eg extends fh{constructor(n,o,u){super(),this.type=n,this.Ha=o,this.Ja=u}_apply(n){const o=Dg(n,this.type,this.Ha,this.Ja);return new So(n.firestore,n.converter,(f=o,new Zs((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function Dg(a,n,o,u){if(o[0]=(0,tt.m9)(o[0]),o[0]instanceof Sd)return function(f,w,M,H,J){if(!H)throw new fe(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${M}().`);const me=[];for(const De of ja(f))if(De.field.isKeyField())me.push(aa(w,H.key));else{const Fe=H.data.field(De.field);if(Gc(Fe))throw new fe(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+De.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Fe){const ct=De.field.canonicalString();throw new fe(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ct}' (used as the orderBy) does not exist.`)}me.push(Fe)}return new Ia(me,J)}(a._query,a.firestore._databaseId,n,o[0]._document,u);{const f=Ju(a.firestore);return function(w,M,H,J,me,De){const Fe=w.explicitOrderBy;if(me.length>Fe.length)throw new fe(ee.INVALID_ARGUMENT,`Too many arguments provided to ${J}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ct=[];for(let _t=0;_t<me.length;_t++){const Ot=me[_t];if(Fe[_t].field.isKeyField()){if("string"!=typeof Ot)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${J}(), but got a ${typeof Ot}`);if(!cl(w)&&-1!==Ot.indexOf("/"))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${J}() must be a plain document ID, but '${Ot}' contains a slash.`);const gn=w.path.child(Ur.fromString(Ot));if(!sn.isDocumentKey(gn))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${J}() must result in a valid document path, but '${gn}' is not because it contains an odd number of segments.`);const Zn=new sn(gn);ct.push(aa(M,Zn))}else{const gn=i_(H,J,Ot);ct.push(gn)}}return new Ia(ct,De)}(a._query,a.firestore._databaseId,f,n,o,u)}}function c_(a,n,o){if("string"==typeof(o=(0,tt.m9)(o))){if(""===o)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!cl(n)&&-1!==o.indexOf("/"))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const u=n.path.child(Ur.fromString(o));if(!sn.isDocumentKey(u))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${u}' is not because it has an odd number of segments (${u.length}).`);return aa(a,new sn(u))}if(o instanceof Ji)return aa(a,o._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${ag(o)}.`)}function d_(a,n){if(!Array.isArray(a)||0===a.length)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(a.length>10)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function h_(a,n,o){if(!o.isEqual(n))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class Cg{convertValue(n,o="none"){switch(ri(n)){case 0:return null;case 1:return n.booleanValue;case 2:return $i(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,o);case 5:return n.stringValue;case 6:return this.convertBytes(il(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,o);case 10:return this.convertObject(n.mapValue,o);default:throw S()}}convertObject(n,o){const u={};return so(n.fields,(f,w)=>{u[f]=this.convertValue(w,o)}),u}convertGeoPoint(n){return new hu($i(n.latitude),$i(n.longitude))}convertArray(n,o){return(n.values||[]).map(u=>this.convertValue(u,o))}convertServerTimestamp(n,o){switch(o){case"previous":const u=Zl(n);return null==u?null:this.convertValue(u,o);case"estimate":return this.convertTimestamp(oc(n));default:return null}}convertTimestamp(n){const o=oa(n);return new Pi(o.seconds,o.nanos)}convertDocumentKey(n,o){const u=Ur.fromString(n);V(cr(u));const f=new bd(u.get(1),u.get(3)),w=new sn(u.popFirst(5));return f.isEqual(o)||si(`Document ${w} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),w}}function Ef(a,n,o){let u;return u=a?o&&(o.merge||o.mergeFields)?a.toFirestore(n,o):a.toFirestore(n):n,u}class f_ extends Cg{constructor(n){super(),this.firestore=n}convertBytes(n){return new ea(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new Ji(this.firestore,null,o)}}class p_{constructor(n,o){this._firestore=n,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=Ju(n)}set(n,o,u){this._verifyNotCommitted();const f=pu(n,this._firestore),w=Ef(f.converter,o,u),M=hh(this._dataReader,"WriteBatch.set",f._key,w,null!==f.converter,u);return this._mutations.push(M.toMutation(f._key,oi.none())),this}update(n,o,u,...f){this._verifyNotCommitted();const w=pu(n,this._firestore);let M;return M="string"==typeof(o=(0,tt.m9)(o))||o instanceof ma?mf(this._dataReader,"WriteBatch.update",w._key,o,u,f):gf(this._dataReader,"WriteBatch.update",w._key,o),this._mutations.push(M.toMutation(w._key,oi.exists(!0))),this}delete(n){this._verifyNotCommitted();const o=pu(n,this._firestore);return this._mutations=this._mutations.concat(new Pl(o._key,oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pu(a,n){if((a=(0,tt.m9)(a)).firestore!==n)throw new fe(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class gu extends Cg{constructor(n){super(),this.firestore=n}convertBytes(n){return new ea(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new Ji(this.firestore,null,o)}}function m_(a,n,o){a=Kr(a,Ji);const u=Kr(a.firestore,Ni),f=Ef(a.converter,n,o);return Bc(u,[hh(Ju(u),"setDoc",a._key,f,null!==a.converter,o).toMutation(a._key,oi.none())])}function Df(a,n,o,...u){a=Kr(a,Ji);const f=Kr(a.firestore,Ni),w=Ju(f);let M;return M="string"==typeof(n=(0,tt.m9)(n))||n instanceof ma?mf(w,"updateDoc",a._key,n,o,u):gf(w,"updateDoc",a._key,n),Bc(f,[M.toMutation(a._key,oi.exists(!0))])}function Cf(a,...n){var o,u,f;a=(0,tt.m9)(a);let w={includeMetadataChanges:!1},M=0;"object"!=typeof n[M]||dg(n[M])||(w=n[M],M++);const H={includeMetadataChanges:w.includeMetadataChanges};if(dg(n[M])){const Fe=n[M];n[M]=null===(o=Fe.next)||void 0===o?void 0:o.bind(Fe),n[M+1]=null===(u=Fe.error)||void 0===u?void 0:u.bind(Fe),n[M+2]=null===(f=Fe.complete)||void 0===f?void 0:f.bind(Fe)}let J,me,De;if(a instanceof Ji)me=Kr(a.firestore,Ni),De=Ma(a._key.path),J={next:Fe=>{n[M]&&n[M](__(me,a,Fe))},error:n[M+1],complete:n[M+2]};else{const Fe=Kr(a,So);me=Kr(Fe.firestore,Ni),De=Fe._query;const ct=new gu(me);J={next:_t=>{n[M]&&n[M](new Xu(me,ct,Fe,_t))},error:n[M+1],complete:n[M+2]},bf(a._query)}return function(Fe,ct,_t,Ot){const gn=new Ka(Ot),Zn=new Op(ct,gn,_t);return Fe.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Ap(yield kc(Fe),Zn)})),()=>{gn.Xo(),Fe.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Rp(yield kc(Fe),Zn)}))}}(as(me),De,H,J)}function Bc(a,n){return function(o,u){const f=new st;return o.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(a,n,o){return Vp.apply(this,arguments)}(yield uf(o),u,f)})),f.promise}(as(a),n)}function __(a,n,o){const u=o.docs.get(n._key),f=new gu(a);return new fu(a,f,n._key,u,new Nd(o.hasPendingWrites,o.fromCache),n.converter)}class cv extends class{constructor(n,o){this._firestore=n,this._transaction=o,this._dataReader=Ju(n)}get(n){const o=pu(n,this._firestore),u=new f_(this._firestore);return this._transaction.lookup([o._key]).then(f=>{if(!f||1!==f.length)return S();const w=f[0];if(w.isFoundDocument())return new Sd(this._firestore,u,w.key,w,o.converter);if(w.isNoDocument())return new Sd(this._firestore,u,o._key,null,o.converter);throw S()})}set(n,o,u){const f=pu(n,this._firestore),w=Ef(f.converter,o,u),M=hh(this._dataReader,"Transaction.set",f._key,w,null!==f.converter,u);return this._transaction.set(f._key,M),this}update(n,o,u,...f){const w=pu(n,this._firestore);let M;return M="string"==typeof(o=(0,tt.m9)(o))||o instanceof ma?mf(this._dataReader,"Transaction.update",w._key,o,u,f):gf(this._dataReader,"Transaction.update",w._key,o),this._transaction.update(w._key,M),this}delete(n){const o=pu(n,this._firestore);return this._transaction.delete(o._key),this}}{constructor(n,o){super(n,o),this._firestore=n}get(n){const o=pu(n,this._firestore),u=new gu(this._firestore);return super.get(n).then(f=>new fu(this._firestore,u,o._key,f._document,new Nd(!1,!1),o.converter))}}function Tf(a,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new fe("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return n}function xg(){if("undefined"==typeof Uint8Array)throw new fe("unimplemented","Uint8Arrays are not available in this environment.")}function If(){if("undefined"==typeof atob)throw new fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(a){Bs=a})($e.SDK_VERSION),(0,$e._registerComponent)(new ht.wA("firestore",(a,{options:n})=>{const o=a.getProvider("app").getImmediate(),u=new Ni(o,new ei(a.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),u._setSettings(n),u},"PUBLIC")),(0,$e.registerVersion)("@firebase/firestore","3.0.2",void 0);class Md{constructor(n){this._delegate=n}static fromBase64String(n){return If(),new Md(ea.fromBase64String(n))}static fromUint8Array(n){return xg(),new Md(ea.fromUint8Array(n))}toBase64(){return If(),this._delegate.toBase64()}toUint8Array(){return xg(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Og(a){return function(a,n){if("object"!=typeof a||null===a)return!1;const o=a;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(a)}class D_{enableIndexedDbPersistence(n,o){return function(a,n){Lc(a=Kr(a,Ni));const o=as(a),u=a._freezeSettings(),f=new lh;return wl(o,f,new Kp(f,u.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:o})}enableMultiTabIndexedDbPersistence(n){return function(a){Lc(a=Kr(a,Ni));const n=as(a),o=a._freezeSettings(),u=new lh;return wl(n,u,new Qi(u,o.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(a){if(a._initialized&&!a._terminated)throw new fe(ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new st;return a._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(o=(0,be.Z)(function*(u){if(!ys.bt())return Promise.resolve();const f=u+"main";yield ys.delete(f)}),function(u){return o.apply(this,arguments)})(Rh(a._databaseId,a._persistenceKey)),n.resolve()}catch(o){n.reject(o)}var o})),n.promise}(n._delegate)}}class Sf{constructor(n,o,u){this._delegate=o,this._persistenceProvider=u,this.INTERNAL={delete:()=>this.terminate()},n instanceof bd||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const o=this._delegate._getSettings();!n.merge&&o.host!==n.host&&P("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},o),n)).merge,this._delegate._setSettings(n)}useEmulator(n,o,u={}){!function(a,n,o,u={}){var f;const w=(a=Kr(a,wd))._getSettings();if("firestore.googleapis.com"!==w.host&&w.host!==n&&P("Host has been set in both settings() and useEmulator(), emulator host will be used"),a._setSettings(Object.assign(Object.assign({},w),{host:`${n}:${o}`,ssl:!1})),u.mockUserToken){let M,H;if("string"==typeof u.mockUserToken)M=u.mockUserToken,H=Is.MOCK_USER;else{M=(0,tt.Sg)(u.mockUserToken,null===(f=a._app)||void 0===f?void 0:f.options.projectId);const J=u.mockUserToken.sub||u.mockUserToken.user_id;if(!J)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");H=new Is(J)}a._credentials=new cn(new $t(M,H))}}(this._delegate,n,o,u)}enableNetwork(){return function(a){return function(a){return a.asyncQueue.enqueue((0,be.Z)(function*(){const n=yield af(a),o=yield tg(a);return n.setNetworkEnabled(!0),function(u){const f=Z(u);return f.Kr.delete(0),md(f)}(o)}))}(as(a=Kr(a,Ni)))}(this._delegate)}disableNetwork(){return function(a){return function(a){return a.asyncQueue.enqueue((0,be.Z)(function*(){const n=yield af(a),o=yield tg(a);return n.setNetworkEnabled(!1),(u=(0,be.Z)(function*(f){const w=Z(f);w.Kr.add(0),yield Mc(w),w.Wr.set("Offline")}),function(f){return u.apply(this,arguments)})(o);var u}))}(as(a=Kr(a,Ni)))}(this._delegate)}enablePersistence(n){let o=!1,u=!1;return n&&(o=!!n.synchronizeTabs,u=!!n.experimentalForceOwningTab,zy("synchronizeTabs",o,"experimentalForceOwningTab",u)),o?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,u)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(a){return function(n){const o=new st;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(a,n){return Kh.apply(this,arguments)}(yield uf(n),o)})),o.promise}(as(a=Kr(a,Ni)))}(this._delegate)}onSnapshotsInSync(n){return function(a,n){return function(a,n){const o=new Ka(n);return a.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return u=yield kc(a),f=o,Z(u).Zr.add(f),void f.next();var u,f})),()=>{o.Xo(),a.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return u=yield kc(a),f=o,void Z(u).Zr.delete(f);var u,f}))}}(as(a=Kr(a,Ni)),dg(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Xi(this,Jm(this._delegate,n))}catch(o){throw Bo(o,"collection()","Firestore.collection()")}}doc(n){try{return new Ra(this,df(this._delegate,n))}catch(o){throw Bo(o,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new ta(this,function(a,n){if(a=Kr(a,wd),cf("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new So(a,null,(o=n,new Zs(Ur.emptyPath(),o)));var o}(this._delegate,n))}catch(o){throw Bo(o,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(a,n){return function(a,n){const o=new st;return a.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const u=yield(f=a,of(f).then(w=>w.datastore));var f;new j0(a.asyncQueue,u,n,o).run()})),o.promise}(as(a),o=>n(new cv(a,o)))}(this._delegate,o=>n(new Pg(this,o)))}batch(){return as(this._delegate),new kg(new p_(this._delegate,n=>Bc(this._delegate,n)))}loadBundle(n){return function(a,n){const o=as(a=Kr(a,Ni)),u=new Ky;return function(a,n,o,u){const f=function(w,M){let H;return H="string"==typeof w?(new TextEncoder).encode(w):w,J=function(J,me){if(J instanceof Uint8Array)return By(J,void 0);if(J instanceof ArrayBuffer)return By(new Uint8Array(J),void 0);if(J instanceof ReadableStream)return J.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(H),new Qp(J,M);var J}(o,Uh(n));a.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function(a,n,o){const u=Z(a);var f;(f=(0,be.Z)(function*(w,M,H){try{const J=yield M.getMetadata();if(yield function(ct,_t){const Ot=Z(ct),gn=ms(_t.createTime);return Ot.persistence.runTransaction("hasNewerBundle","readonly",Zn=>Ot.Je.getBundleMetadata(Zn,_t.id)).then(Zn=>!!Zn&&Zn.createTime.compareTo(gn)>=0)}(w.localStore,J))return yield M.close(),void H._completeWith((ct=J,{taskState:"Success",documentsLoaded:ct.totalDocuments,bytesLoaded:ct.totalBytes,totalDocuments:ct.totalDocuments,totalBytes:ct.totalBytes}));H._updateProgress(bl(J));const me=new Ty(J,w.localStore,M.N);let De=yield M.Qo();for(;De;){const ct=yield me.fo(De);ct&&H._updateProgress(ct),De=yield M.Qo()}const Fe=yield me.complete();yield ga(w,Fe.Tn,void 0),yield function(ct,_t){const Ot=Z(ct);return Ot.persistence.runTransaction("Save bundle","readwrite",gn=>Ot.Je.saveBundleMetadata(gn,_t))}(w.localStore,J),H._completeWith(Fe.progress)}catch(J){P("SyncEngine",`Loading bundle failed with ${J}`),H._failWith(J)}var ct}),function(w,M,H){return f.apply(this,arguments)})(u,n,o).then(()=>{u.sharedClientState.notifyBundleLoaded()})}(yield uf(a),f,u)}))}(o,a._databaseId,n,u),u}(this._delegate,n)}namedQuery(n){return function(a,n){return function(a,n){return a.asyncQueue.enqueue((0,be.Z)(function*(){return function(o,u){const f=Z(o);return f.persistence.runTransaction("Get named query","readonly",w=>f.Je.getNamedQuery(w,u))}(yield lf(a),n)}))}(as(a=Kr(a,Ni)),n).then(o=>o?new So(a,null,o.query):null)}(this._delegate,n).then(o=>o?new ta(this,o):null)}}class Uc extends Cg{constructor(n){super(),this.firestore=n}convertBytes(n){return new Md(new ea(n))}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return Ra.forKey(o,this.firestore,null)}}class Pg{constructor(n,o){this._firestore=n,this._delegate=o,this._userDataWriter=new Uc(n)}get(n){const o=tc(n);return this._delegate.get(o).then(u=>new Nf(this._firestore,new fu(this._firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,o.converter)))}set(n,o,u){const f=tc(n);return u?(Tf("Transaction.set",u),this._delegate.set(f,o,u)):this._delegate.set(f,o),this}update(n,o,u,...f){const w=tc(n);return 2===arguments.length?this._delegate.update(w,o):this._delegate.update(w,o,u,...f),this}delete(n){const o=tc(n);return this._delegate.delete(o),this}}class kg{constructor(n){this._delegate=n}set(n,o,u){const f=tc(n);return u?(Tf("WriteBatch.set",u),this._delegate.set(f,o,u)):this._delegate.set(f,o),this}update(n,o,u,...f){const w=tc(n);return 2===arguments.length?this._delegate.update(w,o):this._delegate.update(w,o,u,...f),this}delete(n){const o=tc(n);return this._delegate.delete(o),this}commit(){return this._delegate.commit()}}class ec{constructor(n,o,u){this._firestore=n,this._userDataWriter=o,this._delegate=u}fromFirestore(n,o){const u=new yf(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new gh(this._firestore,u),null!=o?o:{})}toFirestore(n,o){return o?this._delegate.toFirestore(n,o):this._delegate.toFirestore(n)}static getInstance(n,o){const u=ec.INSTANCES;let f=u.get(n);f||(f=new WeakMap,u.set(n,f));let w=f.get(o);return w||(w=new ec(n,new Uc(n),o),f.set(o,w)),w}}ec.INSTANCES=new WeakMap;class Ra{constructor(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new Uc(n)}static forPath(n,o,u){if(n.length%2!=0)throw new fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Ra(o,new Ji(o._delegate,u,new sn(n)))}static forKey(n,o,u){return new Ra(o,new Ji(o._delegate,u,n))}get id(){return this._delegate.id}get parent(){return new Xi(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Xi(this.firestore,Jm(this._delegate,n))}catch(o){throw Bo(o,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,tt.m9)(n))instanceof Ji&&Xm(this._delegate,n)}set(n,o){o=Tf("DocumentReference.set",o);try{return o?m_(this._delegate,n,o):m_(this._delegate,n)}catch(u){throw Bo(u,"setDoc()","DocumentReference.set()")}}update(n,o,...u){try{return 1===arguments.length?Df(this._delegate,n):Df(this._delegate,n,o,...u)}catch(f){throw Bo(f,"updateDoc()","DocumentReference.update()")}}delete(){return function(a){return Bc(Kr(a.firestore,Ni),[new Pl(a._key,oi.none())])}(this._delegate)}onSnapshot(...n){const o=Fg(n),u=Lg(n,f=>new Nf(this.firestore,new fu(this.firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,this._delegate.converter)));return Cf(this._delegate,o,u)}get(n){let o;return o="cache"===(null==n?void 0:n.source)?function(a){a=Kr(a,Ji);const n=Kr(a.firestore,Ni),o=as(n),u=new gu(n);return function(a,n){const o=new st;return a.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(u=(0,be.Z)(function*(f,w,M){try{const H=yield function(J,me){const De=Z(J);return De.persistence.runTransaction("read document","readonly",Fe=>De.Qn.An(Fe,me))}(f,w);H.isFoundDocument()?M.resolve(H):H.isNoDocument()?M.resolve(null):M.reject(new fe(ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(H){const J=nh(H,`Failed to get document '${w} from cache`);M.reject(J)}}),function(f,w,M){return u.apply(this,arguments)})(yield lf(a),n,o);var u})),o.promise}(o,a._key).then(f=>new fu(n,u,a._key,f,new Nd(null!==f&&f.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(a){a=Kr(a,Ji);const n=Kr(a.firestore,Ni);return rg(as(n),a._key,{source:"server"}).then(o=>__(n,a,o))}(this._delegate):function(a){a=Kr(a,Ji);const n=Kr(a.firestore,Ni);return rg(as(n),a._key).then(o=>__(n,a,o))}(this._delegate),o.then(u=>new Nf(this.firestore,new fu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)))}withConverter(n){return new Ra(this.firestore,this._delegate.withConverter(n?ec.getInstance(this.firestore,n):null))}}function Bo(a,n,o){return a.message=a.message.replace(n,o),a}function Fg(a){for(const n of a)if("object"==typeof n&&!Og(n))return n;return{}}function Lg(a,n){var o,u;let f;return f=Og(a[0])?a[0]:Og(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:w=>{f.next&&f.next(n(w))},error:null===(o=f.error)||void 0===o?void 0:o.bind(f),complete:null===(u=f.complete)||void 0===u?void 0:u.bind(f)}}class Nf{constructor(n,o){this._firestore=n,this._delegate=o}get ref(){return new Ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,o){return this._delegate.get(n,o)}isEqual(n){return vf(this._delegate,n._delegate)}}class gh extends Nf{data(n){const o=this._delegate.data(n);return function(a,n){a||S()}(void 0!==o),o}}class ta{constructor(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new Uc(n)}where(n,o,u){try{return new ta(this.firestore,Vc(this._delegate,function(a,n,o){const u=n,f=wg("where",a);return new z0(f,u,o)}(n,o,u)))}catch(f){throw Bo(f,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,o){try{return new ta(this.firestore,Vc(this._delegate,function(a,n="asc"){const o=n,u=wg("orderBy",a);return new rv(u,o)}(n,o)))}catch(u){throw Bo(u,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new ta(this.firestore,Vc(this._delegate,function(a){return lg("limit",a),new iv("limit",a,"F")}(n)))}catch(o){throw Bo(o,"limit()","Query.limit()")}}limitToLast(n){try{return new ta(this.firestore,Vc(this._delegate,function(a){return lg("limitToLast",a),new iv("limitToLast",a,"L")}(n)))}catch(o){throw Bo(o,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new ta(this.firestore,Vc(this._delegate,function(...a){return new l_("startAt",a,!0)}(...n)))}catch(o){throw Bo(o,"startAt()","Query.startAt()")}}startAfter(...n){try{return new ta(this.firestore,Vc(this._delegate,function(...a){return new l_("startAfter",a,!1)}(...n)))}catch(o){throw Bo(o,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new ta(this.firestore,Vc(this._delegate,function(...a){return new Eg("endBefore",a,!0)}(...n)))}catch(o){throw Bo(o,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new ta(this.firestore,Vc(this._delegate,function(...a){return new Eg("endAt",a,!1)}(...n)))}catch(o){throw Bo(o,"endAt()","Query.endAt()")}}isEqual(n){return e_(this._delegate,n._delegate)}get(n){let o;return o="cache"===(null==n?void 0:n.source)?function(a){a=Kr(a,So);const n=Kr(a.firestore,Ni),o=as(n),u=new gu(n);return function(a,n){const o=new st;return a.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(u=(0,be.Z)(function*(f,w,M){try{const H=yield xh(f,w,!0),J=new Wm(w,H.Gn),me=J.Io(H.documents),De=J.applyChanges(me,!1);M.resolve(De.snapshot)}catch(H){const J=nh(H,`Failed to execute query '${w} against cache`);M.reject(J)}}),function(f,w,M){return u.apply(this,arguments)})(yield lf(a),n,o);var u})),o.promise}(o,a._query).then(f=>new Xu(n,u,a,f))}(this._delegate):"server"===(null==n?void 0:n.source)?function(a){a=Kr(a,So);const n=Kr(a.firestore,Ni),o=as(n),u=new gu(n);return ig(o,a._query,{source:"server"}).then(f=>new Xu(n,u,a,f))}(this._delegate):function(a){a=Kr(a,So);const n=Kr(a.firestore,Ni),o=as(n),u=new gu(n);return bf(a._query),ig(o,a._query).then(f=>new Xu(n,u,a,f))}(this._delegate),o.then(u=>new Vg(this.firestore,new Xu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)))}onSnapshot(...n){const o=Fg(n),u=Lg(n,f=>new Vg(this.firestore,new Xu(this.firestore._delegate,this._userDataWriter,this._delegate,f._snapshot)));return Cf(this._delegate,o,u)}withConverter(n){return new ta(this.firestore,this._delegate.withConverter(n?ec.getInstance(this.firestore,n):null))}}class T_{constructor(n,o){this._firestore=n,this._delegate=o}get type(){return this._delegate.type}get doc(){return new gh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Vg{constructor(n,o){this._firestore=n,this._delegate=o}get query(){return new ta(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new gh(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(o=>new T_(this._firestore,o))}forEach(n,o){this._delegate.forEach(u=>{n.call(o,new gh(this._firestore,u))})}isEqual(n){return vf(this._delegate,n._delegate)}}class Xi extends ta{constructor(n,o){super(n,o),this.firestore=n,this._delegate=o}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Ra(this.firestore,n):null}doc(n){try{return new Ra(this.firestore,void 0===n?df(this._delegate):df(this._delegate,n))}catch(o){throw Bo(o,"doc()","CollectionReference.doc()")}}add(n){return function(a,n){const o=Kr(a.firestore,Ni),u=df(a),f=Ef(a.converter,n);return Bc(o,[hh(Ju(a.firestore),"addDoc",u._key,f,null!==a.converter,{}).toMutation(u._key,oi.exists(!1))]).then(()=>u)}(this._delegate,n).then(o=>new Ra(this.firestore,o))}isEqual(n){return Xm(this._delegate,n._delegate)}withConverter(n){return new Xi(this.firestore,this._delegate.withConverter(n?ec.getInstance(this.firestore,n):null))}}function tc(a){return Kr(a,Ji)}class Bg{constructor(...n){this._delegate=new ma(...n)}static documentId(){return new Bg(ps.keyField().canonicalString())}isEqual(n){return(n=(0,tt.m9)(n))instanceof ma&&this._delegate._internalPath.isEqual(n._internalPath)}}class jc{constructor(n){this._delegate=n}static serverTimestamp(){const n=new pf("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new jc(n)}static delete(){const n=new Td("deleteField");return n._methodName="FieldValue.delete",new jc(n)}static arrayUnion(...n){const o=function(...a){return new Xy("arrayUnion",a)}(...n);return o._methodName="FieldValue.arrayUnion",new jc(o)}static arrayRemove(...n){const o=function(...a){return new r_("arrayRemove",a)}(...n);return o._methodName="FieldValue.arrayRemove",new jc(o)}static increment(n){const o=function(a){return new ev("increment",a)}(n);return o._methodName="FieldValue.increment",new jc(o)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const I_={Firestore:Sf,GeoPoint:hu,Timestamp:Pi,Blob:Md,Transaction:Pg,WriteBatch:kg,DocumentReference:Ra,DocumentSnapshot:Nf,Query:ta,QueryDocumentSnapshot:gh,QuerySnapshot:Vg,CollectionReference:Xi,FieldPath:Bg,FieldValue:jc,setLogLevel:function(a){!function(a){Oo.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};!function(a){(function(a,n){a.INTERNAL.registerComponent(new ht.wA("firestore-compat",o=>((n,o)=>new Sf(n,o,new D_))(o.getProvider("app-compat").getImmediate(),o.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},I_)))})(a),a.registerVersion("@firebase/firestore-compat","0.1.2")}(Be.Z);var mu=W(3820),Rd=W(7841);function N_(a,n){return function(a,n=c.z){return new le.y(o=>{let u;return null!=n?n.schedule(()=>{u=a.onSnapshot({includeMetadataChanges:!0},o)}):u=a.onSnapshot({includeMetadataChanges:!0},o),()=>{null!=u&&u()}})}(a,n)}function Ug(a,n){return N_(a,n).pipe((0,se.U)(o=>({payload:o,type:"query"})))}function mh(a,n){return Ug(a,n).pipe((0,ge.O)(void 0),(0,he.G)(),(0,se.U)(([o,u])=>{const f=u.payload.docChanges(),w=f.map(M=>({type:M.type,payload:M}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((M,H)=>{const J=f.find(De=>De.doc.ref.isEqual(M.ref)),me=null==o?void 0:o.payload.docs.find(De=>De.ref.isEqual(M.ref));J&&JSON.stringify(J.doc.metadata)===JSON.stringify(M.metadata)||!J&&me&&JSON.stringify(me.metadata)===JSON.stringify(M.metadata)||w.push({type:"modified",payload:{oldIndex:H,newIndex:H,type:"modified",doc:M}})}),w}))}function gv(a,n,o){return mh(a,o).pipe((0,re.R)((u,f)=>function(a,n,o){return n.forEach(u=>{o.indexOf(u.type)>-1&&(a=function(a,n){switch(n.type){case"added":if(!a[n.newIndex]||!a[n.newIndex].doc.ref.isEqual(n.doc.ref))return _h(a,n.newIndex,0,n);break;case"modified":if(null==a[n.oldIndex]||a[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const o=a.slice();return o.splice(n.oldIndex,1),o.splice(n.newIndex,0,n),o}return _h(a,n.newIndex,1,n)}break;case"removed":if(a[n.oldIndex]&&a[n.oldIndex].doc.ref.isEqual(n.doc.ref))return _h(a,n.oldIndex,1)}return a}(a,u))}),a}(u,f.map(w=>w.payload),n),[]),(0,X.x)(),(0,se.U)(u=>u.map(f=>({type:f.type,payload:f}))))}function _h(a,n,o,...u){const f=a.slice();return f.splice(n,o,...u),f}function M_(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class $g{constructor(n,o,u){this.ref=n,this.query=o,this.afs=u}stateChanges(n){let o=mh(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(o=o.pipe((0,se.U)(u=>u.filter(f=>n.indexOf(f.type)>-1)))),o.pipe((0,ge.O)(void 0),(0,he.G)(),(0,ie.h)(([u,f])=>f.length>0||!u),(0,se.U)(([u,f])=>f),ue.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,re.R)((o,u)=>[...o,...u],[]))}snapshotChanges(n){const o=M_(n);return gv(this.query,o,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(n={}){return Ug(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(o=>o.payload.docs.map(u=>n.idField?Object.assign(Object.assign({},u.data()),{[n.idField]:u.id}):u.data())),ue.iC)}get(n){return(0,Ce.D)(this.query.get(n)).pipe(ue.iC)}add(n){return this.ref.add(n)}doc(n){return new Dl(this.ref.doc(n),this.afs)}}class Dl{constructor(n,o){this.ref=n,this.afs=o}set(n,o){return this.ref.set(n,o)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,o){const u=this.ref.collection(n),{ref:f,query:w}=x_(u,o);return new $g(f,w,this.afs)}snapshotChanges(){return function(a,n){return N_(a,n).pipe((0,ge.O)(void 0),(0,he.G)(),(0,se.U)(([o,u])=>u.exists?(null==o?void 0:o.exists)?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,se.U)(({payload:o})=>n.idField?Object.assign(Object.assign({},o.data()),{[n.idField]:o.id}):o.data()))}get(n){return(0,Ce.D)(this.ref.get(n)).pipe(ue.iC)}}class Cl{constructor(n,o){this.query=n,this.afs=o}stateChanges(n){return n&&0!==n.length?mh(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(o=>o.filter(u=>n.indexOf(u.type)>-1)),(0,ie.h)(o=>o.length>0),ue.iC):mh(this.query,this.afs.schedulers.outsideAngular).pipe(ue.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,re.R)((o,u)=>[...o,...u],[]))}snapshotChanges(n){const o=M_(n);return gv(this.query,o,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(n={}){return Ug(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(u=>u.payload.docs.map(f=>n.idField?Object.assign({[n.idField]:f.id},f.data()):f.data())),ue.iC)}get(n){return(0,Ce.D)(this.query.get(n)).pipe(ue.iC)}}const el=new I.OlP("angularfire2.enableFirestorePersistence"),Hg=new I.OlP("angularfire2.firestore.persistenceSettings"),R_=new I.OlP("angularfire2.firestore.settings"),mv=new I.OlP("angularfire2.firestore.use-emulator");function x_(a,n=(o=>o)){return{query:n(a),ref:a}}let O_=(()=>{class a{constructor(o,u,f,w,M,H,J,me,De,Fe,ct,_t,Ot,gn,Zn,ls){this.schedulers=J;const Uo=(0,ye.on)(o,H,u),jl=De;Fe&&(0,mu.nw)(Uo,H,ct,Ot,gn,Zn,_t,ls),[this.firestore,this.persistenceEnabled$]=(0,ue.cc)(`${Uo.name}.firestore`,"AngularFirestore",Uo.name,()=>{const tl=H.runOutsideAngular(()=>Uo.firestore());if(w&&tl.settings(w),jl&&tl.useEmulator(...jl),f&&!(0,Me.PM)(M)){const yh=()=>{try{return(0,Ce.D)(tl.enablePersistence(me||void 0).then(()=>!0,()=>!1))}catch(Af){return"undefined"!=typeof console&&console.warn(Af),(0,Te.of)(!1)}};return[tl,H.runOutsideAngular(yh)]}return[tl,(0,Te.of)(!1)]},[w,jl,f])}collection(o,u){let f;f="string"==typeof o?this.firestore.collection(o):o;const{ref:w,query:M}=x_(f,u),H=this.schedulers.ngZone.run(()=>w);return new $g(H,M,this)}collectionGroup(o,u){const f=u||(M=>M),w=this.firestore.collectionGroup(o);return new Cl(f(w),this)}doc(o){let u;u="string"==typeof o?this.firestore.doc(o):o;const f=this.schedulers.ngZone.run(()=>u);return new Dl(f,this)}createId(){return this.firestore.collection("_").doc().id}}return a.\u0275fac=function(o){return new(o||a)(I.LFG(ye.Dh),I.LFG(ye.xv,8),I.LFG(el,8),I.LFG(R_,8),I.LFG(I.Lbi),I.LFG(I.R0b),I.LFG(ue.HU),I.LFG(Hg,8),I.LFG(mv,8),I.LFG(mu.zQ,8),I.LFG(mu.Qv,8),I.LFG(mu.L6,8),I.LFG(mu._Q,8),I.LFG(mu.rT,8),I.LFG(mu.lh,8),I.LFG(mu.f7,8))},a.\u0275prov=I.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),_v=(()=>{class a{constructor(){Rd.Z.registerVersion("angularfire",ue.q4.full,"fst-compat")}static enablePersistence(o){return{ngModule:a,providers:[{provide:el,useValue:!0},{provide:Hg,useValue:o}]}}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=I.oAB({type:a}),a.\u0275inj=I.cJS({providers:[O_]}),a})()},8939:(Tt,He,W)=>{"use strict";W.d(He,{hO:()=>ye,xv:()=>se,Dh:()=>he,GT:()=>ue,on:()=>re,pX:()=>Te});var I=W(7716),c=W(7841),le=W(9126);Tt=W.hmd(Tt);const Ce=["ngOnDestroy"],Te=(Me,ke,Be,be={})=>new Proxy(Me,{get:($e,ht)=>Be.runOutsideAngular(()=>{var kt;if(Me[ht])return(null===(kt=null==be?void 0:be.spy)||void 0===kt?void 0:kt.get)&&be.spy.get(ht,Me[ht]),Me[ht];if(Ce.indexOf(ht)>-1)return()=>{};const tt=ke.toPromise().then(it=>{const Pt=it&&it[ht];return"function"==typeof Pt?Pt.bind(it):Pt&&Pt.then?Pt.then(qt=>Be.run(()=>qt)):Be.run(()=>Pt)});return new Proxy(()=>{},{get:(it,Pt)=>tt[Pt],apply:(it,Pt,qt)=>tt.then(mn=>{var xe;const Ze=mn&&mn(...qt);return(null===(xe=null==be?void 0:be.spy)||void 0===xe?void 0:xe.apply)&&be.spy.apply(ht,qt,Ze),Ze})})})}),ue=(Me,ke)=>{ke.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(be=>{Object.defineProperty(Me.prototype,be,Object.getOwnPropertyDescriptor(Be.prototype||Be,be))})})};class ge{constructor(ke){return ke}}const he=new I.OlP("angularfire2.app.options"),se=new I.OlP("angularfire2.app.name");function re(Me,ke,Be){const $e="object"==typeof Be&&Be||{};$e.name=$e.name||"string"==typeof Be&&Be||"[DEFAULT]";const kt=c.Z.apps.filter(tt=>tt&&tt.name===$e.name)[0]||ke.runOutsideAngular(()=>c.Z.initializeApp(Me,$e));try{JSON.stringify(Me)!==JSON.stringify(kt.options)&&X("error",`${kt.name} Firebase App already initialized with different options${Tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(tt){}return new ge(kt)}const X=(Me,...ke)=>{(0,I.X6Q)()&&"undefined"!=typeof console&&console[Me](...ke)},ie={provide:ge,useFactory:re,deps:[he,I.R0b,[new I.FiY,se]]};let ye=(()=>{class Me{constructor(Be){c.Z.registerVersion("angularfire",le.q4.full,"core"),c.Z.registerVersion("angularfire",le.q4.full,"app-compat"),c.Z.registerVersion("angular",I.q4F.full,Be.toString())}static initializeApp(Be,be){return{ngModule:Me,providers:[{provide:he,useValue:Be},{provide:se,useValue:be}]}}}return Me.\u0275fac=function(Be){return new(Be||Me)(I.LFG(I.Lbi))},Me.\u0275mod=I.oAB({type:Me}),Me.\u0275inj=I.cJS({providers:[ie]}),Me})()},9126:(Tt,He,W)=>{"use strict";W.d(He,{q4:()=>re,iC:()=>Ze,HU:()=>tt,cc:()=>ye});var I=W(7716);(0,W(5452).registerVersion)("firebase","9.0.2","app");var Te=W(7771),ue=W(3637),ge=W(8307),he=W(9673),se=W(9746);Tt=W.hmd(Tt);const re=new I.GfV("7.0.4"),X=!!Tt.hot,ie=(Xe,...je)=>{(0,I.X6Q)()&&"undefined"!=typeof console&&console[Xe](...je)};function ye(Xe,je,pt,bt,Ft){const[,Vt,Nt]=globalThis.\u0275AngularfireInstanceCache.find(Lt=>Lt[0]===Xe)||[];if(Vt)return function(Xe,je){try{return Xe.toString()===je.toString()}catch(pt){return Xe===je}}(Ft,Nt)||(ie("error",`${je} was already initialized on the ${pt} Firebase App with different settings.${X?" You may need to reload as Firebase is not HMR aware.":""}`),ie("warn",{is:Ft,was:Nt})),Vt;{const Lt=bt();return globalThis.\u0275AngularfireInstanceCache.push([Xe,Lt,Ft]),Lt}}function $e(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class ht{constructor(je,pt=Te.N){this.zone=je,this.delegate=pt}now(){return this.delegate.now()}schedule(je,pt,bt){const Ft=this.zone;return this.delegate.schedule(function(Nt){Ft.runGuarded(()=>{je.apply(this,[Nt])})},pt,bt)}}class kt{constructor(je){this.zone=je,this.task=null}call(je,pt){const bt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$e,{},$e,$e)),pt.pipe((0,ge.b)({next:bt,complete:bt,error:bt})).subscribe(je).add(bt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let tt=(()=>{class Xe{constructor(pt){this.ngZone=pt,this.outsideAngular=pt.runOutsideAngular(()=>new ht(Zone.current)),this.insideAngular=pt.run(()=>new ht(Zone.current,ue.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Xe.\u0275fac=function(pt){return new(pt||Xe)(I.LFG(I.R0b))},Xe.\u0275prov=I.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Xe})();function it(){const Xe=globalThis.\u0275AngularFireScheduler;if(!Xe)throw new Error("AngularFireModule has not been provided");return Xe}function Ze(Xe){return it(),function(Xe){return function(pt){return(pt=pt.lift(new kt(Xe.ngZone))).pipe((0,he.R)(Xe.outsideAngular),(0,se.QV)(Xe.insideAngular))}}(it())(Xe)}},665:(Tt,He,W)=>{"use strict";W.d(He,{Fj:()=>$e,u5:()=>G,Cf:()=>tt,JU:()=>ie,JJ:()=>jr,JL:()=>Xt,F:()=>Ve,On:()=>Gi,YN:()=>Ho,_Y:()=>Wi,Kr:()=>ks});var I=W(7716),c=W(8583),le=W(7574),Ce=W(9796),Te=W(8002),ue=W(1555),ge=W(4402);function se($,L){return new le.y(k=>{const ne=$.length;if(0===ne)return void k.complete();const ze=new Array(ne);let Et=0,yn=0;for(let ir=0;ir<ne;ir++){const lr=(0,ge.D)($[ir]);let ui=!1;k.add(lr.subscribe({next:Jr=>{ui||(ui=!0,yn++),ze[ir]=Jr},error:Jr=>k.error(Jr),complete:()=>{Et++,(Et===ne||!ui)&&(yn===ne&&k.next(L?L.reduce((Jr,Ar,on)=>(Jr[Ar]=ze[on],Jr),{}):ze),k.complete())}}))}})}let re=(()=>{class ${constructor(k,ne){this._renderer=k,this._elementRef=ne,this.onChange=ze=>{},this.onTouched=()=>{}}setProperty(k,ne){this._renderer.setProperty(this._elementRef.nativeElement,k,ne)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return $.\u0275fac=function(k){return new(k||$)(I.Y36(I.Qsj),I.Y36(I.SBq))},$.\u0275dir=I.lG2({type:$}),$})(),X=(()=>{class $ extends re{}return $.\u0275fac=function(){let L;return function(ne){return(L||(L=I.n5z($)))(ne||$)}}(),$.\u0275dir=I.lG2({type:$,features:[I.qOj]}),$})();const ie=new I.OlP("NgValueAccessor"),ke={provide:ie,useExisting:(0,I.Gpc)(()=>$e),multi:!0},be=new I.OlP("CompositionEventMode");let $e=(()=>{class $ extends re{constructor(k,ne,ze){super(k,ne),this._compositionMode=ze,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const $=(0,c.q)()?(0,c.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(k){this.setProperty("value",null==k?"":k)}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return $.\u0275fac=function(k){return new(k||$)(I.Y36(I.Qsj),I.Y36(I.SBq),I.Y36(be,8))},$.\u0275dir=I.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,ne){1&k&&I.NdJ("input",function(Et){return ne._handleInput(Et.target.value)})("blur",function(){return ne.onTouched()})("compositionstart",function(){return ne._compositionStart()})("compositionend",function(Et){return ne._compositionEnd(Et.target.value)})},features:[I._Bn([ke]),I.qOj]}),$})();const tt=new I.OlP("NgValidators"),it=new I.OlP("NgAsyncValidators");function bt($){return null!=$}function Ft($){const L=(0,I.QGY)($)?(0,ge.D)($):$;return(0,I.CqO)(L),L}function Vt($){let L={};return $.forEach(k=>{L=null!=k?Object.assign(Object.assign({},L),k):L}),0===Object.keys(L).length?null:L}function Nt($,L){return L.map(k=>k($))}function Jt($){return $.map(L=>function($){return!$.validate}(L)?L:k=>L.validate(k))}function zr($){return null!=$?function($){if(!$)return null;const L=$.filter(bt);return 0==L.length?null:function(k){return Vt(Nt(k,L))}}(Jt($)):null}function Zt($){return null!=$?function($){if(!$)return null;const L=$.filter(bt);return 0==L.length?null:function(k){return function(...$){if(1===$.length){const L=$[0];if((0,Ce.k)(L))return se(L,null);if((0,ue.K)(L)&&Object.getPrototypeOf(L)===Object.prototype){const k=Object.keys(L);return se(k.map(ne=>L[ne]),k)}}if("function"==typeof $[$.length-1]){const L=$.pop();return se($=1===$.length&&(0,Ce.k)($[0])?$[0]:$,null).pipe((0,Te.U)(k=>L(...k)))}return se($,null)}(Nt(k,L).map(Ft)).pipe((0,Te.U)(Vt))}}(Jt($)):null}function Ut($,L){return null===$?[L]:Array.isArray($)?[...$,L]:[$,L]}function xr($){return $?Array.isArray($)?$:[$]:[]}function ln($,L){return Array.isArray($)?$.includes(L):$===L}function _r($,L){const k=xr(L);return xr($).forEach(ze=>{ln(k,ze)||k.push(ze)}),k}function Mn($,L){return xr(L).filter(k=>!ln($,k))}let Or=(()=>{class ${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=zr(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=Zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,ne){return!!this.control&&this.control.hasError(k,ne)}getError(k,ne){return this.control?this.control.getError(k,ne):null}}return $.\u0275fac=function(k){return new(k||$)},$.\u0275dir=I.lG2({type:$}),$})(),En=(()=>{class $ extends Or{get formDirective(){return null}get path(){return null}}return $.\u0275fac=function(){let L;return function(ne){return(L||(L=I.n5z($)))(ne||$)}}(),$.\u0275dir=I.lG2({type:$,features:[I.qOj]}),$})();class Pr extends Or{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jt{constructor(L){this._cd=L}is(L){var k,ne,ze;return"submitted"===L?!!(null===(k=this._cd)||void 0===k?void 0:k.submitted):!!(null===(ze=null===(ne=this._cd)||void 0===ne?void 0:ne.control)||void 0===ze?void 0:ze[L])}}let jr=(()=>{class $ extends jt{constructor(k){super(k)}}return $.\u0275fac=function(k){return new(k||$)(I.Y36(Pr,2))},$.\u0275dir=I.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,ne){2&k&&I.ekj("ng-untouched",ne.is("untouched"))("ng-touched",ne.is("touched"))("ng-pristine",ne.is("pristine"))("ng-dirty",ne.is("dirty"))("ng-valid",ne.is("valid"))("ng-invalid",ne.is("invalid"))("ng-pending",ne.is("pending"))},features:[I.qOj]}),$})(),Xt=(()=>{class $ extends jt{constructor(k){super(k)}}return $.\u0275fac=function(k){return new(k||$)(I.Y36(En,10))},$.\u0275dir=I.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,ne){2&k&&I.ekj("ng-untouched",ne.is("untouched"))("ng-touched",ne.is("touched"))("ng-pristine",ne.is("pristine"))("ng-dirty",ne.is("dirty"))("ng-valid",ne.is("valid"))("ng-invalid",ne.is("invalid"))("ng-pending",ne.is("pending"))("ng-submitted",ne.is("submitted"))},features:[I.qOj]}),$})();function Bn($,L){nt($,L),L.valueAccessor.writeValue($.value),function($,L){L.valueAccessor.registerOnChange(k=>{$._pendingValue=k,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&dn($,L)})}($,L),function($,L){const k=(ne,ze)=>{L.valueAccessor.writeValue(ne),ze&&L.viewToModelUpdate(ne)};$.registerOnChange(k),L._registerOnDestroy(()=>{$._unregisterOnChange(k)})}($,L),function($,L){L.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&dn($,L),"submit"!==$.updateOn&&$.markAsTouched()})}($,L),function($,L){if(L.valueAccessor.setDisabledState){const k=ne=>{L.valueAccessor.setDisabledState(ne)};$.registerOnDisabledChange(k),L._registerOnDestroy(()=>{$._unregisterOnDisabledChange(k)})}}($,L)}function we($,L){$.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(L)})}function nt($,L){const k=function($){return $._rawValidators}($);null!==L.validator?$.setValidators(Ut(k,L.validator)):"function"==typeof k&&$.setValidators([k]);const ne=function($){return $._rawAsyncValidators}($);null!==L.asyncValidator?$.setAsyncValidators(Ut(ne,L.asyncValidator)):"function"==typeof ne&&$.setAsyncValidators([ne]);const ze=()=>$.updateValueAndValidity();we(L._rawValidators,ze),we(L._rawAsyncValidators,ze)}function dn($,L){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate($._pendingValue),$._pendingChange=!1}function bs($,L){const k=$.indexOf(L);k>-1&&$.splice(k,1)}const Cr="VALID",fr="INVALID",pr="PENDING",gr="DISABLED";function wr($){return(Gn($)?$.validators:$)||null}function Rt($){return Array.isArray($)?zr($):$||null}function hn($,L){return(Gn(L)?L.asyncValidators:$)||null}function Hn($){return Array.isArray($)?Zt($):$||null}function Gn($){return null!=$&&!Array.isArray($)&&"object"==typeof $}class fn{constructor(L,k){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=L,this._rawAsyncValidators=k,this._composedValidatorFn=Rt(this._rawValidators),this._composedAsyncValidatorFn=Hn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===Cr}get invalid(){return this.status===fr}get pending(){return this.status==pr}get disabled(){return this.status===gr}get enabled(){return this.status!==gr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._rawValidators=L,this._composedValidatorFn=Rt(L)}setAsyncValidators(L){this._rawAsyncValidators=L,this._composedAsyncValidatorFn=Hn(L)}addValidators(L){this.setValidators(_r(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(_r(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Mn(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Mn(L,this._rawAsyncValidators))}hasValidator(L){return ln(this._rawValidators,L)}hasAsyncValidator(L){return ln(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=pr,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const k=this._parentMarkedDirty(L.onlySelf);this.status=gr,this.errors=null,this._forEachChild(ne=>{ne.disable(Object.assign(Object.assign({},L),{onlySelf:!0}))}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},L),{skipPristineCheck:k})),this._onDisabledChange.forEach(ne=>ne(!0))}enable(L={}){const k=this._parentMarkedDirty(L.onlySelf);this.status=Cr,this._forEachChild(ne=>{ne.enable(Object.assign(Object.assign({},L),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},L),{skipPristineCheck:k})),this._onDisabledChange.forEach(ne=>ne(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cr||this.status===pr)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gr:Cr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=pr,this._hasOwnPendingAsyncValidator=!0;const k=Ft(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(ne=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ne,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,k={}){this.errors=L,this._updateControlsErrors(!1!==k.emitEvent)}get(L){return function($,L,k){if(null==L||(Array.isArray(L)||(L=L.split(".")),Array.isArray(L)&&0===L.length))return null;let ne=$;return L.forEach(ze=>{ne=ne instanceof Mi?ne.controls.hasOwnProperty(ze)?ne.controls[ze]:null:ne instanceof Lr&&ne.at(ze)||null}),ne}(this,L)}getError(L,k){const ne=k?this.get(k):this;return ne&&ne.errors?ne.errors[L]:null}hasError(L,k){return!!this.getError(L,k)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new I.vpe,this.statusChanges=new I.vpe}_calculateStatus(){return this._allControlsDisabled()?gr:this.errors?fr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pr)?pr:this._anyControlsHaveStatus(fr)?fr:Cr}_anyControlsHaveStatus(L){return this._anyControls(k=>k.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_isBoxedValue(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){Gn(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class yr extends fn{constructor(L=null,k,ne){super(wr(k),hn(ne,k)),this._onChange=[],this._applyFormState(L),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(L,k={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(ne=>ne(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(L,k={}){this.setValue(L,k)}reset(L=null,k={}){this._applyFormState(L),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){bs(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){bs(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){this._isBoxedValue(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}}class Mi extends fn{constructor(L,k,ne){super(wr(k),hn(ne,k)),this.controls=L,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,k){return this.controls[L]?this.controls[L]:(this.controls[L]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(L,k,ne={}){this.registerControl(L,k),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}removeControl(L,k={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(L,k,ne={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],k&&this.registerControl(L,k),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,k={}){this._checkAllValuesPresent(L),Object.keys(L).forEach(ne=>{this._throwIfControlMissing(ne),this.controls[ne].setValue(L[ne],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(L,k={}){null!=L&&(Object.keys(L).forEach(ne=>{this.controls[ne]&&this.controls[ne].patchValue(L[ne],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(L={},k={}){this._forEachChild((ne,ze)=>{ne.reset(L[ze],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(L,k,ne)=>(L[ne]=k instanceof yr?k.value:k.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(k,ne)=>!!ne._syncPendingControls()||k);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_throwIfControlMissing(L){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[L])throw new Error(`Cannot find form control with name: ${L}.`)}_forEachChild(L){Object.keys(this.controls).forEach(k=>{const ne=this.controls[k];ne&&L(ne,k)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const k of Object.keys(this.controls)){const ne=this.controls[k];if(this.contains(k)&&L(ne))return!0}return!1}_reduceValue(){return this._reduceChildren({},(L,k,ne)=>((k.enabled||this.disabled)&&(L[ne]=k.value),L))}_reduceChildren(L,k){let ne=L;return this._forEachChild((ze,Et)=>{ne=k(ne,ze,Et)}),ne}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(L){this._forEachChild((k,ne)=>{if(void 0===L[ne])throw new Error(`Must supply a value for form control with name: '${ne}'.`)})}}class Lr extends fn{constructor(L,k,ne){super(wr(k),hn(ne,k)),this.controls=L,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[L]}push(L,k={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert(L,k,ne={}){this.controls.splice(L,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:ne.emitEvent})}removeAt(L,k={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl(L,k,ne={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),k&&(this.controls.splice(L,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,k={}){this._checkAllValuesPresent(L),L.forEach((ne,ze)=>{this._throwIfControlMissing(ze),this.at(ze).setValue(ne,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(L,k={}){null!=L&&(L.forEach((ne,ze)=>{this.at(ze)&&this.at(ze).patchValue(ne,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(L=[],k={}){this._forEachChild((ne,ze)=>{ne.reset(L[ze],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this.controls.map(L=>L instanceof yr?L.value:L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_syncPendingControls(){let L=this.controls.reduce((k,ne)=>!!ne._syncPendingControls()||k,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_throwIfControlMissing(L){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(L))throw new Error(`Cannot find form control at index ${L}`)}_forEachChild(L){this.controls.forEach((k,ne)=>{L(k,ne)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(k=>k.enabled&&L(k))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_checkAllValuesPresent(L){this._forEachChild((k,ne)=>{if(void 0===L[ne])throw new Error(`Must supply a value for form control at index: ${ne}.`)})}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}}const Ds={provide:En,useExisting:(0,I.Gpc)(()=>Ve)},an=(()=>Promise.resolve(null))();let Ve=(()=>{class $ extends En{constructor(k,ne){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new I.vpe,this.form=new Mi({},zr(k),Zt(ne))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(k){an.then(()=>{const ne=this._findContainer(k.path);k.control=ne.registerControl(k.name,k.control),Bn(k.control,k),k.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(k)})}getControl(k){return this.form.get(k.path)}removeControl(k){an.then(()=>{const ne=this._findContainer(k.path);ne&&ne.removeControl(k.name),bs(this._directives,k)})}addFormGroup(k){an.then(()=>{const ne=this._findContainer(k.path),ze=new Mi({});(function($,L){nt($,L)})(ze,k),ne.registerControl(k.name,ze),ze.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(k){an.then(()=>{const ne=this._findContainer(k.path);ne&&ne.removeControl(k.name)})}getFormGroup(k){return this.form.get(k.path)}updateModel(k,ne){an.then(()=>{this.form.get(k.path).setValue(ne)})}setValue(k){this.control.setValue(k)}onSubmit(k){return this.submitted=!0,function($,L){$._syncPendingControls(),L.forEach(k=>{const ne=k.control;"submit"===ne.updateOn&&ne._pendingChange&&(k.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(k),!1}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(k){return k.pop(),k.length?this.form.get(k):this.form}}return $.\u0275fac=function(k){return new(k||$)(I.Y36(tt,10),I.Y36(it,10))},$.\u0275dir=I.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(k,ne){1&k&&I.NdJ("submit",function(Et){return ne.onSubmit(Et)})("reset",function(){return ne.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[I._Bn([Ds]),I.qOj]}),$})();const _n={provide:Pr,useExisting:(0,I.Gpc)(()=>Gi)},Xs=(()=>Promise.resolve(null))();let Gi=(()=>{class $ extends Pr{constructor(k,ne,ze,Et){super(),this.control=new yr,this._registered=!1,this.update=new I.vpe,this._parent=k,this._setValidators(ne),this._setAsyncValidators(ze),this.valueAccessor=function($,L){if(!L)return null;let k,ne,ze;return Array.isArray(L),L.forEach(Et=>{Et.constructor===$e?k=Et:function($){return Object.getPrototypeOf($.constructor)===X}(Et)?ne=Et:ze=Et}),ze||ne||k||null}(0,Et)}ngOnChanges(k){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in k&&this._updateDisabled(k),function($,L){if(!$.hasOwnProperty("model"))return!1;const k=$.model;return!!k.isFirstChange()||!Object.is(L,k.currentValue)}(k,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function($,L){return[...L.path,$]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(k){Xs.then(()=>{this.control.setValue(k,{emitViewToModelChange:!1})})}_updateDisabled(k){const ne=k.isDisabled.currentValue,ze=""===ne||ne&&"false"!==ne;Xs.then(()=>{ze&&!this.control.disabled?this.control.disable():!ze&&this.control.disabled&&this.control.enable()})}}return $.\u0275fac=function(k){return new(k||$)(I.Y36(En,9),I.Y36(tt,10),I.Y36(it,10),I.Y36(ie,10))},$.\u0275dir=I.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[I._Bn([_n]),I.qOj,I.TTD]}),$})(),Wi=(()=>{class ${}return $.\u0275fac=function(k){return new(k||$)},$.\u0275dir=I.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})(),Ao=(()=>{class ${}return $.\u0275fac=function(k){return new(k||$)},$.\u0275mod=I.oAB({type:$}),$.\u0275inj=I.cJS({}),$})();const Pa={provide:ie,useExisting:(0,I.Gpc)(()=>Ui),multi:!0};function Bi($,L){return null==$?`${L}`:(L&&"object"==typeof L&&(L="Object"),`${$}: ${L}`.slice(0,50))}let Ui=(()=>{class $ extends X{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){this.value=k;const ne=this._getOptionId(k);null==ne&&this.setProperty("selectedIndex",-1);const ze=Bi(ne,k);this.setProperty("value",ze)}registerOnChange(k){this.onChange=ne=>{this.value=this._getOptionValue(ne),k(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(k){for(const ne of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ne),k))return ne;return null}_getOptionValue(k){const ne=function($){return $.split(":")[0]}(k);return this._optionMap.has(ne)?this._optionMap.get(ne):k}}return $.\u0275fac=function(){let L;return function(ne){return(L||(L=I.n5z($)))(ne||$)}}(),$.\u0275dir=I.lG2({type:$,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(k,ne){1&k&&I.NdJ("change",function(Et){return ne.onChange(Et.target.value)})("blur",function(){return ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[I._Bn([Pa]),I.qOj]}),$})(),Ho=(()=>{class ${constructor(k,ne,ze){this._element=k,this._renderer=ne,this._select=ze,this._select&&(this.id=this._select._registerOption())}set ngValue(k){null!=this._select&&(this._select._optionMap.set(this.id,k),this._setElementValue(Bi(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._setElementValue(k),this._select&&this._select.writeValue(this._select.value)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return $.\u0275fac=function(k){return new(k||$)(I.Y36(I.SBq),I.Y36(I.Qsj),I.Y36(Ui,9))},$.\u0275dir=I.lG2({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$})();const fo={provide:ie,useExisting:(0,I.Gpc)(()=>Ri),multi:!0};function Os($,L){return null==$?`${L}`:("string"==typeof L&&(L=`'${L}'`),L&&"object"==typeof L&&(L="Object"),`${$}: ${L}`.slice(0,50))}let Ri=(()=>{class $ extends X{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){let ne;if(this.value=k,Array.isArray(k)){const ze=k.map(Et=>this._getOptionId(Et));ne=(Et,yn)=>{Et._setSelected(ze.indexOf(yn.toString())>-1)}}else ne=(ze,Et)=>{ze._setSelected(!1)};this._optionMap.forEach(ne)}registerOnChange(k){this.onChange=ne=>{const ze=[];if(void 0!==ne.selectedOptions){const Et=ne.selectedOptions;for(let yn=0;yn<Et.length;yn++){const ir=Et.item(yn),lr=this._getOptionValue(ir.value);ze.push(lr)}}else{const Et=ne.options;for(let yn=0;yn<Et.length;yn++){const ir=Et.item(yn);if(ir.selected){const lr=this._getOptionValue(ir.value);ze.push(lr)}}}this.value=ze,k(ze)}}_registerOption(k){const ne=(this._idCounter++).toString();return this._optionMap.set(ne,k),ne}_getOptionId(k){for(const ne of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ne)._value,k))return ne;return null}_getOptionValue(k){const ne=function($){return $.split(":")[0]}(k);return this._optionMap.has(ne)?this._optionMap.get(ne)._value:k}}return $.\u0275fac=function(){let L;return function(ne){return(L||(L=I.n5z($)))(ne||$)}}(),$.\u0275dir=I.lG2({type:$,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(k,ne){1&k&&I.NdJ("change",function(Et){return ne.onChange(Et.target)})("blur",function(){return ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[I._Bn([fo]),I.qOj]}),$})(),ks=(()=>{class ${constructor(k,ne,ze){this._element=k,this._renderer=ne,this._select=ze,this._select&&(this.id=this._select._registerOption(this))}set ngValue(k){null!=this._select&&(this._value=k,this._setElementValue(Os(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._select?(this._value=k,this._setElementValue(Os(this.id,k)),this._select.writeValue(this._select.value)):this._setElementValue(k)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}_setSelected(k){this._renderer.setProperty(this._element.nativeElement,"selected",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return $.\u0275fac=function(k){return new(k||$)(I.Y36(I.SBq),I.Y36(I.Qsj),I.Y36(Ri,9))},$.\u0275dir=I.lG2({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$})(),te=(()=>{class ${}return $.\u0275fac=function(k){return new(k||$)},$.\u0275mod=I.oAB({type:$}),$.\u0275inj=I.cJS({imports:[[Ao]]}),$})(),G=(()=>{class ${}return $.\u0275fac=function(k){return new(k||$)},$.\u0275mod=I.oAB({type:$}),$.\u0275inj=I.cJS({imports:[te]}),$})()},6237:(Tt,He,W)=>{"use strict";W.d(He,{Qb:()=>Un,PW:()=>no});var I=W(7716),c=W(9075),le=W(7238);function Ce(){return"undefined"!=typeof window&&void 0!==window.document}function Te(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ue(K){switch(K.length){case 0:return new le.ZN;case 1:return K[0];default:return new le.ZE(K)}}function ge(K,C,N,F,Q={},de={}){const _e=[],Ne=[];let Ye=-1,lt=null;if(F.forEach(Dt=>{const At=Dt.offset,Tn=At==Ye,er=Tn&&lt||{};Object.keys(Dt).forEach(rn=>{let Dn=rn,kn=Dt[rn];if("offset"!==rn)switch(Dn=C.normalizePropertyName(Dn,_e),kn){case le.k1:kn=Q[rn];break;case le.l3:kn=de[rn];break;default:kn=C.normalizeStyleValue(rn,Dn,kn,_e)}er[Dn]=kn}),Tn||Ne.push(er),lt=er,Ye=At}),_e.length){const Dt="\n - ";throw new Error(`Unable to animate due to the following errors:${Dt}${_e.join(Dt)}`)}return Ne}function he(K,C,N,F){switch(C){case"start":K.onStart(()=>F(N&&se(N,"start",K)));break;case"done":K.onDone(()=>F(N&&se(N,"done",K)));break;case"destroy":K.onDestroy(()=>F(N&&se(N,"destroy",K)))}}function se(K,C,N){const F=N.totalTime,de=re(K.element,K.triggerName,K.fromState,K.toState,C||K.phaseName,null==F?K.totalTime:F,!!N.disabled),_e=K._data;return null!=_e&&(de._data=_e),de}function re(K,C,N,F,Q="",de=0,_e){return{element:K,triggerName:C,fromState:N,toState:F,phaseName:Q,totalTime:de,disabled:!!_e}}function X(K,C,N){let F;return K instanceof Map?(F=K.get(C),F||K.set(C,F=N)):(F=K[C],F||(F=K[C]=N)),F}function ie(K){const C=K.indexOf(":");return[K.substring(1,C),K.substr(C+1)]}let ye=(K,C)=>!1,ke=(K,C)=>!1,be=(K,C,N)=>[];const ht=Te();(ht||"undefined"!=typeof Element)&&(ye=Ce()?(K,C)=>{for(;C&&C!==document.documentElement;){if(C===K)return!0;C=C.parentNode||C.host}return!1}:(K,C)=>K.contains(C),ke=(()=>{if(ht||Element.prototype.matches)return(K,C)=>K.matches(C);{const K=Element.prototype,C=K.matchesSelector||K.mozMatchesSelector||K.msMatchesSelector||K.oMatchesSelector||K.webkitMatchesSelector;return C?(N,F)=>C.apply(N,[F]):ke}})(),be=(K,C,N)=>{let F=[];if(N){const Q=K.querySelectorAll(C);for(let de=0;de<Q.length;de++)F.push(Q[de])}else{const Q=K.querySelector(C);Q&&F.push(Q)}return F});let tt=null,it=!1;function Pt(K){tt||(tt=("undefined"!=typeof document?document.body:null)||{},it=!!tt.style&&"WebkitAppearance"in tt.style);let C=!0;return tt.style&&!function(K){return"ebkit"==K.substring(1,6)}(K)&&(C=K in tt.style,!C&&it&&(C="Webkit"+K.charAt(0).toUpperCase()+K.substr(1)in tt.style)),C}const mn=ke,xe=ye,Ze=be;function Oe(K){const C={};return Object.keys(K).forEach(N=>{const F=N.replace(/([a-z])([A-Z])/g,"$1-$2");C[F]=K[N]}),C}let Je=(()=>{class K{validateStyleProperty(N){return Pt(N)}matchesElement(N,F){return mn(N,F)}containsElement(N,F){return xe(N,F)}query(N,F,Q){return Ze(N,F,Q)}computeStyle(N,F,Q){return Q||""}animate(N,F,Q,de,_e,Ne=[],Ye){return new le.ZN(Q,de)}}return K.\u0275fac=function(N){return new(N||K)},K.\u0275prov=I.Yz7({token:K,factory:K.\u0275fac}),K})(),Ke=(()=>{class K{}return K.NOOP=new Je,K})();const bt="ng-enter",Ft="ng-leave",Lt="ng-trigger",Jt=".ng-trigger",Fn="ng-animating",zr=".ng-animating";function Ht(K){if("number"==typeof K)return K;const C=K.match(/^(-?[\.\d]+)(m?s)/);return!C||C.length<2?0:Zt(parseFloat(C[1]),C[2])}function Zt(K,C){switch(C){case"s":return 1e3*K;default:return K}}function Ut(K,C,N){return K.hasOwnProperty("duration")?K:function(K,C,N){let Q,de=0,_e="";if("string"==typeof K){const Ne=K.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ne)return C.push(`The provided timing value "${K}" is invalid.`),{duration:0,delay:0,easing:""};Q=Zt(parseFloat(Ne[1]),Ne[2]);const Ye=Ne[3];null!=Ye&&(de=Zt(parseFloat(Ye),Ne[4]));const lt=Ne[5];lt&&(_e=lt)}else Q=K;if(!N){let Ne=!1,Ye=C.length;Q<0&&(C.push("Duration values below 0 are not allowed for this animation step."),Ne=!0),de<0&&(C.push("Delay values below 0 are not allowed for this animation step."),Ne=!0),Ne&&C.splice(Ye,0,`The provided timing value "${K}" is invalid.`)}return{duration:Q,delay:de,easing:_e}}(K,C,N)}function dr(K,C={}){return Object.keys(K).forEach(N=>{C[N]=K[N]}),C}function ln(K,C,N={}){if(C)for(let F in K)N[F]=K[F];else dr(K,N);return N}function _r(K,C,N){return N?C+":"+N+";":""}function Mn(K){let C="";for(let N=0;N<K.style.length;N++){const F=K.style.item(N);C+=_r(0,F,K.style.getPropertyValue(F))}for(const N in K.style)K.style.hasOwnProperty(N)&&!N.startsWith("_")&&(C+=_r(0,Ln(N),K.style[N]));K.setAttribute("style",C)}function Or(K,C,N){K.style&&(Object.keys(C).forEach(F=>{const Q=xt(F);N&&!N.hasOwnProperty(F)&&(N[F]=K.style[Q]),K.style[Q]=C[F]}),Te()&&Mn(K))}function En(K,C){K.style&&(Object.keys(C).forEach(N=>{const F=xt(N);K.style[F]=""}),Te()&&Mn(K))}function Pr(K){return Array.isArray(K)?1==K.length?K[0]:(0,le.vP)(K):K}const br=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ai(K){let C=[];if("string"==typeof K){let N;for(;N=br.exec(K);)C.push(N[1]);br.lastIndex=0}return C}function jr(K,C,N){const F=K.toString(),Q=F.replace(br,(de,_e)=>{let Ne=C[_e];return C.hasOwnProperty(_e)||(N.push(`Please provide a value for the animation param ${_e}`),Ne=""),Ne.toString()});return Q==F?K:Q}function Xt(K){const C=[];let N=K.next();for(;!N.done;)C.push(N.value),N=K.next();return C}const Gt=/-+([a-z0-9])/g;function xt(K){return K.replace(Gt,(...C)=>C[1].toUpperCase())}function Ln(K){return K.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function or(K,C){return 0===K||0===C}function $n(K,C,N){const F=Object.keys(N);if(F.length&&C.length){let de=C[0],_e=[];if(F.forEach(Ne=>{de.hasOwnProperty(Ne)||_e.push(Ne),de[Ne]=N[Ne]}),_e.length)for(var Q=1;Q<C.length;Q++){let Ne=C[Q];_e.forEach(function(Ye){Ne[Ye]=Qt(K,Ye)})}}return C}function wt(K,C,N){switch(C.type){case 7:return K.visitTrigger(C,N);case 0:return K.visitState(C,N);case 1:return K.visitTransition(C,N);case 2:return K.visitSequence(C,N);case 3:return K.visitGroup(C,N);case 4:return K.visitAnimate(C,N);case 5:return K.visitKeyframes(C,N);case 6:return K.visitStyle(C,N);case 8:return K.visitReference(C,N);case 9:return K.visitAnimateChild(C,N);case 10:return K.visitAnimateRef(C,N);case 11:return K.visitQuery(C,N);case 12:return K.visitStagger(C,N);default:throw new Error(`Unable to resolve animation metadata node #${C.type}`)}}function Qt(K,C){return window.getComputedStyle(K)[C]}function vs(K,C){const N=[];return"string"==typeof K?K.split(/\s*,\s*/).forEach(F=>function(K,C,N){if(":"==K[0]){const Ye=function(K,C){switch(K){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(N,F)=>parseFloat(F)>parseFloat(N);case":decrement":return(N,F)=>parseFloat(F)<parseFloat(N);default:return C.push(`The transition alias value "${K}" is not supported`),"* => *"}}(K,N);if("function"==typeof Ye)return void C.push(Ye);K=Ye}const F=K.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==F||F.length<4)return N.push(`The provided transition expression "${K}" is not supported`),C;const Q=F[1],de=F[2],_e=F[3];C.push(Bn(Q,_e));"<"==de[0]&&!("*"==Q&&"*"==_e)&&C.push(Bn(_e,Q))}(F,N,C)):N.push(K),N}const Qr=new Set(["true","1"]),kr=new Set(["false","0"]);function Bn(K,C){const N=Qr.has(K)||kr.has(K),F=Qr.has(C)||kr.has(C);return(Q,de)=>{let _e="*"==K||K==Q,Ne="*"==C||C==de;return!_e&&N&&"boolean"==typeof Q&&(_e=Q?Qr.has(K):kr.has(K)),!Ne&&F&&"boolean"==typeof de&&(Ne=de?Qr.has(C):kr.has(C)),_e&&Ne}}const we=new RegExp("s*:selfs*,?","g");function Ge(K,C,N){return new We(K).build(C,N)}class We{constructor(C){this._driver=C}build(C,N){const F=new dn(N);return this._resetContextStyleTimingState(F),wt(this,Pr(C),F)}_resetContextStyleTimingState(C){C.currentQuerySelector="",C.collectedStyles={},C.collectedStyles[""]={},C.currentTime=0}visitTrigger(C,N){let F=N.queryCount=0,Q=N.depCount=0;const de=[],_e=[];return"@"==C.name.charAt(0)&&N.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),C.definitions.forEach(Ne=>{if(this._resetContextStyleTimingState(N),0==Ne.type){const Ye=Ne,lt=Ye.name;lt.toString().split(/\s*,\s*/).forEach(Dt=>{Ye.name=Dt,de.push(this.visitState(Ye,N))}),Ye.name=lt}else if(1==Ne.type){const Ye=this.visitTransition(Ne,N);F+=Ye.queryCount,Q+=Ye.depCount,_e.push(Ye)}else N.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:C.name,states:de,transitions:_e,queryCount:F,depCount:Q,options:null}}visitState(C,N){const F=this.visitStyle(C.styles,N),Q=C.options&&C.options.params||null;if(F.containsDynamicStyles){const de=new Set,_e=Q||{};if(F.styles.forEach(Ne=>{if(Rn(Ne)){const Ye=Ne;Object.keys(Ye).forEach(lt=>{Ai(Ye[lt]).forEach(Dt=>{_e.hasOwnProperty(Dt)||de.add(Dt)})})}}),de.size){const Ne=Xt(de.values());N.errors.push(`state("${C.name}", ...) must define default values for all the following style substitutions: ${Ne.join(", ")}`)}}return{type:0,name:C.name,style:F,options:Q?{params:Q}:null}}visitTransition(C,N){N.queryCount=0,N.depCount=0;const F=wt(this,Pr(C.animation),N);return{type:1,matchers:vs(C.expr,N.errors),animation:F,queryCount:N.queryCount,depCount:N.depCount,options:Kn(C.options)}}visitSequence(C,N){return{type:2,steps:C.steps.map(F=>wt(this,F,N)),options:Kn(C.options)}}visitGroup(C,N){const F=N.currentTime;let Q=0;const de=C.steps.map(_e=>{N.currentTime=F;const Ne=wt(this,_e,N);return Q=Math.max(Q,N.currentTime),Ne});return N.currentTime=Q,{type:3,steps:de,options:Kn(C.options)}}visitAnimate(C,N){const F=function(K,C){let N=null;if(K.hasOwnProperty("duration"))N=K;else if("number"==typeof K)return Xn(Ut(K,C).duration,0,"");const F=K;if(F.split(/\s+/).some(de=>"{"==de.charAt(0)&&"{"==de.charAt(1))){const de=Xn(0,0,"");return de.dynamic=!0,de.strValue=F,de}return N=N||Ut(F,C),Xn(N.duration,N.delay,N.easing)}(C.timings,N.errors);N.currentAnimateTimings=F;let Q,de=C.styles?C.styles:(0,le.oB)({});if(5==de.type)Q=this.visitKeyframes(de,N);else{let _e=C.styles,Ne=!1;if(!_e){Ne=!0;const lt={};F.easing&&(lt.easing=F.easing),_e=(0,le.oB)(lt)}N.currentTime+=F.duration+F.delay;const Ye=this.visitStyle(_e,N);Ye.isEmptyStep=Ne,Q=Ye}return N.currentAnimateTimings=null,{type:4,timings:F,style:Q,options:null}}visitStyle(C,N){const F=this._makeStyleAst(C,N);return this._validateStyleAst(F,N),F}_makeStyleAst(C,N){const F=[];Array.isArray(C.styles)?C.styles.forEach(_e=>{"string"==typeof _e?_e==le.l3?F.push(_e):N.errors.push(`The provided style string value ${_e} is not allowed.`):F.push(_e)}):F.push(C.styles);let Q=!1,de=null;return F.forEach(_e=>{if(Rn(_e)){const Ne=_e,Ye=Ne.easing;if(Ye&&(de=Ye,delete Ne.easing),!Q)for(let lt in Ne)if(Ne[lt].toString().indexOf("{{")>=0){Q=!0;break}}}),{type:6,styles:F,easing:de,offset:C.offset,containsDynamicStyles:Q,options:null}}_validateStyleAst(C,N){const F=N.currentAnimateTimings;let Q=N.currentTime,de=N.currentTime;F&&de>0&&(de-=F.duration+F.delay),C.styles.forEach(_e=>{"string"!=typeof _e&&Object.keys(_e).forEach(Ne=>{if(!this._driver.validateStyleProperty(Ne))return void N.errors.push(`The provided animation property "${Ne}" is not a supported CSS property for animations`);const Ye=N.collectedStyles[N.currentQuerySelector],lt=Ye[Ne];let Dt=!0;lt&&(de!=Q&&de>=lt.startTime&&Q<=lt.endTime&&(N.errors.push(`The CSS property "${Ne}" that exists between the times of "${lt.startTime}ms" and "${lt.endTime}ms" is also being animated in a parallel animation between the times of "${de}ms" and "${Q}ms"`),Dt=!1),de=lt.startTime),Dt&&(Ye[Ne]={startTime:de,endTime:Q}),N.options&&function(K,C,N){const F=C.params||{},Q=Ai(K);Q.length&&Q.forEach(de=>{F.hasOwnProperty(de)||N.push(`Unable to resolve the local animation param ${de} in the given list of values`)})}(_e[Ne],N.options,N.errors)})})}visitKeyframes(C,N){const F={type:5,styles:[],options:null};if(!N.currentAnimateTimings)return N.errors.push("keyframes() must be placed inside of a call to animate()"),F;let de=0;const _e=[];let Ne=!1,Ye=!1,lt=0;const Dt=C.steps.map(qr=>{const vr=this._makeStyleAst(qr,N);let Yi=null!=vr.offset?vr.offset:function(K){if("string"==typeof K)return null;let C=null;if(Array.isArray(K))K.forEach(N=>{if(Rn(N)&&N.hasOwnProperty("offset")){const F=N;C=parseFloat(F.offset),delete F.offset}});else if(Rn(K)&&K.hasOwnProperty("offset")){const N=K;C=parseFloat(N.offset),delete N.offset}return C}(vr.styles),Yr=0;return null!=Yi&&(de++,Yr=vr.offset=Yi),Ye=Ye||Yr<0||Yr>1,Ne=Ne||Yr<lt,lt=Yr,_e.push(Yr),vr});Ye&&N.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),Ne&&N.errors.push("Please ensure that all keyframe offsets are in order");const At=C.steps.length;let Tn=0;de>0&&de<At?N.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==de&&(Tn=1/(At-1));const er=At-1,rn=N.currentTime,Dn=N.currentAnimateTimings,kn=Dn.duration;return Dt.forEach((qr,vr)=>{const Yi=Tn>0?vr==er?1:Tn*vr:_e[vr],Yr=Yi*kn;N.currentTime=rn+Dn.delay+Yr,Dn.duration=Yr,this._validateStyleAst(qr,N),qr.offset=Yi,F.styles.push(qr)}),F}visitReference(C,N){return{type:8,animation:wt(this,Pr(C.animation),N),options:Kn(C.options)}}visitAnimateChild(C,N){return N.depCount++,{type:9,options:Kn(C.options)}}visitAnimateRef(C,N){return{type:10,animation:this.visitReference(C.animation,N),options:Kn(C.options)}}visitQuery(C,N){const F=N.currentQuerySelector,Q=C.options||{};N.queryCount++,N.currentQuery=C;const[de,_e]=function(K){const C=!!K.split(/\s*,\s*/).find(N=>":self"==N);return C&&(K=K.replace(we,"")),[K=K.replace(/@\*/g,Jt).replace(/@\w+/g,N=>Jt+"-"+N.substr(1)).replace(/:animating/g,zr),C]}(C.selector);N.currentQuerySelector=F.length?F+" "+de:de,X(N.collectedStyles,N.currentQuerySelector,{});const Ne=wt(this,Pr(C.animation),N);return N.currentQuery=null,N.currentQuerySelector=F,{type:11,selector:de,limit:Q.limit||0,optional:!!Q.optional,includeSelf:_e,animation:Ne,originalSelector:C.selector,options:Kn(C.options)}}visitStagger(C,N){N.currentQuery||N.errors.push("stagger() can only be used inside of query()");const F="full"===C.timings?{duration:0,delay:0,easing:"full"}:Ut(C.timings,N.errors,!0);return{type:12,animation:wt(this,Pr(C.animation),N),timings:F,options:null}}}class dn{constructor(C){this.errors=C,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Rn(K){return!Array.isArray(K)&&"object"==typeof K}function Kn(K){return K?(K=dr(K)).params&&(K.params=function(K){return K?dr(K):null}(K.params)):K={},K}function Xn(K,C,N){return{duration:K,delay:C,easing:N}}function nn(K,C,N,F,Q,de,_e=null,Ne=!1){return{type:1,element:K,keyframes:C,preStyleProps:N,postStyleProps:F,duration:Q,delay:de,totalTime:Q+de,easing:_e,subTimeline:Ne}}class li{constructor(){this._map=new Map}consume(C){let N=this._map.get(C);return N?this._map.delete(C):N=[],N}append(C,N){let F=this._map.get(C);F||this._map.set(C,F=[]),F.push(...N)}has(C){return this._map.has(C)}clear(){this._map.clear()}}const bs=new RegExp(":enter","g"),Cr=new RegExp(":leave","g");function fr(K,C,N,F,Q,de={},_e={},Ne,Ye,lt=[]){return(new pr).buildKeyframes(K,C,N,F,Q,de,_e,Ne,Ye,lt)}class pr{buildKeyframes(C,N,F,Q,de,_e,Ne,Ye,lt,Dt=[]){lt=lt||new li;const At=new Es(C,N,lt,Q,de,Dt,[]);At.options=Ye,At.currentTimeline.setStyles([_e],null,At.errors,Ye),wt(this,F,At);const Tn=At.timelines.filter(er=>er.containsAnimation());if(Tn.length&&Object.keys(Ne).length){const er=Tn[Tn.length-1];er.allowOnlyTimelineStyles()||er.setStyles([Ne],null,At.errors,Ye)}return Tn.length?Tn.map(er=>er.buildKeyframes()):[nn(N,[],[],[],0,0,"",!1)]}visitTrigger(C,N){}visitState(C,N){}visitTransition(C,N){}visitAnimateChild(C,N){const F=N.subInstructions.consume(N.element);if(F){const Q=N.createSubContext(C.options),de=N.currentTimeline.currentTime,_e=this._visitSubInstructions(F,Q,Q.options);de!=_e&&N.transformIntoNewTimeline(_e)}N.previousNode=C}visitAnimateRef(C,N){const F=N.createSubContext(C.options);F.transformIntoNewTimeline(),this.visitReference(C.animation,F),N.transformIntoNewTimeline(F.currentTimeline.currentTime),N.previousNode=C}_visitSubInstructions(C,N,F){let de=N.currentTimeline.currentTime;const _e=null!=F.duration?Ht(F.duration):null,Ne=null!=F.delay?Ht(F.delay):null;return 0!==_e&&C.forEach(Ye=>{const lt=N.appendInstructionToTimeline(Ye,_e,Ne);de=Math.max(de,lt.duration+lt.delay)}),de}visitReference(C,N){N.updateOptions(C.options,!0),wt(this,C.animation,N),N.previousNode=C}visitSequence(C,N){const F=N.subContextCount;let Q=N;const de=C.options;if(de&&(de.params||de.delay)&&(Q=N.createSubContext(de),Q.transformIntoNewTimeline(),null!=de.delay)){6==Q.previousNode.type&&(Q.currentTimeline.snapshotCurrentStyles(),Q.previousNode=gr);const _e=Ht(de.delay);Q.delayNextStep(_e)}C.steps.length&&(C.steps.forEach(_e=>wt(this,_e,Q)),Q.currentTimeline.applyStylesToKeyframe(),Q.subContextCount>F&&Q.transformIntoNewTimeline()),N.previousNode=C}visitGroup(C,N){const F=[];let Q=N.currentTimeline.currentTime;const de=C.options&&C.options.delay?Ht(C.options.delay):0;C.steps.forEach(_e=>{const Ne=N.createSubContext(C.options);de&&Ne.delayNextStep(de),wt(this,_e,Ne),Q=Math.max(Q,Ne.currentTimeline.currentTime),F.push(Ne.currentTimeline)}),F.forEach(_e=>N.currentTimeline.mergeTimelineCollectedStyles(_e)),N.transformIntoNewTimeline(Q),N.previousNode=C}_visitTiming(C,N){if(C.dynamic){const F=C.strValue;return Ut(N.params?jr(F,N.params,N.errors):F,N.errors)}return{duration:C.duration,delay:C.delay,easing:C.easing}}visitAnimate(C,N){const F=N.currentAnimateTimings=this._visitTiming(C.timings,N),Q=N.currentTimeline;F.delay&&(N.incrementTime(F.delay),Q.snapshotCurrentStyles());const de=C.style;5==de.type?this.visitKeyframes(de,N):(N.incrementTime(F.duration),this.visitStyle(de,N),Q.applyStylesToKeyframe()),N.currentAnimateTimings=null,N.previousNode=C}visitStyle(C,N){const F=N.currentTimeline,Q=N.currentAnimateTimings;!Q&&F.getCurrentStyleProperties().length&&F.forwardFrame();const de=Q&&Q.easing||C.easing;C.isEmptyStep?F.applyEmptyStep(de):F.setStyles(C.styles,de,N.errors,N.options),N.previousNode=C}visitKeyframes(C,N){const F=N.currentAnimateTimings,Q=N.currentTimeline.duration,de=F.duration,Ne=N.createSubContext().currentTimeline;Ne.easing=F.easing,C.styles.forEach(Ye=>{Ne.forwardTime((Ye.offset||0)*de),Ne.setStyles(Ye.styles,Ye.easing,N.errors,N.options),Ne.applyStylesToKeyframe()}),N.currentTimeline.mergeTimelineCollectedStyles(Ne),N.transformIntoNewTimeline(Q+de),N.previousNode=C}visitQuery(C,N){const F=N.currentTimeline.currentTime,Q=C.options||{},de=Q.delay?Ht(Q.delay):0;de&&(6===N.previousNode.type||0==F&&N.currentTimeline.getCurrentStyleProperties().length)&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=gr);let _e=F;const Ne=N.invokeQuery(C.selector,C.originalSelector,C.limit,C.includeSelf,!!Q.optional,N.errors);N.currentQueryTotal=Ne.length;let Ye=null;Ne.forEach((lt,Dt)=>{N.currentQueryIndex=Dt;const At=N.createSubContext(C.options,lt);de&&At.delayNextStep(de),lt===N.element&&(Ye=At.currentTimeline),wt(this,C.animation,At),At.currentTimeline.applyStylesToKeyframe(),_e=Math.max(_e,At.currentTimeline.currentTime)}),N.currentQueryIndex=0,N.currentQueryTotal=0,N.transformIntoNewTimeline(_e),Ye&&(N.currentTimeline.mergeTimelineCollectedStyles(Ye),N.currentTimeline.snapshotCurrentStyles()),N.previousNode=C}visitStagger(C,N){const F=N.parentContext,Q=N.currentTimeline,de=C.timings,_e=Math.abs(de.duration),Ne=_e*(N.currentQueryTotal-1);let Ye=_e*N.currentQueryIndex;switch(de.duration<0?"reverse":de.easing){case"reverse":Ye=Ne-Ye;break;case"full":Ye=F.currentStaggerTime}const Dt=N.currentTimeline;Ye&&Dt.delayNextStep(Ye);const At=Dt.currentTime;wt(this,C.animation,N),N.previousNode=C,F.currentStaggerTime=Q.currentTime-At+(Q.startTime-F.currentTimeline.startTime)}}const gr={};class Es{constructor(C,N,F,Q,de,_e,Ne,Ye){this._driver=C,this.element=N,this.subInstructions=F,this._enterClassName=Q,this._leaveClassName=de,this.errors=_e,this.timelines=Ne,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ye||new wr(this._driver,N,0),Ne.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(C,N){if(!C)return;const F=C;let Q=this.options;null!=F.duration&&(Q.duration=Ht(F.duration)),null!=F.delay&&(Q.delay=Ht(F.delay));const de=F.params;if(de){let _e=Q.params;_e||(_e=this.options.params={}),Object.keys(de).forEach(Ne=>{(!N||!_e.hasOwnProperty(Ne))&&(_e[Ne]=jr(de[Ne],_e,this.errors))})}}_copyOptions(){const C={};if(this.options){const N=this.options.params;if(N){const F=C.params={};Object.keys(N).forEach(Q=>{F[Q]=N[Q]})}}return C}createSubContext(C=null,N,F){const Q=N||this.element,de=new Es(this._driver,Q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Q,F||0));return de.previousNode=this.previousNode,de.currentAnimateTimings=this.currentAnimateTimings,de.options=this._copyOptions(),de.updateOptions(C),de.currentQueryIndex=this.currentQueryIndex,de.currentQueryTotal=this.currentQueryTotal,de.parentContext=this,this.subContextCount++,de}transformIntoNewTimeline(C){return this.previousNode=gr,this.currentTimeline=this.currentTimeline.fork(this.element,C),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(C,N,F){const Q={duration:null!=N?N:C.duration,delay:this.currentTimeline.currentTime+(null!=F?F:0)+C.delay,easing:""},de=new Rt(this._driver,C.element,C.keyframes,C.preStyleProps,C.postStyleProps,Q,C.stretchStartingKeyframe);return this.timelines.push(de),Q}incrementTime(C){this.currentTimeline.forwardTime(this.currentTimeline.duration+C)}delayNextStep(C){C>0&&this.currentTimeline.delayNextStep(C)}invokeQuery(C,N,F,Q,de,_e){let Ne=[];if(Q&&Ne.push(this.element),C.length>0){C=(C=C.replace(bs,"."+this._enterClassName)).replace(Cr,"."+this._leaveClassName);let lt=this._driver.query(this.element,C,1!=F);0!==F&&(lt=F<0?lt.slice(lt.length+F,lt.length):lt.slice(0,F)),Ne.push(...lt)}return!de&&0==Ne.length&&_e.push(`\`query("${N}")\` returned zero elements. (Use \`query("${N}", { optional: true })\` if you wish to allow this.)`),Ne}}class wr{constructor(C,N,F,Q){this._driver=C,this.element=N,this.startTime=F,this._elementTimelineStylesLookup=Q,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(N),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(N,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(C){const N=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||N?(this.forwardTime(this.currentTime+C),N&&this.snapshotCurrentStyles()):this.startTime+=C}fork(C,N){return this.applyStylesToKeyframe(),new wr(this._driver,C,N||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(C){this.applyStylesToKeyframe(),this.duration=C,this._loadKeyframe()}_updateStyle(C,N){this._localTimelineStyles[C]=N,this._globalTimelineStyles[C]=N,this._styleSummary[C]={time:this.currentTime,value:N}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(C){C&&(this._previousKeyframe.easing=C),Object.keys(this._globalTimelineStyles).forEach(N=>{this._backFill[N]=this._globalTimelineStyles[N]||le.l3,this._currentKeyframe[N]=le.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(C,N,F,Q){N&&(this._previousKeyframe.easing=N);const de=Q&&Q.params||{},_e=function(K,C){const N={};let F;return K.forEach(Q=>{"*"===Q?(F=F||Object.keys(C),F.forEach(de=>{N[de]=le.l3})):ln(Q,!1,N)}),N}(C,this._globalTimelineStyles);Object.keys(_e).forEach(Ne=>{const Ye=jr(_e[Ne],de,F);this._pendingStyles[Ne]=Ye,this._localTimelineStyles.hasOwnProperty(Ne)||(this._backFill[Ne]=this._globalTimelineStyles.hasOwnProperty(Ne)?this._globalTimelineStyles[Ne]:le.l3),this._updateStyle(Ne,Ye)})}applyStylesToKeyframe(){const C=this._pendingStyles,N=Object.keys(C);0!=N.length&&(this._pendingStyles={},N.forEach(F=>{this._currentKeyframe[F]=C[F]}),Object.keys(this._localTimelineStyles).forEach(F=>{this._currentKeyframe.hasOwnProperty(F)||(this._currentKeyframe[F]=this._localTimelineStyles[F])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(C=>{const N=this._localTimelineStyles[C];this._pendingStyles[C]=N,this._updateStyle(C,N)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const C=[];for(let N in this._currentKeyframe)C.push(N);return C}mergeTimelineCollectedStyles(C){Object.keys(C._styleSummary).forEach(N=>{const F=this._styleSummary[N],Q=C._styleSummary[N];(!F||Q.time>F.time)&&this._updateStyle(N,Q.value)})}buildKeyframes(){this.applyStylesToKeyframe();const C=new Set,N=new Set,F=1===this._keyframes.size&&0===this.duration;let Q=[];this._keyframes.forEach((Ne,Ye)=>{const lt=ln(Ne,!0);Object.keys(lt).forEach(Dt=>{const At=lt[Dt];At==le.k1?C.add(Dt):At==le.l3&&N.add(Dt)}),F||(lt.offset=Ye/this.duration),Q.push(lt)});const de=C.size?Xt(C.values()):[],_e=N.size?Xt(N.values()):[];if(F){const Ne=Q[0],Ye=dr(Ne);Ne.offset=0,Ye.offset=1,Q=[Ne,Ye]}return nn(this.element,Q,de,_e,this.duration,this.startTime,this.easing,!1)}}class Rt extends wr{constructor(C,N,F,Q,de,_e,Ne=!1){super(C,N,_e.delay),this.keyframes=F,this.preStyleProps=Q,this.postStyleProps=de,this._stretchStartingKeyframe=Ne,this.timings={duration:_e.duration,delay:_e.delay,easing:_e.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let C=this.keyframes,{delay:N,duration:F,easing:Q}=this.timings;if(this._stretchStartingKeyframe&&N){const de=[],_e=F+N,Ne=N/_e,Ye=ln(C[0],!1);Ye.offset=0,de.push(Ye);const lt=ln(C[0],!1);lt.offset=hn(Ne),de.push(lt);const Dt=C.length-1;for(let At=1;At<=Dt;At++){let Tn=ln(C[At],!1);Tn.offset=hn((N+Tn.offset*F)/_e),de.push(Tn)}F=_e,N=0,Q="",C=de}return nn(this.element,C,this.preStyleProps,this.postStyleProps,F,N,Q,!0)}}function hn(K,C=3){const N=Math.pow(10,C-1);return Math.round(K*N)/N}class fn{}class Mi extends fn{normalizePropertyName(C,N){return xt(C)}normalizeStyleValue(C,N,F,Q){let de="";const _e=F.toString().trim();if(Ds[N]&&0!==F&&"0"!==F)if("number"==typeof F)de="px";else{const Ne=F.match(/^[+-]?[\d\.]+([a-z]*)$/);Ne&&0==Ne[1].length&&Q.push(`Please provide a CSS unit value for ${C}:${F}`)}return _e+de}}const Ds=(()=>function(K){const C={};return K.forEach(N=>C[N]=!0),C}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function an(K,C,N,F,Q,de,_e,Ne,Ye,lt,Dt,At,Tn){return{type:0,element:K,triggerName:C,isRemovalTransition:Q,fromState:N,fromStyles:de,toState:F,toStyles:_e,timelines:Ne,queriedElements:Ye,preStyleProps:lt,postStyleProps:Dt,totalTime:At,errors:Tn}}const Ve={};class Re{constructor(C,N,F){this._triggerName=C,this.ast=N,this._stateStyles=F}match(C,N,F,Q){return function(K,C,N,F,Q){return K.some(de=>de(C,N,F,Q))}(this.ast.matchers,C,N,F,Q)}buildStyles(C,N,F){const Q=this._stateStyles["*"],de=this._stateStyles[C],_e=Q?Q.buildStyles(N,F):{};return de?de.buildStyles(N,F):_e}build(C,N,F,Q,de,_e,Ne,Ye,lt,Dt){const At=[],Tn=this.ast.options&&this.ast.options.params||Ve,rn=this.buildStyles(F,Ne&&Ne.params||Ve,At),Dn=Ye&&Ye.params||Ve,kn=this.buildStyles(Q,Dn,At),qr=new Set,vr=new Map,Yi=new Map,Yr="void"===Q,ro={params:Object.assign(Object.assign({},Tn),Dn)},Hr=Dt?[]:fr(C,N,this.ast.animation,de,_e,rn,kn,ro,lt,At);let Ii=0;if(Hr.forEach(Ts=>{Ii=Math.max(Ts.duration+Ts.delay,Ii)}),At.length)return an(N,this._triggerName,F,Q,Yr,rn,kn,[],[],vr,Yi,Ii,At);Hr.forEach(Ts=>{const ci=Ts.element,ka=X(vr,ci,{});Ts.preStyleProps.forEach(Ir=>ka[Ir]=!0);const io=X(Yi,ci,{});Ts.postStyleProps.forEach(Ir=>io[Ir]=!0),ci!==N&&qr.add(ci)});const Tr=Xt(qr.values());return an(N,this._triggerName,F,Q,Yr,rn,kn,Hr,Tr,vr,Yi,Ii)}}class qe{constructor(C,N,F){this.styles=C,this.defaultParams=N,this.normalizer=F}buildStyles(C,N){const F={},Q=dr(this.defaultParams);return Object.keys(C).forEach(de=>{const _e=C[de];null!=_e&&(Q[de]=_e)}),this.styles.styles.forEach(de=>{if("string"!=typeof de){const _e=de;Object.keys(_e).forEach(Ne=>{let Ye=_e[Ne];Ye.length>1&&(Ye=jr(Ye,Q,N));const lt=this.normalizer.normalizePropertyName(Ne,N);Ye=this.normalizer.normalizeStyleValue(Ne,lt,Ye,N),F[lt]=Ye})}}),F}}class Kt{constructor(C,N,F){this.name=C,this.ast=N,this._normalizer=F,this.transitionFactories=[],this.states={},N.states.forEach(Q=>{this.states[Q.name]=new qe(Q.style,Q.options&&Q.options.params||{},F)}),Sn(this.states,"true","1"),Sn(this.states,"false","0"),N.transitions.forEach(Q=>{this.transitionFactories.push(new Re(C,Q,this.states))}),this.fallbackTransition=function(K,C,N){return new Re(K,{type:1,animation:{type:2,steps:[],options:null},matchers:[(_e,Ne)=>!0],options:null,queryCount:0,depCount:0},C)}(C,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(C,N,F,Q){return this.transitionFactories.find(_e=>_e.match(C,N,F,Q))||null}matchStyles(C,N,F){return this.fallbackTransition.buildStyles(C,N,F)}}function Sn(K,C,N){K.hasOwnProperty(C)?K.hasOwnProperty(N)||(K[N]=K[C]):K.hasOwnProperty(N)&&(K[C]=K[N])}const _n=new li;class us{constructor(C,N,F){this.bodyNode=C,this._driver=N,this._normalizer=F,this._animations={},this._playersById={},this.players=[]}register(C,N){const F=[],Q=Ge(this._driver,N,F);if(F.length)throw new Error(`Unable to build the animation due to the following errors: ${F.join("\n")}`);this._animations[C]=Q}_buildPlayer(C,N,F){const Q=C.element,de=ge(0,this._normalizer,0,C.keyframes,N,F);return this._driver.animate(Q,de,C.duration,C.delay,C.easing,[],!0)}create(C,N,F={}){const Q=[],de=this._animations[C];let _e;const Ne=new Map;if(de?(_e=fr(this._driver,N,de,bt,Ft,{},{},F,_n,Q),_e.forEach(Dt=>{const At=X(Ne,Dt.element,{});Dt.postStyleProps.forEach(Tn=>At[Tn]=null)})):(Q.push("The requested animation doesn't exist or has already been destroyed"),_e=[]),Q.length)throw new Error(`Unable to create the animation due to the following errors: ${Q.join("\n")}`);Ne.forEach((Dt,At)=>{Object.keys(Dt).forEach(Tn=>{Dt[Tn]=this._driver.computeStyle(At,Tn,le.l3)})});const lt=ue(_e.map(Dt=>{const At=Ne.get(Dt.element);return this._buildPlayer(Dt,{},At)}));return this._playersById[C]=lt,lt.onDestroy(()=>this.destroy(C)),this.players.push(lt),lt}destroy(C){const N=this._getPlayer(C);N.destroy(),delete this._playersById[C];const F=this.players.indexOf(N);F>=0&&this.players.splice(F,1)}_getPlayer(C){const N=this._playersById[C];if(!N)throw new Error(`Unable to find the timeline player referenced by ${C}`);return N}listen(C,N,F,Q){const de=re(N,"","","");return he(this._getPlayer(C),F,de,Q),()=>{}}command(C,N,F,Q){if("register"==F)return void this.register(C,Q[0]);if("create"==F)return void this.create(C,N,Q[0]||{});const de=this._getPlayer(C);switch(F){case"play":de.play();break;case"pause":de.pause();break;case"reset":de.reset();break;case"restart":de.restart();break;case"finish":de.finish();break;case"init":de.init();break;case"setPosition":de.setPosition(parseFloat(Q[0]));break;case"destroy":this.destroy(C)}}}const Xs="ng-animate-queued",Wi="ng-animate-disabled",Ms=".ng-animate-disabled",Vr=[],Ao={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nr="__ng_removed";class Ws{constructor(C,N=""){this.namespaceId=N;const F=C&&C.hasOwnProperty("value");if(this.value=null!=(K=F?C.value:C)?K:null,F){const de=dr(C);delete de.value,this.options=de}else this.options={};var K;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(C){const N=C.params;if(N){const F=this.options.params;Object.keys(N).forEach(Q=>{null==F[Q]&&(F[Q]=N[Q])})}}}const Vi="void",ii=new Ws(Vi);class wi{constructor(C,N,F){this.id=C,this.hostElement=N,this._engine=F,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+C,Bi(N,this._hostClassName)}listen(C,N,F,Q){if(!this._triggers.hasOwnProperty(N))throw new Error(`Unable to listen on the animation trigger event "${F}" because the animation trigger "${N}" doesn't exist!`);if(null==F||0==F.length)throw new Error(`Unable to listen on the animation trigger "${N}" because the provided event is undefined!`);if("start"!=(K=F)&&"done"!=K)throw new Error(`The provided animation trigger event "${F}" for the animation trigger "${N}" is not supported!`);var K;const de=X(this._elementListeners,C,[]),_e={name:N,phase:F,callback:Q};de.push(_e);const Ne=X(this._engine.statesByElement,C,{});return Ne.hasOwnProperty(N)||(Bi(C,Lt),Bi(C,Lt+"-"+N),Ne[N]=ii),()=>{this._engine.afterFlush(()=>{const Ye=de.indexOf(_e);Ye>=0&&de.splice(Ye,1),this._triggers[N]||delete Ne[N]})}}register(C,N){return!this._triggers[C]&&(this._triggers[C]=N,!0)}_getTrigger(C){const N=this._triggers[C];if(!N)throw new Error(`The provided animation trigger "${C}" has not been registered!`);return N}trigger(C,N,F,Q=!0){const de=this._getTrigger(N),_e=new co(this.id,N,C);let Ne=this._engine.statesByElement.get(C);Ne||(Bi(C,Lt),Bi(C,Lt+"-"+N),this._engine.statesByElement.set(C,Ne={}));let Ye=Ne[N];const lt=new Ws(F,this.id);if(!(F&&F.hasOwnProperty("value"))&&Ye&&lt.absorbOptions(Ye.options),Ne[N]=lt,Ye||(Ye=ii),lt.value!==Vi&&Ye.value===lt.value){if(!function(K,C){const N=Object.keys(K),F=Object.keys(C);if(N.length!=F.length)return!1;for(let Q=0;Q<N.length;Q++){const de=N[Q];if(!C.hasOwnProperty(de)||K[de]!==C[de])return!1}return!0}(Ye.params,lt.params)){const Dn=[],kn=de.matchStyles(Ye.value,Ye.params,Dn),qr=de.matchStyles(lt.value,lt.params,Dn);Dn.length?this._engine.reportError(Dn):this._engine.afterFlush(()=>{En(C,kn),Or(C,qr)})}return}const Tn=X(this._engine.playersByElement,C,[]);Tn.forEach(Dn=>{Dn.namespaceId==this.id&&Dn.triggerName==N&&Dn.queued&&Dn.destroy()});let er=de.matchTransition(Ye.value,lt.value,C,lt.params),rn=!1;if(!er){if(!Q)return;er=de.fallbackTransition,rn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:N,transition:er,fromState:Ye,toState:lt,player:_e,isFallbackTransition:rn}),rn||(Bi(C,Xs),_e.onStart(()=>{zi(C,Xs)})),_e.onDone(()=>{let Dn=this.players.indexOf(_e);Dn>=0&&this.players.splice(Dn,1);const kn=this._engine.playersByElement.get(C);if(kn){let qr=kn.indexOf(_e);qr>=0&&kn.splice(qr,1)}}),this.players.push(_e),Tn.push(_e),_e}deregister(C){delete this._triggers[C],this._engine.statesByElement.forEach((N,F)=>{delete N[C]}),this._elementListeners.forEach((N,F)=>{this._elementListeners.set(F,N.filter(Q=>Q.name!=C))})}clearElementCache(C){this._engine.statesByElement.delete(C),this._elementListeners.delete(C);const N=this._engine.playersByElement.get(C);N&&(N.forEach(F=>F.destroy()),this._engine.playersByElement.delete(C))}_signalRemovalForInnerTriggers(C,N){const F=this._engine.driver.query(C,Jt,!0);F.forEach(Q=>{if(Q[nr])return;const de=this._engine.fetchNamespacesByElement(Q);de.size?de.forEach(_e=>_e.triggerLeaveAnimation(Q,N,!1,!0)):this.clearElementCache(Q)}),this._engine.afterFlushAnimationsDone(()=>F.forEach(Q=>this.clearElementCache(Q)))}triggerLeaveAnimation(C,N,F,Q){const de=this._engine.statesByElement.get(C);if(de){const _e=[];if(Object.keys(de).forEach(Ne=>{if(this._triggers[Ne]){const Ye=this.trigger(C,Ne,Vi,Q);Ye&&_e.push(Ye)}}),_e.length)return this._engine.markElementAsRemoved(this.id,C,!0,N),F&&ue(_e).onDone(()=>this._engine.processLeaveNode(C)),!0}return!1}prepareLeaveAnimationListeners(C){const N=this._elementListeners.get(C),F=this._engine.statesByElement.get(C);if(N&&F){const Q=new Set;N.forEach(de=>{const _e=de.name;if(Q.has(_e))return;Q.add(_e);const Ye=this._triggers[_e].fallbackTransition,lt=F[_e]||ii,Dt=new Ws(Vi),At=new co(this.id,_e,C);this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:_e,transition:Ye,fromState:lt,toState:Dt,player:At,isFallbackTransition:!0})})}}removeNode(C,N){const F=this._engine;if(C.childElementCount&&this._signalRemovalForInnerTriggers(C,N),this.triggerLeaveAnimation(C,N,!0))return;let Q=!1;if(F.totalAnimations){const de=F.players.length?F.playersByQueriedElement.get(C):[];if(de&&de.length)Q=!0;else{let _e=C;for(;_e=_e.parentNode;)if(F.statesByElement.get(_e)){Q=!0;break}}}if(this.prepareLeaveAnimationListeners(C),Q)F.markElementAsRemoved(this.id,C,!1,N);else{const de=C[nr];(!de||de===Ao)&&(F.afterFlush(()=>this.clearElementCache(C)),F.destroyInnerAnimations(C),F._onRemovalComplete(C,N))}}insertNode(C,N){Bi(C,this._hostClassName)}drainQueuedTransitions(C){const N=[];return this._queue.forEach(F=>{const Q=F.player;if(Q.destroyed)return;const de=F.element,_e=this._elementListeners.get(de);_e&&_e.forEach(Ne=>{if(Ne.name==F.triggerName){const Ye=re(de,F.triggerName,F.fromState.value,F.toState.value);Ye._data=C,he(F.player,Ne.phase,Ye,Ne.callback)}}),Q.markedForDestroy?this._engine.afterFlush(()=>{Q.destroy()}):N.push(F)}),this._queue=[],N.sort((F,Q)=>{const de=F.transition.ast.depCount,_e=Q.transition.ast.depCount;return 0==de||0==_e?de-_e:this._engine.driver.containsElement(F.element,Q.element)?1:-1})}destroy(C){this.players.forEach(N=>N.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,C)}elementContainsData(C){let N=!1;return this._elementListeners.has(C)&&(N=!0),N=!!this._queue.find(F=>F.element===C)||N,N}}class Nr{constructor(C,N,F){this.bodyNode=C,this.driver=N,this._normalizer=F,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Q,de)=>{}}_onRemovalComplete(C,N){this.onRemovalComplete(C,N)}get queuedPlayers(){const C=[];return this._namespaceList.forEach(N=>{N.players.forEach(F=>{F.queued&&C.push(F)})}),C}createNamespace(C,N){const F=new wi(C,N,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,N)?this._balanceNamespaceList(F,N):(this.newHostElements.set(N,F),this.collectEnterElement(N)),this._namespaceLookup[C]=F}_balanceNamespaceList(C,N){const F=this._namespaceList.length-1;if(F>=0){let Q=!1;for(let de=F;de>=0;de--)if(this.driver.containsElement(this._namespaceList[de].hostElement,N)){this._namespaceList.splice(de+1,0,C),Q=!0;break}Q||this._namespaceList.splice(0,0,C)}else this._namespaceList.push(C);return this.namespacesByHostElement.set(N,C),C}register(C,N){let F=this._namespaceLookup[C];return F||(F=this.createNamespace(C,N)),F}registerTrigger(C,N,F){let Q=this._namespaceLookup[C];Q&&Q.register(N,F)&&this.totalAnimations++}destroy(C,N){if(!C)return;const F=this._fetchNamespace(C);this.afterFlush(()=>{this.namespacesByHostElement.delete(F.hostElement),delete this._namespaceLookup[C];const Q=this._namespaceList.indexOf(F);Q>=0&&this._namespaceList.splice(Q,1)}),this.afterFlushAnimationsDone(()=>F.destroy(N))}_fetchNamespace(C){return this._namespaceLookup[C]}fetchNamespacesByElement(C){const N=new Set,F=this.statesByElement.get(C);if(F){const Q=Object.keys(F);for(let de=0;de<Q.length;de++){const _e=F[Q[de]].namespaceId;if(_e){const Ne=this._fetchNamespace(_e);Ne&&N.add(Ne)}}}return N}trigger(C,N,F,Q){if($r(N)){const de=this._fetchNamespace(C);if(de)return de.trigger(N,F,Q),!0}return!1}insertNode(C,N,F,Q){if(!$r(N))return;const de=N[nr];if(de&&de.setForRemoval){de.setForRemoval=!1,de.setForMove=!0;const _e=this.collectedLeaveElements.indexOf(N);_e>=0&&this.collectedLeaveElements.splice(_e,1)}if(C){const _e=this._fetchNamespace(C);_e&&_e.insertNode(N,F)}Q&&this.collectEnterElement(N)}collectEnterElement(C){this.collectedEnterElements.push(C)}markElementAsDisabled(C,N){N?this.disabledNodes.has(C)||(this.disabledNodes.add(C),Bi(C,Wi)):this.disabledNodes.has(C)&&(this.disabledNodes.delete(C),zi(C,Wi))}removeNode(C,N,F,Q){if($r(N)){const de=C?this._fetchNamespace(C):null;if(de?de.removeNode(N,Q):this.markElementAsRemoved(C,N,!1,Q),F){const _e=this.namespacesByHostElement.get(N);_e&&_e.id!==C&&_e.removeNode(N,Q)}}else this._onRemovalComplete(N,Q)}markElementAsRemoved(C,N,F,Q){this.collectedLeaveElements.push(N),N[nr]={namespaceId:C,setForRemoval:Q,hasAnimation:F,removedBeforeQueried:!1}}listen(C,N,F,Q,de){return $r(N)?this._fetchNamespace(C).listen(N,F,Q,de):()=>{}}_buildInstruction(C,N,F,Q,de){return C.transition.build(this.driver,C.element,C.fromState.value,C.toState.value,F,Q,C.fromState.options,C.toState.options,N,de)}destroyInnerAnimations(C){let N=this.driver.query(C,Jt,!0);N.forEach(F=>this.destroyActiveAnimationsForElement(F)),0!=this.playersByQueriedElement.size&&(N=this.driver.query(C,zr,!0),N.forEach(F=>this.finishActiveQueriedAnimationOnElement(F)))}destroyActiveAnimationsForElement(C){const N=this.playersByElement.get(C);N&&N.forEach(F=>{F.queued?F.markedForDestroy=!0:F.destroy()})}finishActiveQueriedAnimationOnElement(C){const N=this.playersByQueriedElement.get(C);N&&N.forEach(F=>F.finish())}whenRenderingDone(){return new Promise(C=>{if(this.players.length)return ue(this.players).onDone(()=>C());C()})}processLeaveNode(C){const N=C[nr];if(N&&N.setForRemoval){if(C[nr]=Ao,N.namespaceId){this.destroyInnerAnimations(C);const F=this._fetchNamespace(N.namespaceId);F&&F.clearElementCache(C)}this._onRemovalComplete(C,N.setForRemoval)}this.driver.matchesElement(C,Ms)&&this.markElementAsDisabled(C,!1),this.driver.query(C,Ms,!0).forEach(F=>{this.markElementAsDisabled(F,!1)})}flush(C=-1){let N=[];if(this.newHostElements.size&&(this.newHostElements.forEach((F,Q)=>this._balanceNamespaceList(F,Q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let F=0;F<this.collectedEnterElements.length;F++)Bi(this.collectedEnterElements[F],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const F=[];try{N=this._flushAnimations(F,C)}finally{for(let Q=0;Q<F.length;Q++)F[Q]()}}else for(let F=0;F<this.collectedLeaveElements.length;F++)this.processLeaveNode(this.collectedLeaveElements[F]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(F=>F()),this._flushFns=[],this._whenQuietFns.length){const F=this._whenQuietFns;this._whenQuietFns=[],N.length?ue(N).onDone(()=>{F.forEach(Q=>Q())}):F.forEach(Q=>Q())}}reportError(C){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${C.join("\n")}`)}_flushAnimations(C,N){const F=new li,Q=[],de=new Map,_e=[],Ne=new Map,Ye=new Map,lt=new Map,Dt=new Set;this.disabledNodes.forEach(Wt=>{Dt.add(Wt);const un=this.driver.query(Wt,".ng-animate-queued",!0);for(let vn=0;vn<un.length;vn++)Dt.add(un[vn])});const At=this.bodyNode,Tn=Array.from(this.statesByElement.keys()),er=Mo(Tn,this.collectedEnterElements),rn=new Map;let Dn=0;er.forEach((Wt,un)=>{const vn=bt+Dn++;rn.set(un,vn),Wt.forEach(zn=>Bi(zn,vn))});const kn=[],qr=new Set,vr=new Set;for(let Wt=0;Wt<this.collectedLeaveElements.length;Wt++){const un=this.collectedLeaveElements[Wt],vn=un[nr];vn&&vn.setForRemoval&&(kn.push(un),qr.add(un),vn.hasAnimation?this.driver.query(un,".ng-star-inserted",!0).forEach(zn=>qr.add(zn)):vr.add(un))}const Yi=new Map,Yr=Mo(Tn,Array.from(qr));Yr.forEach((Wt,un)=>{const vn=Ft+Dn++;Yi.set(un,vn),Wt.forEach(zn=>Bi(zn,vn))}),C.push(()=>{er.forEach((Wt,un)=>{const vn=rn.get(un);Wt.forEach(zn=>zi(zn,vn))}),Yr.forEach((Wt,un)=>{const vn=Yi.get(un);Wt.forEach(zn=>zi(zn,vn))}),kn.forEach(Wt=>{this.processLeaveNode(Wt)})});const ro=[],Hr=[];for(let Wt=this._namespaceList.length-1;Wt>=0;Wt--)this._namespaceList[Wt].drainQueuedTransitions(N).forEach(vn=>{const zn=vn.player,di=vn.element;if(ro.push(zn),this.collectedEnterElements.length){const ji=di[nr];if(ji&&ji.setForMove)return void zn.destroy()}const mr=!At||!this.driver.containsElement(At,di),pi=Yi.get(di),Zi=rn.get(di),Dr=this._buildInstruction(vn,F,Zi,pi,mr);if(Dr.errors&&Dr.errors.length)Hr.push(Dr);else{if(mr)return zn.onStart(()=>En(di,Dr.fromStyles)),zn.onDestroy(()=>Or(di,Dr.toStyles)),void Q.push(zn);if(vn.isFallbackTransition)return zn.onStart(()=>En(di,Dr.fromStyles)),zn.onDestroy(()=>Or(di,Dr.toStyles)),void Q.push(zn);Dr.timelines.forEach(ji=>ji.stretchStartingKeyframe=!0),F.append(di,Dr.timelines),_e.push({instruction:Dr,player:zn,element:di}),Dr.queriedElements.forEach(ji=>X(Ne,ji,[]).push(zn)),Dr.preStyleProps.forEach((ji,xo)=>{const Wr=Object.keys(ji);if(Wr.length){let hs=Ye.get(xo);hs||Ye.set(xo,hs=new Set),Wr.forEach(wo=>hs.add(wo))}}),Dr.postStyleProps.forEach((ji,xo)=>{const Wr=Object.keys(ji);let hs=lt.get(xo);hs||lt.set(xo,hs=new Set),Wr.forEach(wo=>hs.add(wo))})}});if(Hr.length){const Wt=[];Hr.forEach(un=>{Wt.push(`@${un.triggerName} has failed due to:\n`),un.errors.forEach(vn=>Wt.push(`- ${vn}\n`))}),ro.forEach(un=>un.destroy()),this.reportError(Wt)}const Ii=new Map,Tr=new Map;_e.forEach(Wt=>{const un=Wt.element;F.has(un)&&(Tr.set(un,un),this._beforeAnimationBuild(Wt.player.namespaceId,Wt.instruction,Ii))}),Q.forEach(Wt=>{const un=Wt.element;this._getPreviousPlayers(un,!1,Wt.namespaceId,Wt.triggerName,null).forEach(zn=>{X(Ii,un,[]).push(zn),zn.destroy()})});const Ts=kn.filter(Wt=>eo(Wt,Ye,lt)),ci=new Map;zs(ci,this.driver,vr,lt,le.l3).forEach(Wt=>{eo(Wt,Ye,lt)&&Ts.push(Wt)});const io=new Map;er.forEach((Wt,un)=>{zs(io,this.driver,new Set(Wt),Ye,le.k1)}),Ts.forEach(Wt=>{const un=ci.get(Wt),vn=io.get(Wt);ci.set(Wt,Object.assign(Object.assign({},un),vn))});const Ir=[],ds=[],Gr={};_e.forEach(Wt=>{const{element:un,player:vn,instruction:zn}=Wt;if(F.has(un)){if(Dt.has(un))return vn.onDestroy(()=>Or(un,zn.toStyles)),vn.disabled=!0,vn.overrideTotalTime(zn.totalTime),void Q.push(vn);let di=Gr;if(Tr.size>1){let pi=un;const Zi=[];for(;pi=pi.parentNode;){const Dr=Tr.get(pi);if(Dr){di=Dr;break}Zi.push(pi)}Zi.forEach(Dr=>Tr.set(Dr,di))}const mr=this._buildAnimation(vn.namespaceId,zn,Ii,de,io,ci);if(vn.setRealPlayer(mr),di===Gr)Ir.push(vn);else{const pi=this.playersByElement.get(di);pi&&pi.length&&(vn.parentPlayer=ue(pi)),Q.push(vn)}}else En(un,zn.fromStyles),vn.onDestroy(()=>Or(un,zn.toStyles)),ds.push(vn),Dt.has(un)&&Q.push(vn)}),ds.forEach(Wt=>{const un=de.get(Wt.element);if(un&&un.length){const vn=ue(un);Wt.setRealPlayer(vn)}}),Q.forEach(Wt=>{Wt.parentPlayer?Wt.syncPlayerEvents(Wt.parentPlayer):Wt.destroy()});for(let Wt=0;Wt<kn.length;Wt++){const un=kn[Wt],vn=un[nr];if(zi(un,Ft),vn&&vn.hasAnimation)continue;let zn=[];if(Ne.size){let mr=Ne.get(un);mr&&mr.length&&zn.push(...mr);let pi=this.driver.query(un,zr,!0);for(let Zi=0;Zi<pi.length;Zi++){let Dr=Ne.get(pi[Zi]);Dr&&Dr.length&&zn.push(...Dr)}}const di=zn.filter(mr=>!mr.destroyed);di.length?Ui(this,un,di):this.processLeaveNode(un)}return kn.length=0,Ir.forEach(Wt=>{this.players.push(Wt),Wt.onDone(()=>{Wt.destroy();const un=this.players.indexOf(Wt);this.players.splice(un,1)}),Wt.play()}),Ir}elementContainsData(C,N){let F=!1;const Q=N[nr];return Q&&Q.setForRemoval&&(F=!0),this.playersByElement.has(N)&&(F=!0),this.playersByQueriedElement.has(N)&&(F=!0),this.statesByElement.has(N)&&(F=!0),this._fetchNamespace(C).elementContainsData(N)||F}afterFlush(C){this._flushFns.push(C)}afterFlushAnimationsDone(C){this._whenQuietFns.push(C)}_getPreviousPlayers(C,N,F,Q,de){let _e=[];if(N){const Ne=this.playersByQueriedElement.get(C);Ne&&(_e=Ne)}else{const Ne=this.playersByElement.get(C);if(Ne){const Ye=!de||de==Vi;Ne.forEach(lt=>{lt.queued||!Ye&&lt.triggerName!=Q||_e.push(lt)})}}return(F||Q)&&(_e=_e.filter(Ne=>!(F&&F!=Ne.namespaceId||Q&&Q!=Ne.triggerName))),_e}_beforeAnimationBuild(C,N,F){const de=N.element,_e=N.isRemovalTransition?void 0:C,Ne=N.isRemovalTransition?void 0:N.triggerName;for(const Ye of N.timelines){const lt=Ye.element,Dt=lt!==de,At=X(F,lt,[]);this._getPreviousPlayers(lt,Dt,_e,Ne,N.toState).forEach(er=>{const rn=er.getRealPlayer();rn.beforeDestroy&&rn.beforeDestroy(),er.destroy(),At.push(er)})}En(de,N.fromStyles)}_buildAnimation(C,N,F,Q,de,_e){const Ne=N.triggerName,Ye=N.element,lt=[],Dt=new Set,At=new Set,Tn=N.timelines.map(rn=>{const Dn=rn.element;Dt.add(Dn);const kn=Dn[nr];if(kn&&kn.removedBeforeQueried)return new le.ZN(rn.duration,rn.delay);const qr=Dn!==Ye,vr=function(K){const C=[];return fo(K,C),C}((F.get(Dn)||Vr).map(Ii=>Ii.getRealPlayer())).filter(Ii=>!!Ii.element&&Ii.element===Dn),Yi=de.get(Dn),Yr=_e.get(Dn),ro=ge(0,this._normalizer,0,rn.keyframes,Yi,Yr),Hr=this._buildPlayer(rn,ro,vr);if(rn.subTimeline&&Q&&At.add(Dn),qr){const Ii=new co(C,Ne,Dn);Ii.setRealPlayer(Hr),lt.push(Ii)}return Hr});lt.forEach(rn=>{X(this.playersByQueriedElement,rn.element,[]).push(rn),rn.onDone(()=>function(K,C,N){let F;if(K instanceof Map){if(F=K.get(C),F){if(F.length){const Q=F.indexOf(N);F.splice(Q,1)}0==F.length&&K.delete(C)}}else if(F=K[C],F){if(F.length){const Q=F.indexOf(N);F.splice(Q,1)}0==F.length&&delete K[C]}return F}(this.playersByQueriedElement,rn.element,rn))}),Dt.forEach(rn=>Bi(rn,Fn));const er=ue(Tn);return er.onDestroy(()=>{Dt.forEach(rn=>zi(rn,Fn)),Or(Ye,N.toStyles)}),At.forEach(rn=>{X(Q,rn,[]).push(er)}),er}_buildPlayer(C,N,F){return N.length>0?this.driver.animate(C.element,N,C.duration,C.delay,C.easing,F):new le.ZN(C.duration,C.delay)}}class co{constructor(C,N,F){this.namespaceId=C,this.triggerName=N,this.element=F,this._player=new le.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(C){this._containsRealPlayer||(this._player=C,Object.keys(this._queuedCallbacks).forEach(N=>{this._queuedCallbacks[N].forEach(F=>he(C,N,void 0,F))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(C.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(C){this.totalTime=C}syncPlayerEvents(C){const N=this._player;N.triggerCallback&&C.onStart(()=>N.triggerCallback("start")),C.onDone(()=>this.finish()),C.onDestroy(()=>this.destroy())}_queueEvent(C,N){X(this._queuedCallbacks,C,[]).push(N)}onDone(C){this.queued&&this._queueEvent("done",C),this._player.onDone(C)}onStart(C){this.queued&&this._queueEvent("start",C),this._player.onStart(C)}onDestroy(C){this.queued&&this._queueEvent("destroy",C),this._player.onDestroy(C)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(C){this.queued||this._player.setPosition(C)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(C){const N=this._player;N.triggerCallback&&N.triggerCallback(C)}}function $r(K){return K&&1===K.nodeType}function Rs(K,C){const N=K.style.display;return K.style.display=null!=C?C:"none",N}function zs(K,C,N,F,Q){const de=[];N.forEach(Ye=>de.push(Rs(Ye)));const _e=[];F.forEach((Ye,lt)=>{const Dt={};Ye.forEach(At=>{const Tn=Dt[At]=C.computeStyle(lt,At,Q);(!Tn||0==Tn.length)&&(lt[nr]=bi,_e.push(lt))}),K.set(lt,Dt)});let Ne=0;return N.forEach(Ye=>Rs(Ye,de[Ne++])),_e}function Mo(K,C){const N=new Map;if(K.forEach(Ne=>N.set(Ne,[])),0==C.length)return N;const Q=new Set(C),de=new Map;function _e(Ne){if(!Ne)return 1;let Ye=de.get(Ne);if(Ye)return Ye;const lt=Ne.parentNode;return Ye=N.has(lt)?lt:Q.has(lt)?1:_e(lt),de.set(Ne,Ye),Ye}return C.forEach(Ne=>{const Ye=_e(Ne);1!==Ye&&N.get(Ye).push(Ne)}),N}const xs="$$classes";function Bi(K,C){if(K.classList)K.classList.add(C);else{let N=K[xs];N||(N=K[xs]={}),N[C]=!0}}function zi(K,C){if(K.classList)K.classList.remove(C);else{let N=K[xs];N&&delete N[C]}}function Ui(K,C,N){ue(N).onDone(()=>K.processLeaveNode(C))}function fo(K,C){for(let N=0;N<K.length;N++){const F=K[N];F instanceof le.ZE?fo(F.players,C):C.push(F)}}function eo(K,C,N){const F=N.get(K);if(!F)return!1;let Q=C.get(K);return Q?F.forEach(de=>Q.add(de)):C.set(K,F),N.delete(K),!0}class Ps{constructor(C,N,F){this.bodyNode=C,this._driver=N,this._normalizer=F,this._triggerCache={},this.onRemovalComplete=(Q,de)=>{},this._transitionEngine=new Nr(C,N,F),this._timelineEngine=new us(C,N,F),this._transitionEngine.onRemovalComplete=(Q,de)=>this.onRemovalComplete(Q,de)}registerTrigger(C,N,F,Q,de){const _e=C+"-"+Q;let Ne=this._triggerCache[_e];if(!Ne){const Ye=[],lt=Ge(this._driver,de,Ye);if(Ye.length)throw new Error(`The animation trigger "${Q}" has failed to build due to the following errors:\n - ${Ye.join("\n - ")}`);Ne=function(K,C,N){return new Kt(K,C,N)}(Q,lt,this._normalizer),this._triggerCache[_e]=Ne}this._transitionEngine.registerTrigger(N,Q,Ne)}register(C,N){this._transitionEngine.register(C,N)}destroy(C,N){this._transitionEngine.destroy(C,N)}onInsert(C,N,F,Q){this._transitionEngine.insertNode(C,N,F,Q)}onRemove(C,N,F,Q){this._transitionEngine.removeNode(C,N,Q||!1,F)}disableAnimations(C,N){this._transitionEngine.markElementAsDisabled(C,N)}process(C,N,F,Q){if("@"==F.charAt(0)){const[de,_e]=ie(F);this._timelineEngine.command(de,N,_e,Q)}else this._transitionEngine.trigger(C,N,F,Q)}listen(C,N,F,Q,de){if("@"==F.charAt(0)){const[_e,Ne]=ie(F);return this._timelineEngine.listen(_e,N,Ne,de)}return this._transitionEngine.listen(C,N,F,Q,de)}flush(C=-1){this._transitionEngine.flush(C)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ri(K,C){let N=null,F=null;return Array.isArray(C)&&C.length?(N=xi(C[0]),C.length>1&&(F=xi(C[C.length-1]))):C&&(N=xi(C)),N||F?new ks(K,N,F):null}let ks=(()=>{class K{constructor(N,F,Q){this._element=N,this._startStyles=F,this._endStyles=Q,this._state=0;let de=K.initialStylesByElement.get(N);de||K.initialStylesByElement.set(N,de={}),this._initialStyles=de}start(){this._state<1&&(this._startStyles&&Or(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Or(this._element,this._initialStyles),this._endStyles&&(Or(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(K.initialStylesByElement.delete(this._element),this._startStyles&&(En(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(En(this._element,this._endStyles),this._endStyles=null),Or(this._element,this._initialStyles),this._state=3)}}return K.initialStylesByElement=new WeakMap,K})();function xi(K){let C=null;const N=Object.keys(K);for(let F=0;F<N.length;F++){const Q=N[F];to(Q)&&(C=C||{},C[Q]=K[Q])}return C}function to(K){return"display"===K||"position"===K}const qi="animation",po="animationend";class go{constructor(C,N,F,Q,de,_e,Ne){this._element=C,this._name=N,this._duration=F,this._delay=Q,this._easing=de,this._fillMode=_e,this._onDoneFn=Ne,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Ye=>this._handleCallback(Ye)}apply(){(function(K,C){const N=Ci(K,"").trim();let F=0;N.length&&(function(K,C){let N=0;for(let F=0;F<K.length;F++)","===K.charAt(F)&&N++;return N}(N)+1,C=`${N}, ${C}`),Wn(K,"",C)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Go(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){mo(this._element,this._name,"paused")}resume(){mo(this._element,this._name,"running")}setPosition(C){const N=Oi(this._element,this._name);this._position=C*this._duration,Wn(this._element,"Delay",`-${this._position}ms`,N)}getPosition(){return this._position}_handleCallback(C){const N=C._ngTestManualTimestamp||Date.now(),F=1e3*parseFloat(C.elapsedTime.toFixed(3));C.animationName==this._name&&Math.max(N-this._startTime,0)>=this._delay&&F>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Go(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(K,C){const F=Ci(K,"").split(","),Q=Br(F,C);Q>=0&&(F.splice(Q,1),Wn(K,"",F.join(",")))}(this._element,this._name))}}function mo(K,C,N){Wn(K,"PlayState",N,Oi(K,C))}function Oi(K,C){const N=Ci(K,"");return N.indexOf(",")>0?Br(N.split(","),C):Br([N],C)}function Br(K,C){for(let N=0;N<K.length;N++)if(K[N].indexOf(C)>=0)return N;return-1}function Go(K,C,N){N?K.removeEventListener(po,C):K.addEventListener(po,C)}function Wn(K,C,N,F){const Q=qi+C;if(null!=F){const de=K.style[Q];if(de.length){const _e=de.split(",");_e[F]=N,N=_e.join(",")}}K.style[Q]=N}function Ci(K,C){return K.style[qi+C]||""}class Er{constructor(C,N,F,Q,de,_e,Ne,Ye){this.element=C,this.keyframes=N,this.animationName=F,this._duration=Q,this._delay=de,this._finalStyles=Ne,this._specialStyles=Ye,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=_e||"linear",this.totalTime=Q+de,this._buildStyler()}onStart(C){this._onStartFns.push(C)}onDone(C){this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(C=>C()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(C=>C()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(C){this._styler.setPosition(C)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new go(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(C){const N="start"==C?this._onStartFns:this._onDoneFns;N.forEach(F=>F()),N.length=0}beforeDestroy(){this.init();const C={};if(this.hasStarted()){const N=this._state>=3;Object.keys(this._finalStyles).forEach(F=>{"offset"!=F&&(C[F]=N?this._finalStyles[F]:Qt(this.element,F))})}this.currentSnapshot=C}}class Ti extends le.ZN{constructor(C,N){super(),this.element=C,this._startingStyles={},this.__initialized=!1,this._styles=Oe(N)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(C=>{this._startingStyles[C]=this.element.style[C]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(C=>this.element.style.setProperty(C,this._styles[C])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(C=>{const N=this._startingStyles[C];N?this.element.style.setProperty(C,N):this.element.style.removeProperty(C)}),this._startingStyles=null,super.destroy())}}class G{constructor(){this._count=0}validateStyleProperty(C){return Pt(C)}matchesElement(C,N){return mn(C,N)}containsElement(C,N){return xe(C,N)}query(C,N,F){return Ze(C,N,F)}computeStyle(C,N,F){return window.getComputedStyle(C)[N]}buildKeyframeElement(C,N,F){F=F.map(Ne=>Oe(Ne));let Q=`@keyframes ${N} {\n`,de="";F.forEach(Ne=>{de=" ";const Ye=parseFloat(Ne.offset);Q+=`${de}${100*Ye}% {\n`,de+=" ",Object.keys(Ne).forEach(lt=>{const Dt=Ne[lt];switch(lt){case"offset":return;case"easing":return void(Dt&&(Q+=`${de}animation-timing-function: ${Dt};\n`));default:return void(Q+=`${de}${lt}: ${Dt};\n`)}}),Q+=`${de}}\n`}),Q+="}\n";const _e=document.createElement("style");return _e.textContent=Q,_e}animate(C,N,F,Q,de,_e=[],Ne){const Ye=_e.filter(kn=>kn instanceof Er),lt={};or(F,Q)&&Ye.forEach(kn=>{let qr=kn.currentSnapshot;Object.keys(qr).forEach(vr=>lt[vr]=qr[vr])});const Dt=function(K){let C={};return K&&(Array.isArray(K)?K:[K]).forEach(F=>{Object.keys(F).forEach(Q=>{"offset"==Q||"easing"==Q||(C[Q]=F[Q])})}),C}(N=$n(C,N,lt));if(0==F)return new Ti(C,Dt);const At="gen_css_kf_"+this._count++,Tn=this.buildKeyframeElement(C,At,N);(function(K){var C;const N=null===(C=K.getRootNode)||void 0===C?void 0:C.call(K);return"undefined"!=typeof ShadowRoot&&N instanceof ShadowRoot?N:document.head})(C).appendChild(Tn);const rn=Ri(C,N),Dn=new Er(C,N,At,F,Q,de,Dt,rn);return Dn.onDestroy(()=>{var K;(K=Tn).parentNode.removeChild(K)}),Dn}}class L{constructor(C,N,F,Q){this.element=C,this.keyframes=N,this.options=F,this._specialStyles=Q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=F.duration,this._delay=F.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(C=>C()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const C=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,C,this.options),this._finalKeyframe=C.length?C[C.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(C,N,F){return C.animate(N,F)}onStart(C){this._onStartFns.push(C)}onDone(C){this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(C=>C()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}setPosition(C){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=C*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const C={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(N=>{"offset"!=N&&(C[N]=this._finished?this._finalKeyframe[N]:Qt(this.element,N))}),this.currentSnapshot=C}triggerCallback(C){const N="start"==C?this._onStartFns:this._onDoneFns;N.forEach(F=>F()),N.length=0}}class k{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ze().toString()),this._cssKeyframesDriver=new G}validateStyleProperty(C){return Pt(C)}matchesElement(C,N){return mn(C,N)}containsElement(C,N){return xe(C,N)}query(C,N,F){return Ze(C,N,F)}computeStyle(C,N,F){return window.getComputedStyle(C)[N]}overrideWebAnimationsSupport(C){this._isNativeImpl=C}animate(C,N,F,Q,de,_e=[],Ne){if(!Ne&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(C,N,F,Q,de,_e);const Dt={duration:F,delay:Q,fill:0==Q?"both":"forwards"};de&&(Dt.easing=de);const At={},Tn=_e.filter(rn=>rn instanceof L);or(F,Q)&&Tn.forEach(rn=>{let Dn=rn.currentSnapshot;Object.keys(Dn).forEach(kn=>At[kn]=Dn[kn])});const er=Ri(C,N=$n(C,N=N.map(rn=>ln(rn,!1)),At));return new L(C,N,Dt,er)}}function ze(){return Ce()&&Element.prototype.animate||{}}var Et=W(8583);let yn=(()=>{class K extends le._j{constructor(N,F){super(),this._nextAnimationId=0,this._renderer=N.createRenderer(F.body,{id:"0",encapsulation:I.ifc.None,styles:[],data:{animation:[]}})}build(N){const F=this._nextAnimationId.toString();this._nextAnimationId++;const Q=Array.isArray(N)?(0,le.vP)(N):N;return ui(this._renderer,null,F,"register",[Q]),new ir(F,this._renderer)}}return K.\u0275fac=function(N){return new(N||K)(I.LFG(I.FYo),I.LFG(Et.K0))},K.\u0275prov=I.Yz7({token:K,factory:K.\u0275fac}),K})();class ir extends le.LC{constructor(C,N){super(),this._id=C,this._renderer=N}create(C,N){return new lr(this._id,C,N||{},this._renderer)}}class lr{constructor(C,N,F,Q){this.id=C,this.element=N,this._renderer=Q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",F)}_listen(C,N){return this._renderer.listen(this.element,`@@${this.id}:${C}`,N)}_command(C,...N){return ui(this._renderer,this.element,this.id,C,N)}onDone(C){this._listen("done",C)}onStart(C){this._listen("start",C)}onDestroy(C){this._listen("destroy",C)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(C){this._command("setPosition",C)}getPosition(){var C,N;return null!==(N=null===(C=this._renderer.engine.players[+this.id])||void 0===C?void 0:C.getPosition())&&void 0!==N?N:0}}function ui(K,C,N,F,Q){return K.setProperty(C,`@@${N}:${F}`,Q)}const Ar="@.disabled";let on=(()=>{class K{constructor(N,F,Q){this.delegate=N,this.engine=F,this._zone=Q,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),F.onRemovalComplete=(de,_e)=>{_e&&_e.parentNode(de)&&_e.removeChild(de.parentNode,de)}}createRenderer(N,F){const de=this.delegate.createRenderer(N,F);if(!(N&&F&&F.data&&F.data.animation)){let Dt=this._rendererCache.get(de);return Dt||(Dt=new Vs("",de,this.engine),this._rendererCache.set(de,Dt)),Dt}const _e=F.id,Ne=F.id+"-"+this._currentId;this._currentId++,this.engine.register(Ne,N);const Ye=Dt=>{Array.isArray(Dt)?Dt.forEach(Ye):this.engine.registerTrigger(_e,Ne,N,Dt.name,Dt)};return F.data.animation.forEach(Ye),new _o(this,Ne,de,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(N,F,Q){N>=0&&N<this._microtaskId?this._zone.run(()=>F(Q)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(de=>{const[_e,Ne]=de;_e(Ne)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([F,Q]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return K.\u0275fac=function(N){return new(N||K)(I.LFG(I.FYo),I.LFG(Ps),I.LFG(I.R0b))},K.\u0275prov=I.Yz7({token:K,factory:K.\u0275fac}),K})();class Vs{constructor(C,N,F){this.namespaceId=C,this.delegate=N,this.engine=F,this.destroyNode=this.delegate.destroyNode?Q=>N.destroyNode(Q):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(C,N){return this.delegate.createElement(C,N)}createComment(C){return this.delegate.createComment(C)}createText(C){return this.delegate.createText(C)}appendChild(C,N){this.delegate.appendChild(C,N),this.engine.onInsert(this.namespaceId,N,C,!1)}insertBefore(C,N,F,Q=!0){this.delegate.insertBefore(C,N,F),this.engine.onInsert(this.namespaceId,N,C,Q)}removeChild(C,N,F){this.engine.onRemove(this.namespaceId,N,this.delegate,F)}selectRootElement(C,N){return this.delegate.selectRootElement(C,N)}parentNode(C){return this.delegate.parentNode(C)}nextSibling(C){return this.delegate.nextSibling(C)}setAttribute(C,N,F,Q){this.delegate.setAttribute(C,N,F,Q)}removeAttribute(C,N,F){this.delegate.removeAttribute(C,N,F)}addClass(C,N){this.delegate.addClass(C,N)}removeClass(C,N){this.delegate.removeClass(C,N)}setStyle(C,N,F,Q){this.delegate.setStyle(C,N,F,Q)}removeStyle(C,N,F){this.delegate.removeStyle(C,N,F)}setProperty(C,N,F){"@"==N.charAt(0)&&N==Ar?this.disableAnimations(C,!!F):this.delegate.setProperty(C,N,F)}setValue(C,N){this.delegate.setValue(C,N)}listen(C,N,F){return this.delegate.listen(C,N,F)}disableAnimations(C,N){this.engine.disableAnimations(C,N)}}class _o extends Vs{constructor(C,N,F,Q){super(N,F,Q),this.factory=C,this.namespaceId=N}setProperty(C,N,F){"@"==N.charAt(0)?"."==N.charAt(1)&&N==Ar?this.disableAnimations(C,F=void 0===F||!!F):this.engine.process(this.namespaceId,C,N.substr(1),F):this.delegate.setProperty(C,N,F)}listen(C,N,F){if("@"==N.charAt(0)){const Q=function(K){switch(K){case"body":return document.body;case"document":return document;case"window":return window;default:return K}}(C);let de=N.substr(1),_e="";return"@"!=de.charAt(0)&&([de,_e]=function(K){const C=K.indexOf(".");return[K.substring(0,C),K.substr(C+1)]}(de)),this.engine.listen(this.namespaceId,Q,de,_e,Ne=>{this.factory.scheduleListenerCallback(Ne._data||-1,F,Ne)})}return this.delegate.listen(C,N,F)}}let Ro=(()=>{class K extends Ps{constructor(N,F,Q){super(N.body,F,Q)}ngOnDestroy(){this.flush()}}return K.\u0275fac=function(N){return new(N||K)(I.LFG(Et.K0),I.LFG(Ke),I.LFG(fn))},K.\u0275prov=I.Yz7({token:K,factory:K.\u0275fac}),K})();const Un=new I.OlP("AnimationModuleType"),vo=[{provide:le._j,useClass:yn},{provide:fn,useFactory:function(){return new Mi}},{provide:Ps,useClass:Ro},{provide:I.FYo,useFactory:function(K,C,N){return new on(K,C,N)},deps:[c.se,Ps,I.R0b]}],Xr=[{provide:Ke,useFactory:function(){return"function"==typeof ze()?new k:new G}},{provide:Un,useValue:"BrowserAnimations"},...vo],va=[{provide:Ke,useClass:Je},{provide:Un,useValue:"NoopAnimations"},...vo];let no=(()=>{class K{static withConfig(N){return{ngModule:K,providers:N.disableAnimations?va:Xr}}}return K.\u0275fac=function(N){return new(N||K)},K.\u0275mod=I.oAB({type:K}),K.\u0275inj=I.cJS({providers:Xr,imports:[c.b2]}),K})()},9075:(Tt,He,W)=>{"use strict";W.d(He,{b2:()=>li,q6:()=>Xn,se:()=>dr});var I=W(8583),c=W(7716);class le extends I.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends le{static makeCurrent(){(0,I.HT)(new Ce)}onAndCancel(Re,ve,qe){return Re.addEventListener(ve,qe,!1),()=>{Re.removeEventListener(ve,qe,!1)}}dispatchEvent(Re,ve){Re.dispatchEvent(ve)}remove(Re){Re.parentNode&&Re.parentNode.removeChild(Re)}createElement(Re,ve){return(ve=ve||this.getDefaultDocument()).createElement(Re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Re){return Re.nodeType===Node.ELEMENT_NODE}isShadowRoot(Re){return Re instanceof DocumentFragment}getGlobalEventTarget(Re,ve){return"window"===ve?window:"document"===ve?Re:"body"===ve?Re.body:null}getBaseHref(Re){const ve=(Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null);return null==ve?null:function(Ve){ge=ge||document.createElement("a"),ge.setAttribute("href",Ve);const Re=ge.pathname;return"/"===Re.charAt(0)?Re:`/${Re}`}(ve)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(Re){return(0,I.Mx)(document.cookie,Re)}}let ge,Te=null;const se=new c.OlP("TRANSITION_ID"),X=[{provide:c.ip1,useFactory:function(Ve,Re,ve){return()=>{ve.get(c.CZH).donePromise.then(()=>{const qe=(0,I.q)(),dt=Re.querySelectorAll(`style[ng-transition="${Ve}"]`);for(let Kt=0;Kt<dt.length;Kt++)qe.remove(dt[Kt])})}},deps:[se,I.K0,c.zs3],multi:!0}];class ie{static init(){(0,c.VLi)(new ie)}addToWindow(Re){c.dqk.getAngularTestability=(qe,dt=!0)=>{const Kt=Re.findTestabilityInTree(qe,dt);if(null==Kt)throw new Error("Could not find testability for element.");return Kt},c.dqk.getAllAngularTestabilities=()=>Re.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>Re.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(qe=>{const dt=c.dqk.getAllAngularTestabilities();let Kt=dt.length,en=!1;const Sn=function(_n){en=en||_n,Kt--,0==Kt&&qe(en)};dt.forEach(function(_n){_n.whenStable(Sn)})})}findTestabilityInTree(Re,ve,qe){if(null==ve)return null;const dt=Re.getTestability(ve);return null!=dt?dt:qe?(0,I.q)().isShadowRoot(ve)?this.findTestabilityInTree(Re,ve.host,!0):this.findTestabilityInTree(Re,ve.parentElement,!0):null}}let ye=(()=>{class Ve{build(){return new XMLHttpRequest}}return Ve.\u0275fac=function(ve){return new(ve||Ve)},Ve.\u0275prov=c.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const Je=new c.OlP("EventManagerPlugins");let Ke=(()=>{class Ve{constructor(ve,qe){this._zone=qe,this._eventNameToPlugin=new Map,ve.forEach(dt=>dt.manager=this),this._plugins=ve.slice().reverse()}addEventListener(ve,qe,dt){return this._findPluginFor(qe).addEventListener(ve,qe,dt)}addGlobalEventListener(ve,qe,dt){return this._findPluginFor(qe).addGlobalEventListener(ve,qe,dt)}getZone(){return this._zone}_findPluginFor(ve){const qe=this._eventNameToPlugin.get(ve);if(qe)return qe;const dt=this._plugins;for(let Kt=0;Kt<dt.length;Kt++){const en=dt[Kt];if(en.supports(ve))return this._eventNameToPlugin.set(ve,en),en}throw new Error(`No event manager plugin found for event ${ve}`)}}return Ve.\u0275fac=function(ve){return new(ve||Ve)(c.LFG(Je),c.LFG(c.R0b))},Ve.\u0275prov=c.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();class Xe{constructor(Re){this._doc=Re}addGlobalEventListener(Re,ve,qe){const dt=(0,I.q)().getGlobalEventTarget(this._doc,Re);if(!dt)throw new Error(`Unsupported event target ${dt} for event ${ve}`);return this.addEventListener(dt,ve,qe)}}let je=(()=>{class Ve{constructor(){this._stylesSet=new Set}addStyles(ve){const qe=new Set;ve.forEach(dt=>{this._stylesSet.has(dt)||(this._stylesSet.add(dt),qe.add(dt))}),this.onStylesAdded(qe)}onStylesAdded(ve){}getAllStyles(){return Array.from(this._stylesSet)}}return Ve.\u0275fac=function(ve){return new(ve||Ve)},Ve.\u0275prov=c.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),pt=(()=>{class Ve extends je{constructor(ve){super(),this._doc=ve,this._hostNodes=new Map,this._hostNodes.set(ve.head,[])}_addStylesToHost(ve,qe,dt){ve.forEach(Kt=>{const en=this._doc.createElement("style");en.textContent=Kt,dt.push(qe.appendChild(en))})}addHost(ve){const qe=[];this._addStylesToHost(this._stylesSet,ve,qe),this._hostNodes.set(ve,qe)}removeHost(ve){const qe=this._hostNodes.get(ve);qe&&qe.forEach(bt),this._hostNodes.delete(ve)}onStylesAdded(ve){this._hostNodes.forEach((qe,dt)=>{this._addStylesToHost(ve,dt,qe)})}ngOnDestroy(){this._hostNodes.forEach(ve=>ve.forEach(bt))}}return Ve.\u0275fac=function(ve){return new(ve||Ve)(c.LFG(I.K0))},Ve.\u0275prov=c.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();function bt(Ve){(0,I.q)().remove(Ve)}const Ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vt=/%COMP%/g;function Zt(Ve,Re,ve){for(let qe=0;qe<Re.length;qe++){let dt=Re[qe];Array.isArray(dt)?Zt(Ve,dt,ve):(dt=dt.replace(Vt,Ve),ve.push(dt))}return ve}function Ut(Ve){return Re=>{if("__ngUnwrap__"===Re)return Ve;!1===Ve(Re)&&(Re.preventDefault(),Re.returnValue=!1)}}let dr=(()=>{class Ve{constructor(ve,qe,dt){this.eventManager=ve,this.sharedStylesHost=qe,this.appId=dt,this.rendererByCompId=new Map,this.defaultRenderer=new xr(ve)}createRenderer(ve,qe){if(!ve||!qe)return this.defaultRenderer;switch(qe.encapsulation){case c.ifc.Emulated:{let dt=this.rendererByCompId.get(qe.id);return dt||(dt=new Or(this.eventManager,this.sharedStylesHost,qe,this.appId),this.rendererByCompId.set(qe.id,dt)),dt.applyToHost(ve),dt}case 1:case c.ifc.ShadowDom:return new En(this.eventManager,this.sharedStylesHost,ve,qe);default:if(!this.rendererByCompId.has(qe.id)){const dt=Zt(qe.id,qe.styles,[]);this.sharedStylesHost.addStyles(dt),this.rendererByCompId.set(qe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ve.\u0275fac=function(ve){return new(ve||Ve)(c.LFG(Ke),c.LFG(pt),c.LFG(c.AFp))},Ve.\u0275prov=c.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();class xr{constructor(Re){this.eventManager=Re,this.data=Object.create(null)}destroy(){}createElement(Re,ve){return ve?document.createElementNS(Ft[ve]||ve,Re):document.createElement(Re)}createComment(Re){return document.createComment(Re)}createText(Re){return document.createTextNode(Re)}appendChild(Re,ve){Re.appendChild(ve)}insertBefore(Re,ve,qe){Re&&Re.insertBefore(ve,qe)}removeChild(Re,ve){Re&&Re.removeChild(ve)}selectRootElement(Re,ve){let qe="string"==typeof Re?document.querySelector(Re):Re;if(!qe)throw new Error(`The selector "${Re}" did not match any elements`);return ve||(qe.textContent=""),qe}parentNode(Re){return Re.parentNode}nextSibling(Re){return Re.nextSibling}setAttribute(Re,ve,qe,dt){if(dt){ve=dt+":"+ve;const Kt=Ft[dt];Kt?Re.setAttributeNS(Kt,ve,qe):Re.setAttribute(ve,qe)}else Re.setAttribute(ve,qe)}removeAttribute(Re,ve,qe){if(qe){const dt=Ft[qe];dt?Re.removeAttributeNS(dt,ve):Re.removeAttribute(`${qe}:${ve}`)}else Re.removeAttribute(ve)}addClass(Re,ve){Re.classList.add(ve)}removeClass(Re,ve){Re.classList.remove(ve)}setStyle(Re,ve,qe,dt){dt&(c.JOm.DashCase|c.JOm.Important)?Re.style.setProperty(ve,qe,dt&c.JOm.Important?"important":""):Re.style[ve]=qe}removeStyle(Re,ve,qe){qe&c.JOm.DashCase?Re.style.removeProperty(ve):Re.style[ve]=""}setProperty(Re,ve,qe){Re[ve]=qe}setValue(Re,ve){Re.nodeValue=ve}listen(Re,ve,qe){return"string"==typeof Re?this.eventManager.addGlobalEventListener(Re,ve,Ut(qe)):this.eventManager.addEventListener(Re,ve,Ut(qe))}}class Or extends xr{constructor(Re,ve,qe,dt){super(Re),this.component=qe;const Kt=Zt(dt+"-"+qe.id,qe.styles,[]);ve.addStyles(Kt),this.contentAttr="_ngcontent-%COMP%".replace(Vt,dt+"-"+qe.id),this.hostAttr="_nghost-%COMP%".replace(Vt,dt+"-"+qe.id)}applyToHost(Re){super.setAttribute(Re,this.hostAttr,"")}createElement(Re,ve){const qe=super.createElement(Re,ve);return super.setAttribute(qe,this.contentAttr,""),qe}}class En extends xr{constructor(Re,ve,qe,dt){super(Re),this.sharedStylesHost=ve,this.hostEl=qe,this.shadowRoot=qe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Kt=Zt(dt.id,dt.styles,[]);for(let en=0;en<Kt.length;en++){const Sn=document.createElement("style");Sn.textContent=Kt[en],this.shadowRoot.appendChild(Sn)}}nodeOrShadowRoot(Re){return Re===this.hostEl?this.shadowRoot:Re}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Re,ve){return super.appendChild(this.nodeOrShadowRoot(Re),ve)}insertBefore(Re,ve,qe){return super.insertBefore(this.nodeOrShadowRoot(Re),ve,qe)}removeChild(Re,ve){return super.removeChild(this.nodeOrShadowRoot(Re),ve)}parentNode(Re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Re)))}}let Pr=(()=>{class Ve extends Xe{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,qe,dt){return ve.addEventListener(qe,dt,!1),()=>this.removeEventListener(ve,qe,dt)}removeEventListener(ve,qe,dt){return ve.removeEventListener(qe,dt)}}return Ve.\u0275fac=function(ve){return new(ve||Ve)(c.LFG(I.K0))},Ve.\u0275prov=c.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const $n=["alt","control","meta","shift"],Qt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ai={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kr={alt:Ve=>Ve.altKey,control:Ve=>Ve.ctrlKey,meta:Ve=>Ve.metaKey,shift:Ve=>Ve.shiftKey};let Bn=(()=>{class Ve extends Xe{constructor(ve){super(ve)}supports(ve){return null!=Ve.parseEventName(ve)}addEventListener(ve,qe,dt){const Kt=Ve.parseEventName(qe),en=Ve.eventCallback(Kt.fullKey,dt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.q)().onAndCancel(ve,Kt.domEventName,en))}static parseEventName(ve){const qe=ve.toLowerCase().split("."),dt=qe.shift();if(0===qe.length||"keydown"!==dt&&"keyup"!==dt)return null;const Kt=Ve._normalizeKey(qe.pop());let en="";if($n.forEach(_n=>{const us=qe.indexOf(_n);us>-1&&(qe.splice(us,1),en+=_n+".")}),en+=Kt,0!=qe.length||0===Kt.length)return null;const Sn={};return Sn.domEventName=dt,Sn.fullKey=en,Sn}static getEventFullKey(ve){let qe="",dt=function(Ve){let Re=Ve.key;if(null==Re){if(Re=Ve.keyIdentifier,null==Re)return"Unidentified";Re.startsWith("U+")&&(Re=String.fromCharCode(parseInt(Re.substring(2),16)),3===Ve.location&&ai.hasOwnProperty(Re)&&(Re=ai[Re]))}return Qt[Re]||Re}(ve);return dt=dt.toLowerCase()," "===dt?dt="space":"."===dt&&(dt="dot"),$n.forEach(Kt=>{Kt!=dt&&kr[Kt](ve)&&(qe+=Kt+".")}),qe+=dt,qe}static eventCallback(ve,qe,dt){return Kt=>{Ve.getEventFullKey(Kt)===ve&&dt.runGuarded(()=>qe(Kt))}}static _normalizeKey(ve){switch(ve){case"esc":return"escape";default:return ve}}}return Ve.\u0275fac=function(ve){return new(ve||Ve)(c.LFG(I.K0))},Ve.\u0275prov=c.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const Xn=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:I.bD},{provide:c.g9A,useValue:function(){Ce.makeCurrent(),ie.init()},multi:!0},{provide:I.K0,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),nn=[[],{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:Je,useClass:Pr,multi:!0,deps:[I.K0,c.R0b,c.Lbi]},{provide:Je,useClass:Bn,multi:!0,deps:[I.K0]},[],{provide:dr,useClass:dr,deps:[Ke,pt,c.AFp]},{provide:c.FYo,useExisting:dr},{provide:je,useExisting:pt},{provide:pt,useClass:pt,deps:[I.K0]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Ke,useClass:Ke,deps:[Je,c.R0b]},{provide:I.JF,useClass:ye,deps:[]},[]];let li=(()=>{class Ve{constructor(ve){if(ve)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ve){return{ngModule:Ve,providers:[{provide:c.AFp,useValue:ve.appId},{provide:se,useExisting:c.AFp},X]}}}return Ve.\u0275fac=function(ve){return new(ve||Ve)(c.LFG(Ve,12))},Ve.\u0275mod=c.oAB({type:Ve}),Ve.\u0275inj=c.cJS({providers:nn,imports:[I.ez,c.hGG]}),Ve})();"undefined"!=typeof window&&window},3507:(Tt,He,W)=>{"use strict";W.d(He,{F0:()=>mr,rH:()=>Dr,yS:()=>bo,Bz:()=>La,lC:()=>hs});var I=W(8583),c=W(7716),le=W(7574),Ce=W(4402),Te=W(9193);function ue(P){return new le.y(R=>{let S;try{S=P()}catch(z){return void R.error(z)}return(S?(0,Ce.D)(S):(0,Te.c)()).subscribe(R)})}var ge=W(5917),he=W(6215),se=W(9112),re=W(3410),X=W(8071),ie=W(2441),ye=W(9765),Me=W(5345);function ke(P){return function(S){const V=new Be(P),z=S.lift(V);return V.caught=z}}class Be{constructor(R){this.selector=R}call(R,S){return S.subscribe(new be(R,this.selector,this.caught))}}class be extends Me.Ds{constructor(R,S,V){super(R),this.selector=S,this.caught=V}error(R){if(!this.isStopped){let S;try{S=this.selector(R,this.caught)}catch(Z){return void super.error(Z)}this._unsubscribeAndRecycle();const V=new Me.IY(this);this.add(V);const z=(0,Me.ft)(S,V);z!==V&&this.add(z)}}}var $e=W(9773);function ht(P,R){return(0,$e.zg)(P,R,1)}var kt=W(5435),tt=W(7393),it=W(7108);function Pt(P){return function(S){return 0===P?(0,Te.c)():S.lift(new qt(P))}}class qt{constructor(R){if(this.total=R,this.total<0)throw new it.W}call(R,S){return S.subscribe(new mn(R,this.total))}}class mn extends tt.L{constructor(R,S){super(R),this.total=S,this.ring=new Array,this.count=0}_next(R){const S=this.ring,V=this.total,z=this.count++;S.length<V?S.push(R):S[z%V]=R}_complete(){const R=this.destination;let S=this.count;if(S>0){const V=this.count>=this.total?this.total:this.count,z=this.ring;for(let Z=0;Z<V;Z++){const ee=S++%V;R.next(z[ee])}}R.complete()}}var xe=W(4635),Ze=W(5242),Oe=W(4487),Ke=W(5319);class je{constructor(R){this.callback=R}call(R,S){return S.subscribe(new pt(R,this.callback))}}class pt extends tt.L{constructor(R,S){super(R),this.add(new Ke.w(S))}}var bt=W(8002),Ft=W(3190),Vt=W(5257),Nt=W(9761),Lt=W(2145),Jt=W(8049),Fn=W(8307),zr=W(1307),Ht=W(3282);class Zt{constructor(R,S){this.id=R,this.url=S}}class Ut extends Zt{constructor(R,S,V="imperative",z=null){super(R,S),this.navigationTrigger=V,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class An extends Zt{constructor(R,S,V){super(R,S),this.urlAfterRedirects=V}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dr extends Zt{constructor(R,S,V){super(R,S),this.reason=V}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xr extends Zt{constructor(R,S,V){super(R,S),this.error=V}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ln extends Zt{constructor(R,S,V,z){super(R,S),this.urlAfterRedirects=V,this.state=z}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _r extends Zt{constructor(R,S,V,z){super(R,S),this.urlAfterRedirects=V,this.state=z}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mn extends Zt{constructor(R,S,V,z,Z){super(R,S),this.urlAfterRedirects=V,this.state=z,this.shouldActivate=Z}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Or extends Zt{constructor(R,S,V,z){super(R,S),this.urlAfterRedirects=V,this.state=z}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class En extends Zt{constructor(R,S,V,z){super(R,S),this.urlAfterRedirects=V,this.state=z}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr{constructor(R){this.route=R}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jt{constructor(R){this.route=R}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class br{constructor(R){this.snapshot=R}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ai{constructor(R){this.snapshot=R}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(R){this.snapshot=R}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xt{constructor(R){this.snapshot=R}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gt{constructor(R,S,V){this.routerEvent=R,this.position=S,this.anchor=V}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xt="primary";class Ln{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const S=this.params[R];return Array.isArray(S)?S[0]:S}return null}getAll(R){if(this.has(R)){const S=this.params[R];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function or(P){return new Ln(P)}const $n="ngNavigationCancelingError";function wt(P){const R=Error("NavigationCancelingError: "+P);return R[$n]=!0,R}function ai(P,R,S){const V=S.path.split("/");if(V.length>P.length||"full"===S.pathMatch&&(R.hasChildren()||V.length<P.length))return null;const z={};for(let Z=0;Z<V.length;Z++){const ee=V[Z],fe=P[Z];if(ee.startsWith(":"))z[ee.substring(1)]=fe;else if(ee!==fe.path)return null}return{consumed:P.slice(0,V.length),posParams:z}}function Sr(P,R){const S=P?Object.keys(P):void 0,V=R?Object.keys(R):void 0;if(!S||!V||S.length!=V.length)return!1;let z;for(let Z=0;Z<S.length;Z++)if(z=S[Z],!ar(P[z],R[z]))return!1;return!0}function ar(P,R){if(Array.isArray(P)&&Array.isArray(R)){if(P.length!==R.length)return!1;const S=[...P].sort(),V=[...R].sort();return S.every((z,Z)=>V[Z]===z)}return P===R}function Qr(P){return Array.prototype.concat.apply([],P)}function kr(P){return P.length>0?P[P.length-1]:null}function Ee(P,R){for(const S in P)P.hasOwnProperty(S)&&R(P[S],S)}function we(P){return(0,c.CqO)(P)?P:(0,c.QGY)(P)?(0,Ce.D)(Promise.resolve(P)):(0,ge.of)(P)}const nt={exact:function dn(P,R,S){if(!vi(P.segments,R.segments)||!Kn(P.segments,R.segments,S)||P.numberOfChildren!==R.numberOfChildren)return!1;for(const V in R.children)if(!P.children[V]||!dn(P.children[V],R.children[V],S))return!1;return!0},subset:Rn},We={exact:function(P,R){return Sr(P,R)},subset:function(P,R){return Object.keys(R).length<=Object.keys(P).length&&Object.keys(R).every(S=>ar(P[S],R[S]))},ignored:()=>!0};function vt(P,R,S){return nt[S.paths](P.root,R.root,S.matrixParams)&&We[S.queryParams](P.queryParams,R.queryParams)&&!("exact"===S.fragment&&P.fragment!==R.fragment)}function Rn(P,R,S){return Fr(P,R,R.segments,S)}function Fr(P,R,S,V){if(P.segments.length>S.length){const z=P.segments.slice(0,S.length);return!(!vi(z,S)||R.hasChildren()||!Kn(z,S,V))}if(P.segments.length===S.length){if(!vi(P.segments,S)||!Kn(P.segments,S,V))return!1;for(const z in R.children)if(!P.children[z]||!Rn(P.children[z],R.children[z],V))return!1;return!0}{const z=S.slice(0,P.segments.length),Z=S.slice(P.segments.length);return!!(vi(P.segments,z)&&Kn(P.segments,z,V)&&P.children[xt])&&Fr(P.children[xt],R,Z,V)}}function Kn(P,R,S){return R.every((V,z)=>We[S](P[z].parameters,V.parameters))}class Xn{constructor(R,S,V){this.root=R,this.queryParams=S,this.fragment=V}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=or(this.queryParams)),this._queryParamMap}toString(){return fr.serialize(this)}}class nn{constructor(R,S){this.segments=R,this.children=S,this.parent=null,Ee(S,(V,z)=>V.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pr(this)}}class li{constructor(R,S){this.path=R,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=or(this.parameters)),this._parameterMap}toString(){return fn(this)}}function vi(P,R){return P.length===R.length&&P.every((S,V)=>S.path===R[V].path)}class ws{}class Cr{parse(R){const S=new ve(R);return new Xn(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(R){var P;return`${`/${gr(R.root,!0)}`}${function(P){const R=Object.keys(P).map(S=>{const V=P[S];return Array.isArray(V)?V.map(z=>`${wr(S)}=${wr(z)}`).join("&"):`${wr(S)}=${wr(V)}`}).filter(S=>!!S);return R.length?`?${R.join("&")}`:""}(R.queryParams)}${"string"==typeof R.fragment?`#${P=R.fragment,encodeURI(P)}`:""}`}}const fr=new Cr;function pr(P){return P.segments.map(R=>fn(R)).join("/")}function gr(P,R){if(!P.hasChildren())return pr(P);if(R){const S=P.children[xt]?gr(P.children[xt],!1):"",V=[];return Ee(P.children,(z,Z)=>{Z!==xt&&V.push(`${Z}:${gr(z,!1)}`)}),V.length>0?`${S}(${V.join("//")})`:S}{const S=function(P,R){let S=[];return Ee(P.children,(V,z)=>{z===xt&&(S=S.concat(R(V,z)))}),Ee(P.children,(V,z)=>{z!==xt&&(S=S.concat(R(V,z)))}),S}(P,(V,z)=>z===xt?[gr(P.children[xt],!1)]:[`${z}:${gr(V,!1)}`]);return 1===Object.keys(P.children).length&&null!=P.children[xt]?`${pr(P)}/${S[0]}`:`${pr(P)}/(${S.join("//")})`}}function Es(P){return encodeURIComponent(P).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wr(P){return Es(P).replace(/%3B/gi,";")}function hn(P){return Es(P).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hn(P){return decodeURIComponent(P)}function Gn(P){return Hn(P.replace(/\+/g,"%20"))}function fn(P){return`${hn(P.path)}${function(P){return Object.keys(P).map(R=>`;${hn(R)}=${hn(P[R])}`).join("")}(P.parameters)}`}const Lr=/^[^\/()?;=#]+/;function Ds(P){const R=P.match(Lr);return R?R[0]:""}const Cs=/^[^=?&#]+/,Ve=/^[^?&#]+/;class ve{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let V={};return this.peekStartsWith("(")&&(V=this.parseParens(!1)),(R.length>0||Object.keys(S).length>0)&&(V[xt]=new nn(R,S)),V}parseSegment(){const R=Ds(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(R),new li(Hn(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const S=Ds(this.remaining);if(!S)return;this.capture(S);let V="";if(this.consumeOptional("=")){const z=Ds(this.remaining);z&&(V=z,this.capture(V))}R[Hn(S)]=Hn(V)}parseQueryParam(R){const S=function(P){const R=P.match(Cs);return R?R[0]:""}(this.remaining);if(!S)return;this.capture(S);let V="";if(this.consumeOptional("=")){const ee=function(P){const R=P.match(Ve);return R?R[0]:""}(this.remaining);ee&&(V=ee,this.capture(V))}const z=Gn(S),Z=Gn(V);if(R.hasOwnProperty(z)){let ee=R[z];Array.isArray(ee)||(ee=[ee],R[z]=ee),ee.push(Z)}else R[z]=Z}parseParens(R){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const V=Ds(this.remaining),z=this.remaining[V.length];if("/"!==z&&")"!==z&&";"!==z)throw new Error(`Cannot parse url '${this.url}'`);let Z;V.indexOf(":")>-1?(Z=V.substr(0,V.indexOf(":")),this.capture(Z),this.capture(":")):R&&(Z=xt);const ee=this.parseChildren();S[Z]=1===Object.keys(ee).length?ee[xt]:new nn([],ee),this.consumeOptional("//")}return S}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new Error(`Expected "${R}".`)}}class qe{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const S=this.pathFromRoot(R);return S.length>1?S[S.length-2]:null}children(R){const S=dt(R,this._root);return S?S.children.map(V=>V.value):[]}firstChild(R){const S=dt(R,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(R){const S=Kt(R,this._root);return S.length<2?[]:S[S.length-2].children.map(z=>z.value).filter(z=>z!==R)}pathFromRoot(R){return Kt(R,this._root).map(S=>S.value)}}function dt(P,R){if(P===R.value)return R;for(const S of R.children){const V=dt(P,S);if(V)return V}return null}function Kt(P,R){if(P===R.value)return[R];for(const S of R.children){const V=Kt(P,S);if(V.length)return V.unshift(R),V}return[]}class en{constructor(R,S){this.value=R,this.children=S}toString(){return`TreeNode(${this.value})`}}function Sn(P){const R={};return P&&P.children.forEach(S=>R[S.value.outlet]=S),R}class _n extends qe{constructor(R,S){super(R),this.snapshot=S,Vr(this,R)}toString(){return this.snapshot.toString()}}function us(P,R){const S=function(P,R){const ee=new Li([],{},{},"",{},xt,R,null,P.root,-1,{});return new es("",new en(ee,[]))}(P,R),V=new he.X([new li("",{})]),z=new he.X({}),Z=new he.X({}),ee=new he.X({}),fe=new he.X(""),st=new Gi(V,z,ee,fe,Z,xt,R,S.root);return st.snapshot=S.root,new _n(new en(st,[]),S)}class Gi{constructor(R,S,V,z,Z,ee,fe,st){this.url=R,this.params=S,this.queryParams=V,this.fragment=z,this.data=Z,this.outlet=ee,this.component=fe,this._futureSnapshot=st}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(R=>or(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(R=>or(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wi(P,R="emptyOnly"){const S=P.pathFromRoot;let V=0;if("always"!==R)for(V=S.length-1;V>=1;){const z=S[V],Z=S[V-1];if(z.routeConfig&&""===z.routeConfig.path)V--;else{if(Z.component)break;V--}}return function(P){return P.reduce((R,S)=>({params:Object.assign(Object.assign({},R.params),S.params),data:Object.assign(Object.assign({},R.data),S.data),resolve:Object.assign(Object.assign({},R.resolve),S._resolvedData)}),{params:{},data:{},resolve:{}})}(S.slice(V))}class Li{constructor(R,S,V,z,Z,ee,fe,st,$t,Qn,cn){this.url=R,this.params=S,this.queryParams=V,this.fragment=z,this.data=Z,this.outlet=ee,this.component=fe,this.routeConfig=st,this._urlSegment=$t,this._lastPathIndex=Qn,this._resolve=cn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=or(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=or(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(V=>V.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class es extends qe{constructor(R,S){super(S),this.url=R,Vr(this,S)}toString(){return Ao(this._root)}}function Vr(P,R){R.value._routerState=P,R.children.forEach(S=>Vr(P,S))}function Ao(P){const R=P.children.length>0?` { ${P.children.map(Ao).join(", ")} } `:"";return`${P.value}${R}`}function bi(P){if(P.snapshot){const R=P.snapshot,S=P._futureSnapshot;P.snapshot=S,Sr(R.queryParams,S.queryParams)||P.queryParams.next(S.queryParams),R.fragment!==S.fragment&&P.fragment.next(S.fragment),Sr(R.params,S.params)||P.params.next(S.params),function(P,R){if(P.length!==R.length)return!1;for(let S=0;S<P.length;++S)if(!Sr(P[S],R[S]))return!1;return!0}(R.url,S.url)||P.url.next(S.url),Sr(R.data,S.data)||P.data.next(S.data)}else P.snapshot=P._futureSnapshot,P.data.next(P._futureSnapshot.data)}function nr(P,R){return Sr(P.params,R.params)&&function(P,R){return vi(P,R)&&P.every((S,V)=>Sr(S.parameters,R[V].parameters))}(P.url,R.url)&&!(!P.parent!=!R.parent)&&(!P.parent||nr(P.parent,R.parent))}function Vi(P,R,S){if(S&&P.shouldReuseRoute(R.value,S.value.snapshot)){const V=S.value;V._futureSnapshot=R.value;const z=function(P,R,S){return R.children.map(V=>{for(const z of S.children)if(P.shouldReuseRoute(V.value,z.value.snapshot))return Vi(P,V,z);return Vi(P,V)})}(P,R,S);return new en(V,z)}{if(P.shouldAttach(R.value)){const Z=P.retrieve(R.value);if(null!==Z){const ee=Z.route;return ii(R,ee),ee}}const V=function(P){return new Gi(new he.X(P.url),new he.X(P.params),new he.X(P.queryParams),new he.X(P.fragment),new he.X(P.data),P.outlet,P.component,P)}(R.value),z=R.children.map(Z=>Vi(P,Z));return new en(V,z)}}function ii(P,R){if(P.value.routeConfig!==R.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(P.children.length!==R.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");R.value._futureSnapshot=P.value;for(let S=0;S<P.children.length;++S)ii(P.children[S],R.children[S])}function cs(P){return"object"==typeof P&&null!=P&&!P.outlets&&!P.segmentPath}function Ei(P){return"object"==typeof P&&null!=P&&P.outlets}function $r(P,R,S,V,z){let Z={};return V&&Ee(V,(ee,fe)=>{Z[fe]=Array.isArray(ee)?ee.map(st=>`${st}`):`${ee}`}),new Xn(S.root===P?R:ho(S.root,P,R),Z,z)}function ho(P,R,S){const V={};return Ee(P.children,(z,Z)=>{V[Z]=z===R?S:ho(z,R,S)}),new nn(P.segments,V)}class Rs{constructor(R,S,V){if(this.isAbsolute=R,this.numberOfDoubleDots=S,this.commands=V,R&&V.length>0&&cs(V[0]))throw new Error("Root segment cannot have matrix parameters");const z=V.find(Ei);if(z&&z!==kr(V))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mo{constructor(R,S,V){this.segmentGroup=R,this.processChildren=S,this.index=V}}function zi(P,R,S){if(P||(P=new nn([],{})),0===P.segments.length&&P.hasChildren())return Ui(P,R,S);const V=function(P,R,S){let V=0,z=R;const Z={match:!1,pathIndex:0,commandIndex:0};for(;z<P.segments.length;){if(V>=S.length)return Z;const ee=P.segments[z],fe=S[V];if(Ei(fe))break;const st=`${fe}`,$t=V<S.length-1?S[V+1]:null;if(z>0&&void 0===st)break;if(st&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!Ps(st,$t,ee))return Z;V+=2}else{if(!Ps(st,{},ee))return Z;V++}z++}return{match:!0,pathIndex:z,commandIndex:V}}(P,R,S),z=S.slice(V.commandIndex);if(V.match&&V.pathIndex<P.segments.length){const Z=new nn(P.segments.slice(0,V.pathIndex),{});return Z.children[xt]=new nn(P.segments.slice(V.pathIndex),P.children),Ui(Z,0,z)}return V.match&&0===z.length?new nn(P.segments,{}):V.match&&!P.hasChildren()?fo(P,R,S):V.match?Ui(P,0,z):fo(P,R,S)}function Ui(P,R,S){if(0===S.length)return new nn(P.segments,{});{const V=function(P){return Ei(P[0])?P[0].outlets:{[xt]:P}}(S),z={};return Ee(V,(Z,ee)=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&(z[ee]=zi(P.children[ee],R,Z))}),Ee(P.children,(Z,ee)=>{void 0===V[ee]&&(z[ee]=Z)}),new nn(P.segments,z)}}function fo(P,R,S){const V=P.segments.slice(0,R);let z=0;for(;z<S.length;){const Z=S[z];if(Ei(Z)){const st=Os(Z.outlets);return new nn(V,st)}if(0===z&&cs(S[0])){V.push(new li(P.segments[R].path,eo(S[0]))),z++;continue}const ee=Ei(Z)?Z.outlets[xt]:`${Z}`,fe=z<S.length-1?S[z+1]:null;ee&&fe&&cs(fe)?(V.push(new li(ee,eo(fe))),z+=2):(V.push(new li(ee,{})),z++)}return new nn(V,{})}function Os(P){const R={};return Ee(P,(S,V)=>{"string"==typeof S&&(S=[S]),null!==S&&(R[V]=fo(new nn([],{}),0,S))}),R}function eo(P){const R={};return Ee(P,(S,V)=>R[V]=`${S}`),R}function Ps(P,R,S){return P==S.path&&Sr(R,S.parameters)}class ks{constructor(R,S,V,z){this.routeReuseStrategy=R,this.futureState=S,this.currState=V,this.forwardEvent=z}activate(R){const S=this.futureState._root,V=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,V,R),bi(this.futureState.root),this.activateChildRoutes(S,V,R)}deactivateChildRoutes(R,S,V){const z=Sn(S);R.children.forEach(Z=>{const ee=Z.value.outlet;this.deactivateRoutes(Z,z[ee],V),delete z[ee]}),Ee(z,(Z,ee)=>{this.deactivateRouteAndItsChildren(Z,V)})}deactivateRoutes(R,S,V){const z=R.value,Z=S?S.value:null;if(z===Z)if(z.component){const ee=V.getContext(z.outlet);ee&&this.deactivateChildRoutes(R,S,ee.children)}else this.deactivateChildRoutes(R,S,V);else Z&&this.deactivateRouteAndItsChildren(S,V)}deactivateRouteAndItsChildren(R,S){this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,S):this.deactivateRouteAndOutlet(R,S)}detachAndStoreRouteSubtree(R,S){const V=S.getContext(R.value.outlet);if(V&&V.outlet){const z=V.outlet.detach(),Z=V.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:z,route:R,contexts:Z})}}deactivateRouteAndOutlet(R,S){const V=S.getContext(R.value.outlet),z=V&&R.value.component?V.children:S,Z=Sn(R);for(const ee of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[ee],z);V&&V.outlet&&(V.outlet.deactivate(),V.children.onOutletDeactivated(),V.attachRef=null,V.resolver=null,V.route=null)}activateChildRoutes(R,S,V){const z=Sn(S);R.children.forEach(Z=>{this.activateRoutes(Z,z[Z.value.outlet],V),this.forwardEvent(new Xt(Z.value.snapshot))}),R.children.length&&this.forwardEvent(new Ai(R.value.snapshot))}activateRoutes(R,S,V){const z=R.value,Z=S?S.value:null;if(bi(z),z===Z)if(z.component){const ee=V.getOrCreateContext(z.outlet);this.activateChildRoutes(R,S,ee.children)}else this.activateChildRoutes(R,S,V);else if(z.component){const ee=V.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const fe=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),ee.children.onOutletReAttached(fe.contexts),ee.attachRef=fe.componentRef,ee.route=fe.route.value,ee.outlet&&ee.outlet.attach(fe.componentRef,fe.route.value),xi(fe.route)}else{const fe=function(P){for(let R=P.parent;R;R=R.parent){const S=R.routeConfig;if(S&&S._loadedConfig)return S._loadedConfig;if(S&&S.component)return null}return null}(z.snapshot),st=fe?fe.module.componentFactoryResolver:null;ee.attachRef=null,ee.route=z,ee.resolver=st,ee.outlet&&ee.outlet.activateWith(z,st),this.activateChildRoutes(R,null,ee.children)}}else this.activateChildRoutes(R,null,V)}}function xi(P){bi(P.value),P.children.forEach(xi)}class ts{constructor(R,S){this.routes=R,this.module=S}}function qi(P){return"function"==typeof P}function Di(P){return P instanceof Xn}const Oi=Symbol("INITIAL_VALUE");function Br(){return(0,Ft.w)(P=>(0,se.aj)(P.map(R=>R.pipe((0,Vt.q)(1),(0,Nt.O)(Oi)))).pipe((0,Lt.R)((R,S)=>{let V=!1;return S.reduce((z,Z,ee)=>z!==Oi?z:(Z===Oi&&(V=!0),V||!1!==Z&&ee!==S.length-1&&!Di(Z)?z:Z),R)},Oi),(0,kt.h)(R=>R!==Oi),(0,bt.U)(R=>Di(R)?R:!0===R),(0,Vt.q)(1)))}let Go=(()=>{class P{}return P.\u0275fac=function(S){return new(S||P)},P.\u0275cmp=c.Xpm({type:P,selectors:[["ng-component"]],decls:1,vars:0,template:function(S,V){1&S&&c._UZ(0,"router-outlet")},directives:function(){return[hs]},encapsulation:2}),P})();function Wn(P,R=""){for(let S=0;S<P.length;S++){const V=P[S];Ci(V,ns(R,V))}}function Ci(P,R){P.children&&Wn(P.children,R)}function ns(P,R){return R?P||R.path?P&&!R.path?`${P}/`:!P&&R.path?R.path:`${P}/${R.path}`:"":P}function fi(P){const R=P.children&&P.children.map(fi),S=R?Object.assign(Object.assign({},P),{children:R}):Object.assign({},P);return!S.component&&(R||S.loadChildren)&&S.outlet&&S.outlet!==xt&&(S.component=Go),S}function Vn(P){return P.outlet||xt}function Er(P,R){const S=P.filter(V=>Vn(V)===R);return S.push(...P.filter(V=>Vn(V)!==R)),S}const Ti={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function U(P,R,S){var V;if(""===R.path)return"full"===R.pathMatch&&(P.hasChildren()||S.length>0)?Object.assign({},Ti):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Z=(R.matcher||ai)(S,P,R);if(!Z)return Object.assign({},Ti);const ee={};Ee(Z.posParams,(st,$t)=>{ee[$t]=st.path});const fe=Z.consumed.length>0?Object.assign(Object.assign({},ee),Z.consumed[Z.consumed.length-1].parameters):ee;return{matched:!0,consumedSegments:Z.consumed,lastChild:Z.consumed.length,parameters:fe,positionalParamSegments:null!==(V=Z.posParams)&&void 0!==V?V:{}}}function te(P,R,S,V,z="corrected"){if(S.length>0&&function(P,R,S){return S.some(V=>gt(P,R,V)&&Vn(V)!==xt)}(P,S,V)){const ee=new nn(R,function(P,R,S,V){const z={};z[xt]=V,V._sourceSegment=P,V._segmentIndexShift=R.length;for(const Z of S)if(""===Z.path&&Vn(Z)!==xt){const ee=new nn([],{});ee._sourceSegment=P,ee._segmentIndexShift=R.length,z[Vn(Z)]=ee}return z}(P,R,V,new nn(S,P.children)));return ee._sourceSegment=P,ee._segmentIndexShift=R.length,{segmentGroup:ee,slicedSegments:[]}}if(0===S.length&&function(P,R,S){return S.some(V=>gt(P,R,V))}(P,S,V)){const ee=new nn(P.segments,function(P,R,S,V,z,Z){const ee={};for(const fe of V)if(gt(P,S,fe)&&!z[Vn(fe)]){const st=new nn([],{});st._sourceSegment=P,st._segmentIndexShift="legacy"===Z?P.segments.length:R.length,ee[Vn(fe)]=st}return Object.assign(Object.assign({},z),ee)}(P,R,S,V,P.children,z));return ee._sourceSegment=P,ee._segmentIndexShift=R.length,{segmentGroup:ee,slicedSegments:S}}const Z=new nn(P.segments,P.children);return Z._sourceSegment=P,Z._segmentIndexShift=R.length,{segmentGroup:Z,slicedSegments:S}}function gt(P,R,S){return(!(P.hasChildren()||R.length>0)||"full"!==S.pathMatch)&&""===S.path}function $(P,R,S,V){return!!(Vn(P)===V||V!==xt&&gt(R,S,P))&&("**"===P.path||U(R,P,S).matched)}function L(P,R,S){return 0===R.length&&!P.children[S]}class k{constructor(R){this.segmentGroup=R||null}}class ne{constructor(R){this.urlTree=R}}function ze(P){return new le.y(R=>R.error(new k(P)))}function Et(P){return new le.y(R=>R.error(new ne(P)))}function yn(P){return new le.y(R=>R.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${P}'`)))}class ui{constructor(R,S,V,z,Z){this.configLoader=S,this.urlSerializer=V,this.urlTree=z,this.config=Z,this.allowRedirects=!0,this.ngModule=R.get(c.h0i)}apply(){const R=te(this.urlTree.root,[],[],this.config).segmentGroup,S=new nn(R.segments,R.children);return this.expandSegmentGroup(this.ngModule,this.config,S,xt).pipe((0,bt.U)(Z=>this.createUrlTree(Ar(Z),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ke(Z=>{if(Z instanceof ne)return this.allowRedirects=!1,this.match(Z.urlTree);throw Z instanceof k?this.noMatchError(Z):Z}))}match(R){return this.expandSegmentGroup(this.ngModule,this.config,R.root,xt).pipe((0,bt.U)(z=>this.createUrlTree(Ar(z),R.queryParams,R.fragment))).pipe(ke(z=>{throw z instanceof k?this.noMatchError(z):z}))}noMatchError(R){return new Error(`Cannot match any routes. URL Segment: '${R.segmentGroup}'`)}createUrlTree(R,S,V){const z=R.segments.length>0?new nn([],{[xt]:R}):R;return new Xn(z,S,V)}expandSegmentGroup(R,S,V,z){return 0===V.segments.length&&V.hasChildren()?this.expandChildren(R,S,V).pipe((0,bt.U)(Z=>new nn([],Z))):this.expandSegment(R,V,S,V.segments,z,!0)}expandChildren(R,S,V){const z=[];for(const Z of Object.keys(V.children))"primary"===Z?z.unshift(Z):z.push(Z);return(0,Ce.D)(z).pipe(ht(Z=>{const ee=V.children[Z],fe=Er(S,Z);return this.expandSegmentGroup(R,fe,ee,Z).pipe((0,bt.U)(st=>({segment:st,outlet:Z})))}),(0,Lt.R)((Z,ee)=>(Z[ee.outlet]=ee.segment,Z),{}),function(P,R){const S=arguments.length>=2;return V=>V.pipe(P?(0,kt.h)((z,Z)=>P(z,Z,V)):Oe.y,Pt(1),S?(0,Ze.d)(R):(0,xe.T)(()=>new re.K))}())}expandSegment(R,S,V,z,Z,ee){return(0,Ce.D)(V).pipe(ht(fe=>this.expandSegmentAgainstRoute(R,S,V,fe,z,Z,ee).pipe(ke($t=>{if($t instanceof k)return(0,ge.of)(null);throw $t}))),(0,Jt.P)(fe=>!!fe),ke((fe,st)=>{if(fe instanceof re.K||"EmptyError"===fe.name){if(L(S,z,Z))return(0,ge.of)(new nn([],{}));throw new k(S)}throw fe}))}expandSegmentAgainstRoute(R,S,V,z,Z,ee,fe){return $(z,S,Z,ee)?void 0===z.redirectTo?this.matchSegmentAgainstRoute(R,S,z,Z,ee):fe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,S,V,z,Z,ee):ze(S):ze(S)}expandSegmentAgainstRouteUsingRedirect(R,S,V,z,Z,ee){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,V,z,ee):this.expandRegularSegmentAgainstRouteUsingRedirect(R,S,V,z,Z,ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,S,V,z){const Z=this.applyRedirectCommands([],V.redirectTo,{});return V.redirectTo.startsWith("/")?Et(Z):this.lineralizeSegments(V,Z).pipe((0,$e.zg)(ee=>{const fe=new nn(ee,{});return this.expandSegment(R,fe,S,ee,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,S,V,z,Z,ee){const{matched:fe,consumedSegments:st,lastChild:$t,positionalParamSegments:Qn}=U(S,z,Z);if(!fe)return ze(S);const cn=this.applyRedirectCommands(st,z.redirectTo,Qn);return z.redirectTo.startsWith("/")?Et(cn):this.lineralizeSegments(z,cn).pipe((0,$e.zg)(ei=>this.expandSegment(R,S,V,ei.concat(Z.slice($t)),ee,!1)))}matchSegmentAgainstRoute(R,S,V,z,Z){if("**"===V.path)return V.loadChildren?(V._loadedConfig?(0,ge.of)(V._loadedConfig):this.configLoader.load(R.injector,V)).pipe((0,bt.U)(ei=>(V._loadedConfig=ei,new nn(z,{})))):(0,ge.of)(new nn(z,{}));const{matched:ee,consumedSegments:fe,lastChild:st}=U(S,V,z);if(!ee)return ze(S);const $t=z.slice(st);return this.getChildConfig(R,V,z).pipe((0,$e.zg)(cn=>{const ei=cn.module,hr=cn.routes,{segmentGroup:Po,slicedSegments:ti}=te(S,fe,$t,hr),Do=new nn(Po.segments,Po.children);if(0===ti.length&&Do.hasChildren())return this.expandChildren(ei,hr,Do).pipe((0,bt.U)(Co=>new nn(fe,Co)));if(0===hr.length&&0===ti.length)return(0,ge.of)(new nn(fe,{}));const sa=Vn(V)===Z;return this.expandSegment(ei,Do,hr,ti,sa?xt:Z,!0).pipe((0,bt.U)(rs=>new nn(fe.concat(rs.segments),rs.children)))}))}getChildConfig(R,S,V){return S.children?(0,ge.of)(new ts(S.children,R)):S.loadChildren?void 0!==S._loadedConfig?(0,ge.of)(S._loadedConfig):this.runCanLoadGuards(R.injector,S,V).pipe((0,$e.zg)(z=>{return z?this.configLoader.load(R.injector,S).pipe((0,bt.U)(Z=>(S._loadedConfig=Z,Z))):(P=S,new le.y(R=>R.error(wt(`Cannot load children because the guard of the route "path: '${P.path}'" returned false`))));var P})):(0,ge.of)(new ts([],R))}runCanLoadGuards(R,S,V){const z=S.canLoad;if(!z||0===z.length)return(0,ge.of)(!0);const Z=z.map(ee=>{const fe=R.get(ee);let st;if((P=fe)&&qi(P.canLoad))st=fe.canLoad(S,V);else{if(!qi(fe))throw new Error("Invalid CanLoad guard");st=fe(S,V)}var P;return we(st)});return(0,ge.of)(Z).pipe(Br(),(0,Fn.b)(ee=>{if(!Di(ee))return;const fe=wt(`Redirecting to "${this.urlSerializer.serialize(ee)}"`);throw fe.url=ee,fe}),(0,bt.U)(ee=>!0===ee))}lineralizeSegments(R,S){let V=[],z=S.root;for(;;){if(V=V.concat(z.segments),0===z.numberOfChildren)return(0,ge.of)(V);if(z.numberOfChildren>1||!z.children[xt])return yn(R.redirectTo);z=z.children[xt]}}applyRedirectCommands(R,S,V){return this.applyRedirectCreatreUrlTree(S,this.urlSerializer.parse(S),R,V)}applyRedirectCreatreUrlTree(R,S,V,z){const Z=this.createSegmentGroup(R,S.root,V,z);return new Xn(Z,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(R,S){const V={};return Ee(R,(z,Z)=>{if("string"==typeof z&&z.startsWith(":")){const fe=z.substring(1);V[Z]=S[fe]}else V[Z]=z}),V}createSegmentGroup(R,S,V,z){const Z=this.createSegments(R,S.segments,V,z);let ee={};return Ee(S.children,(fe,st)=>{ee[st]=this.createSegmentGroup(R,fe,V,z)}),new nn(Z,ee)}createSegments(R,S,V,z){return S.map(Z=>Z.path.startsWith(":")?this.findPosParam(R,Z,z):this.findOrReturn(Z,V))}findPosParam(R,S,V){const z=V[S.path.substring(1)];if(!z)throw new Error(`Cannot redirect to '${R}'. Cannot find '${S.path}'.`);return z}findOrReturn(R,S){let V=0;for(const z of S){if(z.path===R.path)return S.splice(V),z;V++}return R}}function Ar(P){const R={};for(const V of Object.keys(P.children)){const Z=Ar(P.children[V]);(Z.segments.length>0||Z.hasChildren())&&(R[V]=Z)}return function(P){if(1===P.numberOfChildren&&P.children[xt]){const R=P.children[xt];return new nn(P.segments.concat(R.segments),R.children)}return P}(new nn(P.segments,R))}class Vs{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class _o{constructor(R,S){this.component=R,this.route=S}}function yo(P,R,S){const V=P._root;return na(V,R?R._root:null,S,[V.value])}function Ro(P,R,S){const V=function(P){if(!P)return null;for(let R=P.parent;R;R=R.parent){const S=R.routeConfig;if(S&&S._loadedConfig)return S._loadedConfig}return null}(R);return(V?V.module.injector:S).get(P)}function na(P,R,S,V,z={canDeactivateChecks:[],canActivateChecks:[]}){const Z=Sn(R);return P.children.forEach(ee=>{(function(P,R,S,V,z={canDeactivateChecks:[],canActivateChecks:[]}){const Z=P.value,ee=R?R.value:null,fe=S?S.getContext(P.value.outlet):null;if(ee&&Z.routeConfig===ee.routeConfig){const st=function(P,R,S){if("function"==typeof S)return S(P,R);switch(S){case"pathParamsChange":return!vi(P.url,R.url);case"pathParamsOrQueryParamsChange":return!vi(P.url,R.url)||!Sr(P.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nr(P,R)||!Sr(P.queryParams,R.queryParams);case"paramsChange":default:return!nr(P,R)}}(ee,Z,Z.routeConfig.runGuardsAndResolvers);st?z.canActivateChecks.push(new Vs(V)):(Z.data=ee.data,Z._resolvedData=ee._resolvedData),na(P,R,Z.component?fe?fe.children:null:S,V,z),st&&fe&&fe.outlet&&fe.outlet.isActivated&&z.canDeactivateChecks.push(new _o(fe.outlet.component,ee))}else ee&&vo(R,fe,z),z.canActivateChecks.push(new Vs(V)),na(P,null,Z.component?fe?fe.children:null:S,V,z)})(ee,Z[ee.value.outlet],S,V.concat([ee.value]),z),delete Z[ee.value.outlet]}),Ee(Z,(ee,fe)=>vo(ee,S.getContext(fe),z)),z}function vo(P,R,S){const V=Sn(P),z=P.value;Ee(V,(Z,ee)=>{vo(Z,z.component?R?R.children.getContext(ee):null:R,S)}),S.canDeactivateChecks.push(new _o(z.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,z))}class Q{}function de(P){return new le.y(R=>R.error(P))}class Ne{constructor(R,S,V,z,Z,ee){this.rootComponentType=R,this.config=S,this.urlTree=V,this.url=z,this.paramsInheritanceStrategy=Z,this.relativeLinkResolution=ee}recognize(){const R=te(this.urlTree.root,[],[],this.config.filter(ee=>void 0===ee.redirectTo),this.relativeLinkResolution).segmentGroup,S=this.processSegmentGroup(this.config,R,xt);if(null===S)return null;const V=new Li([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xt,this.rootComponentType,null,this.urlTree.root,-1,{}),z=new en(V,S),Z=new es(this.url,z);return this.inheritParamsAndData(Z._root),Z}inheritParamsAndData(R){const S=R.value,V=Wi(S,this.paramsInheritanceStrategy);S.params=Object.freeze(V.params),S.data=Object.freeze(V.data),R.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(R,S,V){return 0===S.segments.length&&S.hasChildren()?this.processChildren(R,S):this.processSegment(R,S,S.segments,V)}processChildren(R,S){const V=[];for(const Z of Object.keys(S.children)){const ee=S.children[Z],fe=Er(R,Z),st=this.processSegmentGroup(fe,ee,Z);if(null===st)return null;V.push(...st)}const z=At(V);return z.sort((R,S)=>R.value.outlet===xt?-1:S.value.outlet===xt?1:R.value.outlet.localeCompare(S.value.outlet)),z}processSegment(R,S,V,z){for(const Z of R){const ee=this.processSegmentAgainstRoute(Z,S,V,z);if(null!==ee)return ee}return L(S,V,z)?[]:null}processSegmentAgainstRoute(R,S,V,z){if(R.redirectTo||!$(R,S,V,z))return null;let Z,ee=[],fe=[];if("**"===R.path){const hr=V.length>0?kr(V).parameters:{};Z=new Li(V,hr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dn(R),Vn(R),R.component,R,er(S),rn(S)+V.length,kn(R))}else{const hr=U(S,R,V);if(!hr.matched)return null;ee=hr.consumedSegments,fe=V.slice(hr.lastChild),Z=new Li(ee,hr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dn(R),Vn(R),R.component,R,er(S),rn(S)+ee.length,kn(R))}const st=(P=R).children?P.children:P.loadChildren?P._loadedConfig.routes:[],{segmentGroup:$t,slicedSegments:Qn}=te(S,ee,fe,st.filter(hr=>void 0===hr.redirectTo),this.relativeLinkResolution);var P;if(0===Qn.length&&$t.hasChildren()){const hr=this.processChildren(st,$t);return null===hr?null:[new en(Z,hr)]}if(0===st.length&&0===Qn.length)return[new en(Z,[])];const cn=Vn(R)===z,ei=this.processSegment(st,$t,Qn,cn?xt:z);return null===ei?null:[new en(Z,ei)]}}function Dt(P){const R=P.value.routeConfig;return R&&""===R.path&&void 0===R.redirectTo}function At(P){const R=[],S=new Set;for(const V of P){if(!Dt(V)){R.push(V);continue}const z=R.find(Z=>V.value.routeConfig===Z.value.routeConfig);void 0!==z?(z.children.push(...V.children),S.add(z)):R.push(V)}for(const V of S){const z=At(V.children);R.push(new en(V.value,z))}return R.filter(V=>!S.has(V))}function er(P){let R=P;for(;R._sourceSegment;)R=R._sourceSegment;return R}function rn(P){let R=P,S=R._segmentIndexShift?R._segmentIndexShift:0;for(;R._sourceSegment;)R=R._sourceSegment,S+=R._segmentIndexShift?R._segmentIndexShift:0;return S-1}function Dn(P){return P.data||{}}function kn(P){return P.resolve||{}}function Hr(P){return(0,Ft.w)(R=>{const S=P(R);return S?(0,Ce.D)(S).pipe((0,bt.U)(()=>R)):(0,ge.of)(R)})}class Ts extends class{shouldDetach(R){return!1}store(R,S){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,S){return R.routeConfig===S.routeConfig}}{}const ci=new c.OlP("ROUTES");class ka{constructor(R,S,V,z){this.loader=R,this.compiler=S,this.onLoadStartListener=V,this.onLoadEndListener=z}load(R,S){if(S._loader$)return S._loader$;this.onLoadStartListener&&this.onLoadStartListener(S);const z=this.loadModuleFactory(S.loadChildren).pipe((0,bt.U)(Z=>{this.onLoadEndListener&&this.onLoadEndListener(S);const ee=Z.create(R);return new ts(Qr(ee.injector.get(ci,void 0,c.XFs.Self|c.XFs.Optional)).map(fi),ee)}),ke(Z=>{throw S._loader$=void 0,Z}));return S._loader$=new ie.c(z,()=>new ye.xQ).pipe((0,zr.x)()),S._loader$}loadModuleFactory(R){return"string"==typeof R?(0,Ce.D)(this.loader.load(R)):we(R()).pipe((0,$e.zg)(S=>S instanceof c.YKP?(0,ge.of)(S):(0,Ce.D)(this.compiler.compileModuleAsync(S))))}}class io{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ir,this.attachRef=null}}class Ir{constructor(){this.contexts=new Map}onChildOutletCreated(R,S){const V=this.getOrCreateContext(R);V.outlet=S,this.contexts.set(R,V)}onChildOutletDestroyed(R){const S=this.getContext(R);S&&(S.outlet=null)}onOutletDeactivated(){const R=this.contexts;return this.contexts=new Map,R}onOutletReAttached(R){this.contexts=R}getOrCreateContext(R){let S=this.getContext(R);return S||(S=new io,this.contexts.set(R,S)),S}getContext(R){return this.contexts.get(R)||null}}class Gr{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,S){return R}}function Wt(P){throw P}function un(P,R,S){return R.parse("/")}function vn(P,R){return(0,ge.of)(null)}const zn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},di={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mr=(()=>{class P{constructor(S,V,z,Z,ee,fe,st,$t){this.rootComponentType=S,this.urlSerializer=V,this.rootContexts=z,this.location=Z,this.config=$t,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ye.xQ,this.errorHandler=Wt,this.malformedUriErrorHandler=un,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vn,afterPreactivation:vn},this.urlHandlingStrategy=new Gr,this.routeReuseStrategy=new Ts,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ee.get(c.h0i),this.console=ee.get(c.c2e);const ei=ee.get(c.R0b);this.isNgZoneEnabled=ei instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig($t),this.currentUrlTree=new Xn(new nn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ka(fe,st,hr=>this.triggerEvent(new Pr(hr)),hr=>this.triggerEvent(new jt(hr))),this.routerState=us(this.currentUrlTree,this.rootComponentType),this.transitions=new he.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var S;return null===(S=this.location.getState())||void 0===S?void 0:S.\u0275routerPageId}setupNavigations(S){const V=this.events;return S.pipe((0,kt.h)(z=>0!==z.id),(0,bt.U)(z=>Object.assign(Object.assign({},z),{extractedUrl:this.urlHandlingStrategy.extract(z.rawUrl)})),(0,Ft.w)(z=>{let Z=!1,ee=!1;return(0,ge.of)(z).pipe((0,Fn.b)(fe=>{this.currentNavigation={id:fe.id,initialUrl:fe.currentRawUrl,extractedUrl:fe.extractedUrl,trigger:fe.source,extras:fe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ft.w)(fe=>{const st=this.browserUrlTree.toString(),$t=!this.navigated||fe.extractedUrl.toString()!==st||st!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||$t)&&this.urlHandlingStrategy.shouldProcessUrl(fe.rawUrl))return Zi(fe.source)&&(this.browserUrlTree=fe.extractedUrl),(0,ge.of)(fe).pipe((0,Ft.w)(cn=>{const ei=this.transitions.getValue();return V.next(new Ut(cn.id,this.serializeUrl(cn.extractedUrl),cn.source,cn.restoredState)),ei!==this.transitions.getValue()?Te.E:Promise.resolve(cn)}),function(P,R,S,V){return(0,Ft.w)(z=>function(P,R,S,V,z){return new ui(P,R,S,V,z).apply()}(P,R,S,z.extractedUrl,V).pipe((0,bt.U)(Z=>Object.assign(Object.assign({},z),{urlAfterRedirects:Z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fn.b)(cn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:cn.urlAfterRedirects})}),function(P,R,S,V,z){return(0,$e.zg)(Z=>function(P,R,S,V,z="emptyOnly",Z="legacy"){try{const ee=new Ne(P,R,S,V,z,Z).recognize();return null===ee?de(new Q):(0,ge.of)(ee)}catch(ee){return de(ee)}}(P,R,Z.urlAfterRedirects,S(Z.urlAfterRedirects),V,z).pipe((0,bt.U)(ee=>Object.assign(Object.assign({},Z),{targetSnapshot:ee}))))}(this.rootComponentType,this.config,cn=>this.serializeUrl(cn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fn.b)(cn=>{"eager"===this.urlUpdateStrategy&&(cn.extras.skipLocationChange||this.setBrowserUrl(cn.urlAfterRedirects,cn),this.browserUrlTree=cn.urlAfterRedirects);const ei=new ln(cn.id,this.serializeUrl(cn.extractedUrl),this.serializeUrl(cn.urlAfterRedirects),cn.targetSnapshot);V.next(ei)}));if($t&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ei,extractedUrl:hr,source:Po,restoredState:ti,extras:Do}=fe,sa=new Ut(ei,this.serializeUrl(hr),Po,ti);V.next(sa);const xn=us(hr,this.rootComponentType).snapshot;return(0,ge.of)(Object.assign(Object.assign({},fe),{targetSnapshot:xn,urlAfterRedirects:hr,extras:Object.assign(Object.assign({},Do),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=fe.rawUrl,this.browserUrlTree=fe.urlAfterRedirects,fe.resolve(null),Te.E}),Hr(fe=>{const{targetSnapshot:st,id:$t,extractedUrl:Qn,rawUrl:cn,extras:{skipLocationChange:ei,replaceUrl:hr}}=fe;return this.hooks.beforePreactivation(st,{navigationId:$t,appliedUrlTree:Qn,rawUrlTree:cn,skipLocationChange:!!ei,replaceUrl:!!hr})}),(0,Fn.b)(fe=>{const st=new _r(fe.id,this.serializeUrl(fe.extractedUrl),this.serializeUrl(fe.urlAfterRedirects),fe.targetSnapshot);this.triggerEvent(st)}),(0,bt.U)(fe=>Object.assign(Object.assign({},fe),{guards:yo(fe.targetSnapshot,fe.currentSnapshot,this.rootContexts)})),function(P,R){return(0,$e.zg)(S=>{const{targetSnapshot:V,currentSnapshot:z,guards:{canActivateChecks:Z,canDeactivateChecks:ee}}=S;return 0===ee.length&&0===Z.length?(0,ge.of)(Object.assign(Object.assign({},S),{guardsResult:!0})):function(P,R,S,V){return(0,Ce.D)(P).pipe((0,$e.zg)(z=>function(P,R,S,V,z){const Z=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!Z||0===Z.length)return(0,ge.of)(!0);const ee=Z.map(fe=>{const st=Ro(fe,R,z);let $t;if(function(P){return P&&qi(P.canDeactivate)}(st))$t=we(st.canDeactivate(P,R,S,V));else{if(!qi(st))throw new Error("Invalid CanDeactivate guard");$t=we(st(P,R,S,V))}return $t.pipe((0,Jt.P)())});return(0,ge.of)(ee).pipe(Br())}(z.component,z.route,S,R,V)),(0,Jt.P)(z=>!0!==z,!0))}(ee,V,z,P).pipe((0,$e.zg)(fe=>fe&&function(P){return"boolean"==typeof P}(fe)?function(P,R,S,V){return(0,Ce.D)(R).pipe(ht(z=>(0,X.z)(function(P,R){return null!==P&&R&&R(new br(P)),(0,ge.of)(!0)}(z.route.parent,V),function(P,R){return null!==P&&R&&R(new jr(P)),(0,ge.of)(!0)}(z.route,V),function(P,R,S){const V=R[R.length-1],Z=R.slice(0,R.length-1).reverse().map(ee=>function(P){const R=P.routeConfig?P.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:P,guards:R}:null}(ee)).filter(ee=>null!==ee).map(ee=>ue(()=>{const fe=ee.guards.map(st=>{const $t=Ro(st,ee.node,S);let Qn;if(function(P){return P&&qi(P.canActivateChild)}($t))Qn=we($t.canActivateChild(V,P));else{if(!qi($t))throw new Error("Invalid CanActivateChild guard");Qn=we($t(V,P))}return Qn.pipe((0,Jt.P)())});return(0,ge.of)(fe).pipe(Br())}));return(0,ge.of)(Z).pipe(Br())}(P,z.path,S),function(P,R,S){const V=R.routeConfig?R.routeConfig.canActivate:null;if(!V||0===V.length)return(0,ge.of)(!0);const z=V.map(Z=>ue(()=>{const ee=Ro(Z,R,S);let fe;if(function(P){return P&&qi(P.canActivate)}(ee))fe=we(ee.canActivate(R,P));else{if(!qi(ee))throw new Error("Invalid CanActivate guard");fe=we(ee(R,P))}return fe.pipe((0,Jt.P)())}));return(0,ge.of)(z).pipe(Br())}(P,z.route,S))),(0,Jt.P)(z=>!0!==z,!0))}(V,Z,P,R):(0,ge.of)(fe)),(0,bt.U)(fe=>Object.assign(Object.assign({},S),{guardsResult:fe})))})}(this.ngModule.injector,fe=>this.triggerEvent(fe)),(0,Fn.b)(fe=>{if(Di(fe.guardsResult)){const $t=wt(`Redirecting to "${this.serializeUrl(fe.guardsResult)}"`);throw $t.url=fe.guardsResult,$t}const st=new Mn(fe.id,this.serializeUrl(fe.extractedUrl),this.serializeUrl(fe.urlAfterRedirects),fe.targetSnapshot,!!fe.guardsResult);this.triggerEvent(st)}),(0,kt.h)(fe=>!!fe.guardsResult||(this.restoreHistory(fe),this.cancelNavigationTransition(fe,""),!1)),Hr(fe=>{if(fe.guards.canActivateChecks.length)return(0,ge.of)(fe).pipe((0,Fn.b)(st=>{const $t=new Or(st.id,this.serializeUrl(st.extractedUrl),this.serializeUrl(st.urlAfterRedirects),st.targetSnapshot);this.triggerEvent($t)}),(0,Ft.w)(st=>{let $t=!1;return(0,ge.of)(st).pipe(function(P,R){return(0,$e.zg)(S=>{const{targetSnapshot:V,guards:{canActivateChecks:z}}=S;if(!z.length)return(0,ge.of)(S);let Z=0;return(0,Ce.D)(z).pipe(ht(ee=>function(P,R,S,V){return function(P,R,S,V){const z=Object.keys(P);if(0===z.length)return(0,ge.of)({});const Z={};return(0,Ce.D)(z).pipe((0,$e.zg)(ee=>function(P,R,S,V){const z=Ro(P,R,V);return we(z.resolve?z.resolve(R,S):z(R,S))}(P[ee],R,S,V).pipe((0,Fn.b)(fe=>{Z[ee]=fe}))),Pt(1),(0,$e.zg)(()=>Object.keys(Z).length===z.length?(0,ge.of)(Z):Te.E))}(P._resolve,P,R,V).pipe((0,bt.U)(Z=>(P._resolvedData=Z,P.data=Object.assign(Object.assign({},P.data),Wi(P,S).resolve),null)))}(ee.route,V,P,R)),(0,Fn.b)(()=>Z++),Pt(1),(0,$e.zg)(ee=>Z===z.length?(0,ge.of)(S):Te.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fn.b)({next:()=>$t=!0,complete:()=>{$t||(this.restoreHistory(st),this.cancelNavigationTransition(st,"At least one route resolver didn't emit any value."))}}))}),(0,Fn.b)(st=>{const $t=new En(st.id,this.serializeUrl(st.extractedUrl),this.serializeUrl(st.urlAfterRedirects),st.targetSnapshot);this.triggerEvent($t)}))}),Hr(fe=>{const{targetSnapshot:st,id:$t,extractedUrl:Qn,rawUrl:cn,extras:{skipLocationChange:ei,replaceUrl:hr}}=fe;return this.hooks.afterPreactivation(st,{navigationId:$t,appliedUrlTree:Qn,rawUrlTree:cn,skipLocationChange:!!ei,replaceUrl:!!hr})}),(0,bt.U)(fe=>{const st=function(P,R,S){const V=Vi(P,R._root,S?S._root:void 0);return new _n(V,R)}(this.routeReuseStrategy,fe.targetSnapshot,fe.currentRouterState);return Object.assign(Object.assign({},fe),{targetRouterState:st})}),(0,Fn.b)(fe=>{this.currentUrlTree=fe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(fe.urlAfterRedirects,fe.rawUrl),this.routerState=fe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(fe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,fe),this.browserUrlTree=fe.urlAfterRedirects)}),((P,R,S)=>(0,bt.U)(V=>(new ks(R,V.targetRouterState,V.currentRouterState,S).activate(P),V)))(this.rootContexts,this.routeReuseStrategy,fe=>this.triggerEvent(fe)),(0,Fn.b)({next(){Z=!0},complete(){Z=!0}}),function(P){return R=>R.lift(new je(P))}(()=>{if(!Z&&!ee){const fe=`Navigation ID ${z.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(z),this.cancelNavigationTransition(z,fe)):this.cancelNavigationTransition(z,fe)}this.currentNavigation=null}),ke(fe=>{if(ee=!0,function(P){return P&&P[$n]}(fe)){const st=Di(fe.url);st||(this.navigated=!0,this.restoreHistory(z,!0));const $t=new dr(z.id,this.serializeUrl(z.extractedUrl),fe.message);V.next($t),st?setTimeout(()=>{const Qn=this.urlHandlingStrategy.merge(fe.url,this.rawUrlTree),cn={skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zi(z.source)};this.scheduleNavigation(Qn,"imperative",null,cn,{resolve:z.resolve,reject:z.reject,promise:z.promise})},0):z.resolve(!1)}else{this.restoreHistory(z,!0);const st=new xr(z.id,this.serializeUrl(z.extractedUrl),fe);V.next(st);try{z.resolve(this.errorHandler(fe))}catch($t){z.reject($t)}}return Te.E}))}))}resetRootComponentType(S){this.rootComponentType=S,this.routerState.root.component=this.rootComponentType}getTransition(){const S=this.transitions.value;return S.urlAfterRedirects=this.browserUrlTree,S}setTransition(S){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),S))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const V=this.extractLocationChangeInfoFromEvent(S);this.shouldScheduleNavigation(this.lastLocationChangeInfo,V)&&setTimeout(()=>{const{source:z,state:Z,urlTree:ee}=V,fe={replaceUrl:!0};if(Z){const st=Object.assign({},Z);delete st.navigationId,delete st.\u0275routerPageId,0!==Object.keys(st).length&&(fe.state=st)}this.scheduleNavigation(ee,z,Z,fe)},0),this.lastLocationChangeInfo=V}))}extractLocationChangeInfoFromEvent(S){var V;return{source:"popstate"===S.type?"popstate":"hashchange",urlTree:this.parseUrl(S.url),state:(null===(V=S.state)||void 0===V?void 0:V.navigationId)?S.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(S,V){if(!S)return!0;const z=V.urlTree.toString()===S.urlTree.toString();return V.transitionId!==S.transitionId||!z||!("hashchange"===V.source&&"popstate"===S.source||"popstate"===V.source&&"hashchange"===S.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(S){this.events.next(S)}resetConfig(S){Wn(S),this.config=S.map(fi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(S,V={}){const{relativeTo:z,queryParams:Z,fragment:ee,queryParamsHandling:fe,preserveFragment:st}=V,$t=z||this.routerState.root,Qn=st?this.currentUrlTree.fragment:ee;let cn=null;switch(fe){case"merge":cn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Z);break;case"preserve":cn=this.currentUrlTree.queryParams;break;default:cn=Z||null}return null!==cn&&(cn=this.removeEmptyProps(cn)),function(P,R,S,V,z){if(0===S.length)return $r(R.root,R.root,R,V,z);const Z=function(P){if("string"==typeof P[0]&&1===P.length&&"/"===P[0])return new Rs(!0,0,P);let R=0,S=!1;const V=P.reduce((z,Z,ee)=>{if("object"==typeof Z&&null!=Z){if(Z.outlets){const fe={};return Ee(Z.outlets,(st,$t)=>{fe[$t]="string"==typeof st?st.split("/"):st}),[...z,{outlets:fe}]}if(Z.segmentPath)return[...z,Z.segmentPath]}return"string"!=typeof Z?[...z,Z]:0===ee?(Z.split("/").forEach((fe,st)=>{0==st&&"."===fe||(0==st&&""===fe?S=!0:".."===fe?R++:""!=fe&&z.push(fe))}),z):[...z,Z]},[]);return new Rs(S,R,V)}(S);if(Z.toRoot())return $r(R.root,new nn([],{}),R,V,z);const ee=function(P,R,S){if(P.isAbsolute)return new Mo(R.root,!0,0);if(-1===S.snapshot._lastPathIndex){const Z=S.snapshot._urlSegment;return new Mo(Z,Z===R.root,0)}const V=cs(P.commands[0])?0:1;return function(P,R,S){let V=P,z=R,Z=S;for(;Z>z;){if(Z-=z,V=V.parent,!V)throw new Error("Invalid number of '../'");z=V.segments.length}return new Mo(V,!1,z-Z)}(S.snapshot._urlSegment,S.snapshot._lastPathIndex+V,P.numberOfDoubleDots)}(Z,R,P),fe=ee.processChildren?Ui(ee.segmentGroup,ee.index,Z.commands):zi(ee.segmentGroup,ee.index,Z.commands);return $r(ee.segmentGroup,fe,R,V,z)}($t,this.currentUrlTree,S,cn,null!=Qn?Qn:null)}navigateByUrl(S,V={skipLocationChange:!1}){const z=Di(S)?S:this.parseUrl(S),Z=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(Z,"imperative",null,V)}navigate(S,V={skipLocationChange:!1}){return function(P){for(let R=0;R<P.length;R++){const S=P[R];if(null==S)throw new Error(`The requested path contains ${S} segment at index ${R}`)}}(S),this.navigateByUrl(this.createUrlTree(S,V),V)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let V;try{V=this.urlSerializer.parse(S)}catch(z){V=this.malformedUriErrorHandler(z,this.urlSerializer,S)}return V}isActive(S,V){let z;if(z=!0===V?Object.assign({},zn):!1===V?Object.assign({},di):V,Di(S))return vt(this.currentUrlTree,S,z);const Z=this.parseUrl(S);return vt(this.currentUrlTree,Z,z)}removeEmptyProps(S){return Object.keys(S).reduce((V,z)=>{const Z=S[z];return null!=Z&&(V[z]=Z),V},{})}processNavigations(){this.navigations.subscribe(S=>{this.navigated=!0,this.lastSuccessfulId=S.id,this.currentPageId=S.targetPageId,this.events.next(new An(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,S.resolve(!0)},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}scheduleNavigation(S,V,z,Z,ee){var fe,st;if(this.disposed)return Promise.resolve(!1);const $t=this.getTransition(),Qn=Zi(V)&&$t&&!Zi($t.source),hr=(this.lastSuccessfulId===$t.id||this.currentNavigation?$t.rawUrl:$t.urlAfterRedirects).toString()===S.toString();if(Qn&&hr)return Promise.resolve(!0);let Po,ti,Do;ee?(Po=ee.resolve,ti=ee.reject,Do=ee.promise):Do=new Promise((rs,Co)=>{Po=rs,ti=Co});const sa=++this.navigationId;let xn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(z=this.location.getState()),xn=z&&z.\u0275routerPageId?z.\u0275routerPageId:Z.replaceUrl||Z.skipLocationChange?null!==(fe=this.browserPageId)&&void 0!==fe?fe:0:(null!==(st=this.browserPageId)&&void 0!==st?st:0)+1):xn=0,this.setTransition({id:sa,targetPageId:xn,source:V,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:S,extras:Z,resolve:Po,reject:ti,promise:Do,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Do.catch(rs=>Promise.reject(rs))}setBrowserUrl(S,V){const z=this.urlSerializer.serialize(S),Z=Object.assign(Object.assign({},V.extras.state),this.generateNgRouterState(V.id,V.targetPageId));this.location.isCurrentPathEqualTo(z)||V.extras.replaceUrl?this.location.replaceState(z,"",Z):this.location.go(z,"",Z)}restoreHistory(S,V=!1){var z,Z;if("computed"===this.canceledNavigationResolution){const ee=this.currentPageId-S.targetPageId;"popstate"!==S.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(z=this.currentNavigation)||void 0===z?void 0:z.finalUrl)||0===ee?this.currentUrlTree===(null===(Z=this.currentNavigation)||void 0===Z?void 0:Z.finalUrl)&&0===ee&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ee)}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(S,V){const z=new dr(S.id,this.serializeUrl(S.extractedUrl),V);this.triggerEvent(z),S.resolve(!1)}generateNgRouterState(S,V){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:V}:{navigationId:S}}}return P.\u0275fac=function(S){return new(S||P)(c.LFG(c.DyG),c.LFG(ws),c.LFG(Ir),c.LFG(I.Ye),c.LFG(c.zs3),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(void 0))},P.\u0275prov=c.Yz7({token:P,factory:P.\u0275fac}),P})();function Zi(P){return"imperative"!==P}let Dr=(()=>{class P{constructor(S,V,z,Z,ee){this.router=S,this.route=V,this.commands=[],this.onChanges=new ye.xQ,null==z&&Z.setAttribute(ee.nativeElement,"tabindex","0")}ngOnChanges(S){this.onChanges.next(this)}set routerLink(S){this.commands=null!=S?Array.isArray(S)?S:[S]:[]}onClick(){const S={skipLocationChange:ji(this.skipLocationChange),replaceUrl:ji(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,S),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ji(this.preserveFragment)})}}return P.\u0275fac=function(S){return new(S||P)(c.Y36(mr),c.Y36(Gi),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},P.\u0275dir=c.lG2({type:P,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(S,V){1&S&&c.NdJ("click",function(){return V.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),P})(),bo=(()=>{class P{constructor(S,V,z){this.router=S,this.route=V,this.locationStrategy=z,this.commands=[],this.onChanges=new ye.xQ,this.subscription=S.events.subscribe(Z=>{Z instanceof An&&this.updateTargetUrlAndHref()})}set routerLink(S){this.commands=null!=S?Array.isArray(S)?S:[S]:[]}ngOnChanges(S){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(S,V,z,Z,ee){if(0!==S||V||z||Z||ee||"string"==typeof this.target&&"_self"!=this.target)return!0;const fe={skipLocationChange:ji(this.skipLocationChange),replaceUrl:ji(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,fe),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ji(this.preserveFragment)})}}return P.\u0275fac=function(S){return new(S||P)(c.Y36(mr),c.Y36(Gi),c.Y36(I.S$))},P.\u0275dir=c.lG2({type:P,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(S,V){1&S&&c.NdJ("click",function(Z){return V.onClick(Z.button,Z.ctrlKey,Z.shiftKey,Z.altKey,Z.metaKey)}),2&S&&(c.Ikx("href",V.href,c.LSH),c.uIk("target",V.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),P})();function ji(P){return""===P||!!P}let hs=(()=>{class P{constructor(S,V,z,Z,ee){this.parentContexts=S,this.location=V,this.resolver=z,this.changeDetector=ee,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.name=Z||xt,S.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const S=this.parentContexts.getContext(this.name);S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,S}attach(S,V){this.activated=S,this._activatedRoute=V,this.location.insert(S.hostView)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,V){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=S;const ee=(V=V||this.resolver).resolveComponentFactory(S._futureSnapshot.routeConfig.component),fe=this.parentContexts.getOrCreateContext(this.name).children,st=new wo(S,fe,this.location.injector);this.activated=this.location.createComponent(ee,this.location.length,st),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return P.\u0275fac=function(S){return new(S||P)(c.Y36(Ir),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},P.\u0275dir=c.lG2({type:P,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),P})();class wo{constructor(R,S,V){this.route=R,this.childContexts=S,this.parent=V}get(R,S){return R===Gi?this.route:R===Ir?this.childContexts:this.parent.get(R,S)}}class Wo{}class ba{preload(R,S){return(0,ge.of)(null)}}let fs=(()=>{class P{constructor(S,V,z,Z,ee){this.router=S,this.injector=Z,this.preloadingStrategy=ee,this.loader=new ka(V,z,$t=>S.triggerEvent(new Pr($t)),$t=>S.triggerEvent(new jt($t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,kt.h)(S=>S instanceof An),ht(()=>this.preload())).subscribe(()=>{})}preload(){const S=this.injector.get(c.h0i);return this.processRoutes(S,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,V){const z=[];for(const Z of V)if(Z.loadChildren&&!Z.canLoad&&Z._loadedConfig){const ee=Z._loadedConfig;z.push(this.processRoutes(ee.module,ee.routes))}else Z.loadChildren&&!Z.canLoad?z.push(this.preloadConfig(S,Z)):Z.children&&z.push(this.processRoutes(S,Z.children));return(0,Ce.D)(z).pipe((0,Ht.J)(),(0,bt.U)(Z=>{}))}preloadConfig(S,V){return this.preloadingStrategy.preload(V,()=>(V._loadedConfig?(0,ge.of)(V._loadedConfig):this.loader.load(S.injector,V)).pipe((0,$e.zg)(Z=>(V._loadedConfig=Z,this.processRoutes(Z.module,Z.routes)))))}}return P.\u0275fac=function(S){return new(S||P)(c.LFG(mr),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Wo))},P.\u0275prov=c.Yz7({token:P,factory:P.\u0275fac}),P})(),Wl=(()=>{class P{constructor(S,V,z={}){this.router=S,this.viewportScroller=V,this.options=z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},z.scrollPositionRestoration=z.scrollPositionRestoration||"disabled",z.anchorScrolling=z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(S=>{S instanceof Ut?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof An&&(this.lastId=S.id,this.scheduleScrollEvent(S,this.router.parseUrl(S.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(S=>{S instanceof Gt&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,V){this.router.triggerEvent(new Gt(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return P.\u0275fac=function(S){return new(S||P)(c.LFG(mr),c.LFG(I.EM),c.LFG(void 0))},P.\u0275prov=c.Yz7({token:P,factory:P.\u0275fac}),P})();const Eo=new c.OlP("ROUTER_CONFIGURATION"),bn=new c.OlP("ROUTER_FORROOT_GUARD"),Fa=[I.Ye,{provide:ws,useClass:Cr},{provide:mr,useFactory:function(P,R,S,V,z,Z,ee,fe={},st,$t){const Qn=new mr(null,P,R,S,V,z,Z,Qr(ee));return st&&(Qn.urlHandlingStrategy=st),$t&&(Qn.routeReuseStrategy=$t),function(P,R){P.errorHandler&&(R.errorHandler=P.errorHandler),P.malformedUriErrorHandler&&(R.malformedUriErrorHandler=P.malformedUriErrorHandler),P.onSameUrlNavigation&&(R.onSameUrlNavigation=P.onSameUrlNavigation),P.paramsInheritanceStrategy&&(R.paramsInheritanceStrategy=P.paramsInheritanceStrategy),P.relativeLinkResolution&&(R.relativeLinkResolution=P.relativeLinkResolution),P.urlUpdateStrategy&&(R.urlUpdateStrategy=P.urlUpdateStrategy)}(fe,Qn),fe.enableTracing&&Qn.events.subscribe(cn=>{var ei,hr;null===(ei=console.group)||void 0===ei||ei.call(console,`Router Event: ${cn.constructor.name}`),console.log(cn.toString()),console.log(cn),null===(hr=console.groupEnd)||void 0===hr||hr.call(console)}),Qn},deps:[ws,Ir,I.Ye,c.zs3,c.v3s,c.Sil,ci,Eo,[class{},new c.FiY],[class{},new c.FiY]]},Ir,{provide:Gi,useFactory:function(P){return P.routerState.root},deps:[mr]},{provide:c.v3s,useClass:c.EAV},fs,ba,class{preload(R,S){return S().pipe(ke(()=>(0,ge.of)(null)))}},{provide:Eo,useValue:{enableTracing:!1}}];function zo(){return new c.PXZ("Router",mr)}let La=(()=>{class P{constructor(S,V){}static forRoot(S,V){return{ngModule:P,providers:[Fa,wa(S),{provide:bn,useFactory:Va,deps:[[mr,new c.FiY,new c.tp0]]},{provide:Eo,useValue:V||{}},{provide:I.S$,useFactory:ia,deps:[I.lw,[new c.tBr(I.mr),new c.FiY],Eo]},{provide:Wl,useFactory:Si,deps:[mr,I.EM,Eo]},{provide:Wo,useExisting:V&&V.preloadingStrategy?V.preloadingStrategy:ba},{provide:c.PXZ,multi:!0,useFactory:zo},[Bs,{provide:c.ip1,multi:!0,useFactory:Oo,deps:[Bs]},{provide:Sl,useFactory:Ea,deps:[Bs]},{provide:c.tb,multi:!0,useExisting:Sl}]]}}static forChild(S){return{ngModule:P,providers:[wa(S)]}}}return P.\u0275fac=function(S){return new(S||P)(c.LFG(bn,8),c.LFG(mr,8))},P.\u0275mod=c.oAB({type:P}),P.\u0275inj=c.cJS({}),P})();function Si(P,R,S){return S.scrollOffset&&R.setOffset(S.scrollOffset),new Wl(P,R,S)}function ia(P,R,S={}){return S.useHash?new I.Do(P,R):new I.b0(P,R)}function Va(P){return"guarded"}function wa(P){return[{provide:c.deG,multi:!0,useValue:P},{provide:ci,multi:!0,useValue:P}]}let Bs=(()=>{class P{constructor(S){this.injector=S,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ye.xQ}appInitializer(){return this.injector.get(I.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let V=null;const z=new Promise(fe=>V=fe),Z=this.injector.get(mr),ee=this.injector.get(Eo);return"disabled"===ee.initialNavigation?(Z.setUpLocationChangeListener(),V(!0)):"enabled"===ee.initialNavigation||"enabledBlocking"===ee.initialNavigation?(Z.hooks.afterPreactivation=()=>this.initNavigation?(0,ge.of)(null):(this.initNavigation=!0,V(!0),this.resultOfPreactivationDone),Z.initialNavigation()):V(!0),z})}bootstrapListener(S){const V=this.injector.get(Eo),z=this.injector.get(fs),Z=this.injector.get(Wl),ee=this.injector.get(mr),fe=this.injector.get(c.z2F);S===fe.components[0]&&(("enabledNonBlocking"===V.initialNavigation||void 0===V.initialNavigation)&&ee.initialNavigation(),z.setUpPreloading(),Z.init(),ee.resetRootComponentType(fe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return P.\u0275fac=function(S){return new(S||P)(c.LFG(c.zs3))},P.\u0275prov=c.Yz7({token:P,factory:P.\u0275fac}),P})();function Oo(P){return P.appInitializer.bind(P)}function Ea(P){return P.bootstrapListener.bind(P)}const Sl=new c.OlP("Router Initializer")},4486:(Tt,He,W)=>{"use strict";W.d(He,{Z:()=>Be});var I=W(4685),c=W(6034),le=W(5452),Ce=W(300);class Te{constructor($e,ht){this._delegate=$e,this.firebase=ht,(0,le._addComponent)($e,new c.wA("app-compat",()=>this,"PUBLIC")),this.container=$e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this._delegate.automaticDataCollectionEnabled=$e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise($e=>{this._delegate.checkDestroyed(),$e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,le.deleteApp)(this._delegate)))}_getService($e,ht=le._DEFAULT_ENTRY_NAME){var kt;this._delegate.checkDestroyed();const tt=this._delegate.container.getProvider($e);return!tt.isInitialized()&&"EXPLICIT"===(null===(kt=tt.getComponent())||void 0===kt?void 0:kt.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:ht})}_removeServiceInstance($e,ht=le._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider($e).clearInstance(ht)}_addComponent($e){(0,le._addComponent)(this._delegate,$e)}_addOrOverwriteComponent($e){(0,le._addOrOverwriteComponent)(this._delegate,$e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function se(){const be=function(be){const $e={},ht={__esModule:!0,initializeApp:function(xe,Ze={}){const Oe=le.initializeApp(xe,Ze);if((0,I.r3)($e,Oe.name))return $e[Oe.name];const Je=new be(Oe,ht);return $e[Oe.name]=Je,Je},app:tt,registerVersion:le.registerVersion,setLogLevel:le.setLogLevel,onLog:le.onLog,apps:null,SDK_VERSION:le.SDK_VERSION,INTERNAL:{registerComponent:function(xe){const Ze=xe.name,Oe=Ze.replace("-compat","");if(le._registerComponent(xe)&&"PUBLIC"===xe.type){const Je=(Ke=tt())=>{if("function"!=typeof Ke[Oe])throw ge.create("invalid-app-argument",{appName:Ze});return Ke[Oe]()};void 0!==xe.serviceProps&&(0,I.ZB)(Je,xe.serviceProps),ht[Oe]=Je,be.prototype[Oe]=function(...Ke){return this._getService.bind(this,Ze).apply(this,xe.multipleInstances?Ke:[])}}return"PUBLIC"===xe.type?ht[Oe]:null},removeApp:function(xe){delete $e[xe]},useAsService:function(xe,Ze){return"serverAuth"===Ze?null:Ze},modularAPIs:le}};function tt(xe){if(!(0,I.r3)($e,xe=xe||le._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:xe});return $e[xe]}return ht.default=ht,Object.defineProperty(ht,"apps",{get:function(){return Object.keys($e).map(xe=>$e[xe])}}),tt.App=be,ht}(Te);return be.INTERNAL=Object.assign(Object.assign({},be.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function(ht){(0,I.ZB)(be,ht)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),be}(),X=new Ce.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const be=self.firebase.SDK_VERSION;be&&be.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=re;(0,le.registerVersion)("@firebase/app-compat","0.1.1",undefined);const Be=ke},5452:(Tt,He,W)=>{"use strict";W.r(He),W.d(He,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>ln,_DEFAULT_ENTRY_NAME:()=>Ft,_addComponent:()=>Jt,_addOrOverwriteComponent:()=>Fn,_apps:()=>Nt,_clearComponents:()=>Ut,_components:()=>Lt,_getProvider:()=>Ht,_registerComponent:()=>zr,_removeServiceInstance:()=>Zt,deleteApp:()=>En,getApp:()=>Mn,getApps:()=>Or,initializeApp:()=>_r,onLog:()=>br,registerVersion:()=>jt,setLogLevel:()=>Ai});var I=W(8239),c=W(6034),le=W(300),Ce=W(4685);class Te{constructor(Gt){this.container=Gt}getPlatformInfoString(){return this.container.getProviders().map(xt=>{if(function(Xt){const Gt=Xt.getComponent();return"VERSION"===(null==Gt?void 0:Gt.type)}(xt)){const Ln=xt.getImmediate();return`${Ln.library}/${Ln.version}`}return null}).filter(xt=>xt).join(" ")}}const ge="@firebase/app",se=new le.Yd("@firebase/app"),Ft="[DEFAULT]",Vt={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nt=new Map,Lt=new Map;function Jt(Xt,Gt){try{Xt.container.addComponent(Gt)}catch(xt){se.debug(`Component ${Gt.name} failed to register with FirebaseApp ${Xt.name}`,xt)}}function Fn(Xt,Gt){Xt.container.addOrOverwriteComponent(Gt)}function zr(Xt){const Gt=Xt.name;if(Lt.has(Gt))return se.debug(`There were multiple attempts to register component ${Gt}.`),!1;Lt.set(Gt,Xt);for(const xt of Nt.values())Jt(xt,Xt);return!0}function Ht(Xt,Gt){return Xt.container.getProvider(Gt)}function Zt(Xt,Gt,xt=Ft){Ht(Xt,Gt).clearInstance(xt)}function Ut(){Lt.clear()}const dr=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class xr{constructor(Gt,xt,Ln){this._isDeleted=!1,this._options=Object.assign({},Gt),this._config=Object.assign({},xt),this._name=xt.name,this._automaticDataCollectionEnabled=xt.automaticDataCollectionEnabled,this._container=Ln,this.container.addComponent(new c.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Gt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Gt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Gt){this._isDeleted=Gt}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const ln="9.0.0";function _r(Xt,Gt={}){"object"!=typeof Gt&&(Gt={name:Gt});const xt=Object.assign({name:Ft,automaticDataCollectionEnabled:!1},Gt),Ln=xt.name;if("string"!=typeof Ln||!Ln)throw dr.create("bad-app-name",{appName:String(Ln)});const or=Nt.get(Ln);if(or){if((0,Ce.vZ)(Xt,or.options)&&(0,Ce.vZ)(xt,or.config))return or;throw dr.create("duplicate-app",{appName:Ln})}const $n=new c.H0(Ln);for(const Qt of Lt.values())$n.addComponent(Qt);const wt=new xr(Xt,xt,$n);return Nt.set(Ln,wt),wt}function Mn(Xt=Ft){const Gt=Nt.get(Xt);if(!Gt)throw dr.create("no-app",{appName:Xt});return Gt}function Or(){return Array.from(Nt.values())}function En(Xt){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,I.Z)(function*(Xt){const Gt=Xt.name;Nt.has(Gt)&&(Nt.delete(Gt),yield Promise.all(Xt.container.getProviders().map(xt=>xt.delete())),Xt.isDeleted=!0)})).apply(this,arguments)}function jt(Xt,Gt,xt){var Ln;let or=null!==(Ln=Vt[Xt])&&void 0!==Ln?Ln:Xt;xt&&(or+=`-${xt}`);const $n=or.match(/\s|\//),wt=Gt.match(/\s|\//);if($n||wt){const Qt=[`Unable to register library "${or}" with version "${Gt}":`];return $n&&Qt.push(`library name "${or}" contains illegal characters (whitespace or "/")`),$n&&wt&&Qt.push("and"),wt&&Qt.push(`version name "${Gt}" contains illegal characters (whitespace or "/")`),void se.warn(Qt.join(" "))}zr(new c.wA(`${or}-version`,()=>({library:or,version:Gt}),"VERSION"))}function br(Xt,Gt){if(null!==Xt&&"function"!=typeof Xt)throw dr.create("invalid-log-argument");(0,le.Am)(Xt,Gt)}function Ai(Xt){(0,le.Ub)(Xt)}zr(new c.wA("platform-logger",Gt=>new Te(Gt),"PRIVATE")),jt(ge,"0.7.0",undefined),jt("fire-js","")},6034:(Tt,He,W)=>{"use strict";W.d(He,{wA:()=>le,H0:()=>he});var I=W(4762),c=W(4685),le=function(){function se(re,X,ie){this.name=re,this.instanceFactory=X,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return se.prototype.setInstantiationMode=function(re){return this.instantiationMode=re,this},se.prototype.setMultipleInstances=function(re){return this.multipleInstances=re,this},se.prototype.setServiceProps=function(re){return this.serviceProps=re,this},se.prototype.setInstanceCreatedCallback=function(re){return this.onInstanceCreated=re,this},se}(),Ce="[DEFAULT]",Te=function(){function se(re,X){this.name=re,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return se.prototype.get=function(re){var X=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(X)){var ie=new c.BH;if(this.instancesDeferred.set(X,ie),this.isInitialized(X)||this.shouldAutoInitialize())try{var ye=this.getOrInitializeService({instanceIdentifier:X});ye&&ie.resolve(ye)}catch(Me){}}return this.instancesDeferred.get(X).promise},se.prototype.getImmediate=function(re){var X,ie=this.normalizeInstanceIdentifier(null==re?void 0:re.identifier),ye=null!==(X=null==re?void 0:re.optional)&&void 0!==X&&X;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(ye)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Me){if(ye)return null;throw Me}},se.prototype.getComponent=function(){return this.component},se.prototype.setComponent=function(re){var X,ie;if(re.name!==this.name)throw Error("Mismatching Component "+re.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=re,this.shouldAutoInitialize()){if(function(se){return"EAGER"===se.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(kt){}try{for(var ye=(0,I.XA)(this.instancesDeferred.entries()),Me=ye.next();!Me.done;Me=ye.next()){var ke=(0,I.CR)(Me.value,2),be=ke[1],$e=this.normalizeInstanceIdentifier(ke[0]);try{var ht=this.getOrInitializeService({instanceIdentifier:$e});be.resolve(ht)}catch(kt){}}}catch(kt){X={error:kt}}finally{try{Me&&!Me.done&&(ie=ye.return)&&ie.call(ye)}finally{if(X)throw X.error}}}},se.prototype.clearInstance=function(re){void 0===re&&(re=Ce),this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)},se.prototype.delete=function(){return(0,I.mG)(this,void 0,void 0,function(){var re;return(0,I.Jh)(this,function(X){switch(X.label){case 0:return re=Array.from(this.instances.values()),[4,Promise.all((0,I.ev)((0,I.ev)([],(0,I.CR)(re.filter(function(ie){return"INTERNAL"in ie}).map(function(ie){return ie.INTERNAL.delete()}))),(0,I.CR)(re.filter(function(ie){return"_delete"in ie}).map(function(ie){return ie._delete()}))))];case 1:return X.sent(),[2]}})})},se.prototype.isComponentSet=function(){return null!=this.component},se.prototype.isInitialized=function(re){return void 0===re&&(re=Ce),this.instances.has(re)},se.prototype.getOptions=function(re){return void 0===re&&(re=Ce),this.instancesOptions.get(re)||{}},se.prototype.initialize=function(re){var X,ie;void 0===re&&(re={});var ye=re.options,Me=void 0===ye?{}:ye,ke=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(ke))throw Error(this.name+"("+ke+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Be=this.getOrInitializeService({instanceIdentifier:ke,options:Me});try{for(var be=(0,I.XA)(this.instancesDeferred.entries()),$e=be.next();!$e.done;$e=be.next()){var ht=(0,I.CR)($e.value,2),tt=ht[1];ke===this.normalizeInstanceIdentifier(ht[0])&&tt.resolve(Be)}}catch(Pt){X={error:Pt}}finally{try{$e&&!$e.done&&(ie=be.return)&&ie.call(be)}finally{if(X)throw X.error}}return Be},se.prototype.onInit=function(re,X){var ie,ye=this.normalizeInstanceIdentifier(X),Me=null!==(ie=this.onInitCallbacks.get(ye))&&void 0!==ie?ie:new Set;Me.add(re),this.onInitCallbacks.set(ye,Me);var ke=this.instances.get(ye);return ke&&re(ke,ye),function(){Me.delete(re)}},se.prototype.invokeOnInitCallbacks=function(re,X){var ie,ye,Me=this.onInitCallbacks.get(X);if(Me)try{for(var ke=(0,I.XA)(Me),Be=ke.next();!Be.done;Be=ke.next()){var be=Be.value;try{be(re,X)}catch($e){}}}catch($e){ie={error:$e}}finally{try{Be&&!Be.done&&(ye=ke.return)&&ye.call(ke)}finally{if(ie)throw ie.error}}},se.prototype.getOrInitializeService=function(re){var X=re.instanceIdentifier,ie=re.options,ye=void 0===ie?{}:ie,Me=this.instances.get(X);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:ue(X),options:ye}),this.instances.set(X,Me),this.instancesOptions.set(X,ye),this.invokeOnInitCallbacks(Me,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,Me)}catch(ke){}return Me||null},se.prototype.normalizeInstanceIdentifier=function(re){return void 0===re&&(re=Ce),this.component?this.component.multipleInstances?re:Ce:re},se.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},se}();function ue(se){return se===Ce?void 0:se}var he=function(){function se(re){this.name=re,this.providers=new Map}return se.prototype.addComponent=function(re){var X=this.getProvider(re.name);if(X.isComponentSet())throw new Error("Component "+re.name+" has already been registered with "+this.name);X.setComponent(re)},se.prototype.addOrOverwriteComponent=function(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)},se.prototype.getProvider=function(re){if(this.providers.has(re))return this.providers.get(re);var X=new Te(re,this);return this.providers.set(re,X),X},se.prototype.getProviders=function(){return Array.from(this.providers.values())},se}()},300:(Tt,He,W)=>{"use strict";function I(){for(var ie=0,ye=0,Me=arguments.length;ye<Me;ye++)ie+=arguments[ye].length;var ke=Array(ie),Be=0;for(ye=0;ye<Me;ye++)for(var be=arguments[ye],$e=0,ht=be.length;$e<ht;$e++,Be++)ke[Be]=be[$e];return ke}W.d(He,{in:()=>Ce,Yd:()=>se,Ub:()=>re,Am:()=>X});var c,le=[],Ce=(()=>{return(ie=Ce||(Ce={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",Ce;var ie})(),Te={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},ue=Ce.INFO,ge=((c={})[Ce.DEBUG]="log",c[Ce.VERBOSE]="log",c[Ce.INFO]="info",c[Ce.WARN]="warn",c[Ce.ERROR]="error",c),he=function(ie,ye){for(var Me=[],ke=2;ke<arguments.length;ke++)Me[ke-2]=arguments[ke];if(!(ye<ie.logLevel)){var Be=(new Date).toISOString(),be=ge[ye];if(!be)throw new Error("Attempted to log a message with an invalid logType (value: "+ye+")");console[be].apply(console,I(["["+Be+"]  "+ie.name+":"],Me))}},se=function(){function ie(ye){this.name=ye,this._logLevel=ue,this._logHandler=he,this._userLogHandler=null,le.push(this)}return Object.defineProperty(ie.prototype,"logLevel",{get:function(){return this._logLevel},set:function(ye){if(!(ye in Ce))throw new TypeError('Invalid value "'+ye+'" assigned to `logLevel`');this._logLevel=ye},enumerable:!1,configurable:!0}),ie.prototype.setLogLevel=function(ye){this._logLevel="string"==typeof ye?Te[ye]:ye},Object.defineProperty(ie.prototype,"logHandler",{get:function(){return this._logHandler},set:function(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(ye){this._userLogHandler=ye},enumerable:!1,configurable:!0}),ie.prototype.debug=function(){for(var ye=[],Me=0;Me<arguments.length;Me++)ye[Me]=arguments[Me];this._userLogHandler&&this._userLogHandler.apply(this,I([this,Ce.DEBUG],ye)),this._logHandler.apply(this,I([this,Ce.DEBUG],ye))},ie.prototype.log=function(){for(var ye=[],Me=0;Me<arguments.length;Me++)ye[Me]=arguments[Me];this._userLogHandler&&this._userLogHandler.apply(this,I([this,Ce.VERBOSE],ye)),this._logHandler.apply(this,I([this,Ce.VERBOSE],ye))},ie.prototype.info=function(){for(var ye=[],Me=0;Me<arguments.length;Me++)ye[Me]=arguments[Me];this._userLogHandler&&this._userLogHandler.apply(this,I([this,Ce.INFO],ye)),this._logHandler.apply(this,I([this,Ce.INFO],ye))},ie.prototype.warn=function(){for(var ye=[],Me=0;Me<arguments.length;Me++)ye[Me]=arguments[Me];this._userLogHandler&&this._userLogHandler.apply(this,I([this,Ce.WARN],ye)),this._logHandler.apply(this,I([this,Ce.WARN],ye))},ie.prototype.error=function(){for(var ye=[],Me=0;Me<arguments.length;Me++)ye[Me]=arguments[Me];this._userLogHandler&&this._userLogHandler.apply(this,I([this,Ce.ERROR],ye)),this._logHandler.apply(this,I([this,Ce.ERROR],ye))},ie}();function re(ie){le.forEach(function(ye){ye.setLogLevel(ie)})}function X(ie,ye){for(var Me=function($e){var ht=null;ye&&ye.level&&(ht=Te[ye.level]),$e.userLogHandler=null===ie?null:function(kt,tt){for(var it=[],Pt=2;Pt<arguments.length;Pt++)it[Pt-2]=arguments[Pt];var qt=it.map(function(mn){if(null==mn)return null;if("string"==typeof mn)return mn;if("number"==typeof mn||"boolean"==typeof mn)return mn.toString();if(mn instanceof Error)return mn.message;try{return JSON.stringify(mn)}catch(xe){return null}}).filter(function(mn){return mn}).join(" ");tt>=(null!=ht?ht:kt.logLevel)&&ie({level:Ce[tt].toLowerCase(),message:qt,args:it,type:kt.name})}},ke=0,Be=le;ke<Be.length;ke++)Me(Be[ke])}},4685:(Tt,He,W)=>{"use strict";W.d(He,{BH:()=>Me,LL:()=>pt,ZR:()=>je,tV:()=>re,r3:()=>Zt,Sg:()=>ke,ne:()=>Pr,vZ:()=>xr,ZB:()=>ie,pd:()=>Or,m9:()=>Bn,z$:()=>Be,jU:()=>ht,ru:()=>kt,d:()=>it,xb:()=>An,w1:()=>Pt,hl:()=>Ze,uI:()=>be,UG:()=>$e,b$:()=>tt,G6:()=>xe,Mn:()=>qt,xO:()=>_r,zd:()=>Mn});var I=W(4762),Te=function(Ee){for(var we=[],Ge=0,nt=0;nt<Ee.length;nt++){var We=Ee.charCodeAt(nt);We<128?we[Ge++]=We:We<2048?(we[Ge++]=We>>6|192,we[Ge++]=63&We|128):55296==(64512&We)&&nt+1<Ee.length&&56320==(64512&Ee.charCodeAt(nt+1))?(We=65536+((1023&We)<<10)+(1023&Ee.charCodeAt(++nt)),we[Ge++]=We>>18|240,we[Ge++]=We>>12&63|128,we[Ge++]=We>>6&63|128,we[Ge++]=63&We|128):(we[Ge++]=We>>12|224,we[Ge++]=We>>6&63|128,we[Ge++]=63&We|128)}return we},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Ee,we){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Ge=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,nt=[],We=0;We<Ee.length;We+=3){var vt=Ee[We],Bt=We+1<Ee.length,dn=Bt?Ee[We+1]:0,In=We+2<Ee.length,Rn=In?Ee[We+2]:0,Xn=(15&dn)<<2|Rn>>6,nn=63&Rn;In||(nn=64,Bt||(Xn=64)),nt.push(Ge[vt>>2],Ge[(3&vt)<<4|dn>>4],Ge[Xn],Ge[nn])}return nt.join("")},encodeString:function(Ee,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(Ee):this.encodeByteArray(Te(Ee),we)},decodeString:function(Ee,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(Ee):function(Ee){for(var we=[],Ge=0,nt=0;Ge<Ee.length;){var We=Ee[Ge++];if(We<128)we[nt++]=String.fromCharCode(We);else if(We>191&&We<224){var vt=Ee[Ge++];we[nt++]=String.fromCharCode((31&We)<<6|63&vt)}else if(We>239&&We<365){var In=((7&We)<<18|(63&(vt=Ee[Ge++]))<<12|(63&(Bt=Ee[Ge++]))<<6|63&Ee[Ge++])-65536;we[nt++]=String.fromCharCode(55296+(In>>10)),we[nt++]=String.fromCharCode(56320+(1023&In))}else{vt=Ee[Ge++];var Bt=Ee[Ge++];we[nt++]=String.fromCharCode((15&We)<<12|(63&vt)<<6|63&Bt)}}return we.join("")}(this.decodeStringToByteArray(Ee,we))},decodeStringToByteArray:function(Ee,we){this.init_();for(var Ge=we?this.charToByteMapWebSafe_:this.charToByteMap_,nt=[],We=0;We<Ee.length;){var vt=Ge[Ee.charAt(We++)],dn=We<Ee.length?Ge[Ee.charAt(We)]:0,Rn=++We<Ee.length?Ge[Ee.charAt(We)]:64,Kn=++We<Ee.length?Ge[Ee.charAt(We)]:64;if(++We,null==vt||null==dn||null==Rn||null==Kn)throw Error();nt.push(vt<<2|dn>>4),64!==Rn&&(nt.push(dn<<4&240|Rn>>2),64!==Kn&&nt.push(Rn<<6&192|Kn))}return nt},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}},se=function(Ee){return function(Ee){var we=Te(Ee);return ge.encodeByteArray(we,!0)}(Ee).replace(/\./g,"")},re=function(Ee){try{return ge.decodeString(Ee,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function ie(Ee,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return we}for(var nt in we)!we.hasOwnProperty(nt)||!ye(nt)||(Ee[nt]=ie(Ee[nt],we[nt]));return Ee}function ye(Ee){return"__proto__"!==Ee}var Me=function(){function Ee(){var we=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Ge,nt){we.resolve=Ge,we.reject=nt})}return Ee.prototype.wrapCallback=function(we){var Ge=this;return function(nt,We){nt?Ge.reject(nt):Ge.resolve(We),"function"==typeof we&&(Ge.promise.catch(function(){}),1===we.length?we(nt):we(nt,We))}},Ee}();function ke(Ee,we){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var nt=we||"demo-project",We=Ee.iat||0,vt=Ee.sub||Ee.user_id;if(!vt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Bt=(0,I.pi)({iss:"https://securetoken.google.com/"+nt,aud:nt,iat:We,exp:We+3600,auth_time:We,sub:vt,user_id:vt,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(Bt)),""].join(".")}function Be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function $e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ee){return!1}}function ht(){return"object"==typeof self&&self.self===self}function kt(){var Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function it(){return Be().indexOf("Electron/")>=0}function Pt(){var Ee=Be();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function qt(){return Be().indexOf("MSAppHost/")>=0}function xe(){return!$e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ze(){return"indexedDB"in self&&null!=indexedDB}var je=function(Ee){function we(Ge,nt,We){var vt=Ee.call(this,nt)||this;return vt.code=Ge,vt.customData=We,vt.name="FirebaseError",Object.setPrototypeOf(vt,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(vt,pt.prototype.create),vt}return(0,I.ZT)(we,Ee),we}(Error),pt=function(){function Ee(we,Ge,nt){this.service=we,this.serviceName=Ge,this.errors=nt}return Ee.prototype.create=function(we){for(var Ge=[],nt=1;nt<arguments.length;nt++)Ge[nt-1]=arguments[nt];var We=Ge[0]||{},vt=this.service+"/"+we,Bt=this.errors[we],dn=Bt?bt(Bt,We):"Error",In=this.serviceName+": "+dn+" ("+vt+").",Rn=new je(vt,In,We);return Rn},Ee}();function bt(Ee,we){return Ee.replace(Ft,function(Ge,nt){var We=we[nt];return null!=We?String(We):"<"+nt+"?>"})}var Ft=/\{\$([^}]+)}/g;function Zt(Ee,we){return Object.prototype.hasOwnProperty.call(Ee,we)}function An(Ee){for(var we in Ee)if(Object.prototype.hasOwnProperty.call(Ee,we))return!1;return!0}function xr(Ee,we){if(Ee===we)return!0;for(var Ge=Object.keys(Ee),nt=Object.keys(we),We=0,vt=Ge;We<vt.length;We++){if(!nt.includes(Bt=vt[We]))return!1;var dn=Ee[Bt],In=we[Bt];if(ln(dn)&&ln(In)){if(!xr(dn,In))return!1}else if(dn!==In)return!1}for(var Rn=0,Fr=nt;Rn<Fr.length;Rn++){var Bt;if(!Ge.includes(Bt=Fr[Rn]))return!1}return!0}function ln(Ee){return null!==Ee&&"object"==typeof Ee}function _r(Ee){for(var we=[],Ge=function(In,Rn){Array.isArray(Rn)?Rn.forEach(function(Fr){we.push(encodeURIComponent(In)+"="+encodeURIComponent(Fr))}):we.push(encodeURIComponent(In)+"="+encodeURIComponent(Rn))},nt=0,We=Object.entries(Ee);nt<We.length;nt++){var vt=We[nt];Ge(vt[0],vt[1])}return we.length?"&"+we.join("&"):""}function Mn(Ee){var we={};return Ee.replace(/^\?/,"").split("&").forEach(function(nt){if(nt){var We=nt.split("="),Bt=We[1];we[decodeURIComponent(We[0])]=decodeURIComponent(Bt)}}),we}function Or(Ee){var we=Ee.indexOf("?");if(!we)return"";var Ge=Ee.indexOf("#",we);return Ee.substring(we,Ge>0?Ge:void 0)}function Pr(Ee,we){var Ge=new jt(Ee,we);return Ge.subscribe.bind(Ge)}!function(){function Ee(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var we=1;we<this.blockSize;++we)this.pad_[we]=0;this.reset()}Ee.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Ee.prototype.compress_=function(we,Ge){Ge||(Ge=0);var nt=this.W_;if("string"==typeof we)for(var We=0;We<16;We++)nt[We]=we.charCodeAt(Ge)<<24|we.charCodeAt(Ge+1)<<16|we.charCodeAt(Ge+2)<<8|we.charCodeAt(Ge+3),Ge+=4;else for(We=0;We<16;We++)nt[We]=we[Ge]<<24|we[Ge+1]<<16|we[Ge+2]<<8|we[Ge+3],Ge+=4;for(We=16;We<80;We++)nt[We]=4294967295&((vt=nt[We-3]^nt[We-8]^nt[We-14]^nt[We-16])<<1|vt>>>31);var Kn,Xn,Bt=this.chain_[0],dn=this.chain_[1],In=this.chain_[2],Rn=this.chain_[3],Fr=this.chain_[4];for(We=0;We<80;We++){We<40?We<20?(Kn=Rn^dn&(In^Rn),Xn=1518500249):(Kn=dn^In^Rn,Xn=1859775393):We<60?(Kn=dn&In|Rn&(dn|In),Xn=2400959708):(Kn=dn^In^Rn,Xn=3395469782);var vt=(Bt<<5|Bt>>>27)+Kn+Fr+Xn+nt[We]&4294967295;Fr=Rn,Rn=In,In=4294967295&(dn<<30|dn>>>2),dn=Bt,Bt=vt}this.chain_[0]=this.chain_[0]+Bt&4294967295,this.chain_[1]=this.chain_[1]+dn&4294967295,this.chain_[2]=this.chain_[2]+In&4294967295,this.chain_[3]=this.chain_[3]+Rn&4294967295,this.chain_[4]=this.chain_[4]+Fr&4294967295},Ee.prototype.update=function(we,Ge){if(null!=we){void 0===Ge&&(Ge=we.length);for(var nt=Ge-this.blockSize,We=0,vt=this.buf_,Bt=this.inbuf_;We<Ge;){if(0===Bt)for(;We<=nt;)this.compress_(we,We),We+=this.blockSize;if("string"==typeof we){for(;We<Ge;)if(vt[Bt]=we.charCodeAt(We),++We,++Bt===this.blockSize){this.compress_(vt),Bt=0;break}}else for(;We<Ge;)if(vt[Bt]=we[We],++We,++Bt===this.blockSize){this.compress_(vt),Bt=0;break}}this.inbuf_=Bt,this.total_+=Ge}},Ee.prototype.digest=function(){var we=[],Ge=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var nt=this.blockSize-1;nt>=56;nt--)this.buf_[nt]=255&Ge,Ge/=256;this.compress_(this.buf_);var We=0;for(nt=0;nt<5;nt++)for(var vt=24;vt>=0;vt-=8)we[We]=this.chain_[nt]>>vt&255,++We;return we}}();var jt=function(){function Ee(we,Ge){var nt=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ge,this.task.then(function(){we(nt)}).catch(function(We){nt.error(We)})}return Ee.prototype.next=function(we){this.forEachObserver(function(Ge){Ge.next(we)})},Ee.prototype.error=function(we){this.forEachObserver(function(Ge){Ge.error(we)}),this.close(we)},Ee.prototype.complete=function(){this.forEachObserver(function(we){we.complete()}),this.close()},Ee.prototype.subscribe=function(we,Ge,nt){var vt,We=this;if(void 0===we&&void 0===Ge&&void 0===nt)throw new Error("Missing Observer.");void 0===(vt=function(Ee,we){if("object"!=typeof Ee||null===Ee)return!1;for(var Ge=0,nt=["next","error","complete"];Ge<nt.length;Ge++){var We=nt[Ge];if(We in Ee&&"function"==typeof Ee[We])return!0}return!1}(we)?we:{next:we,error:Ge,complete:nt}).next&&(vt.next=jr),void 0===vt.error&&(vt.error=jr),void 0===vt.complete&&(vt.complete=jr);var Bt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{We.finalError?vt.error(We.finalError):vt.complete()}catch(dn){}}),this.observers.push(vt),Bt},Ee.prototype.unsubscribeOne=function(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Ee.prototype.forEachObserver=function(we){if(!this.finalized)for(var Ge=0;Ge<this.observers.length;Ge++)this.sendOne(Ge,we)},Ee.prototype.sendOne=function(we,Ge){var nt=this;this.task.then(function(){if(void 0!==nt.observers&&void 0!==nt.observers[we])try{Ge(nt.observers[we])}catch(We){"undefined"!=typeof console&&console.error&&console.error(We)}})},Ee.prototype.close=function(we){var Ge=this;this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(function(){Ge.observers=void 0,Ge.onNoObservers=void 0}))},Ee}();function jr(){}function Bn(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}},7841:(Tt,He,W)=>{"use strict";W.d(He,{Z:()=>I.Z});var I=W(4486);I.Z.registerVersion("firebase","9.0.2","app-compat")},6780:(Tt,He,W)=>{"use strict";W.r(He);var I=W(8239),c=W(4486),le=W(4685),Ce=W(5452),Te=W(4762),ue=W(300),ge=W(6034);const ke=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},be=new le.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ht=new ue.Yd("@firebase/auth");function kt(T,...m){ht.logLevel<=ue.in.ERROR&&ht.error(`Auth (${Ce.SDK_VERSION}): ${T}`,...m)}function tt(T,...m){throw mn(T,...m)}function it(T,...m){return mn(T,...m)}function Pt(T,m,v){const A=Object.assign(Object.assign({},Be()),{[m]:v});return new le.LL("auth","Firebase",A).create(m,{appName:T.name})}function qt(T,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&tt(T,"argument-error"),Pt(T,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mn(T,...m){if("string"!=typeof T){const v=m[0],A=[...m.slice(1)];return A[0]&&(A[0].appName=T.name),T._errorFactory.create(v,...A)}return be.create(T,...m)}function xe(T,m,...v){if(!T)throw mn(m,...v)}function Ze(T){const m="INTERNAL ASSERTION FAILED: "+T;throw kt(m),new Error(m)}function Oe(T,m){T||Ze(m)}const Je=new Map;function Ke(T){Oe(T instanceof Function,"Expected a class definition");let m=Je.get(T);return m?(Oe(m instanceof T,"Instance stored in cache mismatched with class"),m):(m=new T,Je.set(T,m),m)}function pt(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function bt(){return"http:"===Ft()||"https:"===Ft()}function Ft(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class Lt{constructor(m,v){this.shortDelay=m,this.longDelay=v,Oe(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,le.uI)()||(0,le.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bt()||(0,le.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Jt(T,m){Oe(T.emulator,"Emulator should always be set here");const{url:v}=T.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Fn{static initialize(m,v,A){this.fetchImpl=m,v&&(this.headersImpl=v),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ht=new Lt(3e4,6e4);function Zt(T,m){return T.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:T.tenantId}):m}function Ut(T,m,v,A){return An.apply(this,arguments)}function An(){return(An=(0,I.Z)(function*(T,m,v,A,Y={}){return dr(T,Y,()=>{let ce={},Ue={};A&&("GET"===m?Ue=A:ce={body:JSON.stringify(A)});const ut=(0,le.xO)(Object.assign({key:T.config.apiKey},Ue)).slice(1),Mt=new(Fn.headers());return Mt.set("Content-Type","application/json"),Mt.set("X-Client-Version",T._getSdkClientVersion()),T.languageCode&&Mt.set("X-Firebase-Locale",T.languageCode),Fn.fetch()(Mn(T,T.config.apiHost,v,ut),Object.assign({method:m,headers:Mt,referrerPolicy:"no-referrer"},ce))})})).apply(this,arguments)}function dr(T,m,v){return xr.apply(this,arguments)}function xr(){return(xr=(0,I.Z)(function*(T,m,v){T._canInitEmulator=!1;const A=Object.assign(Object.assign({},zr),m);try{const Y=new Or(T),ce=yield Promise.race([v(),Y.promise]);Y.clearNetworkTimeout();const Ue=yield ce.json();if("needConfirmation"in Ue)throw En(T,"account-exists-with-different-credential",Ue);if(ce.ok&&!("errorMessage"in Ue))return Ue;{const ut=ce.ok?Ue.errorMessage:Ue.error.message,[Mt,tn]=ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Mt)throw En(T,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===Mt)throw En(T,"email-already-in-use",Ue);const Nn=A[Mt]||Mt.toLowerCase().replace(/[_\s]+/g,"-");if(tn)throw Pt(T,Nn,tn);tt(T,Nn)}}catch(Y){if(Y instanceof le.ZR)throw Y;tt(T,"network-request-failed")}})).apply(this,arguments)}function ln(T,m,v,A){return _r.apply(this,arguments)}function _r(){return(_r=(0,I.Z)(function*(T,m,v,A,Y={}){const ce=yield Ut(T,m,v,A,Y);return"mfaPendingCredential"in ce&&tt(T,"multi-factor-auth-required",{serverResponse:ce}),ce})).apply(this,arguments)}function Mn(T,m,v,A){const Y=`${m}${v}?${A}`;return T.config.emulator?Jt(T.config,Y):`${T.config.apiScheme}://${Y}`}class Or{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,A)=>{this.timer=setTimeout(()=>A(it(this.auth,"timeout")),Ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function En(T,m,v){const A={appName:T.name};v.email&&(A.email=v.email),v.phoneNumber&&(A.phoneNumber=v.phoneNumber);const Y=it(T,m,A);return Y.customData._tokenResponse=v,Y}function jt(){return(jt=(0,I.Z)(function*(T,m){return Ut(T,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function br(T,m){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,I.Z)(function*(T,m){return Ut(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function jr(T,m){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,I.Z)(function*(T,m){return Ut(T,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Gt(T){if(T)try{const m=new Date(Number(T));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function or(){return(or=(0,I.Z)(function*(T,m=!1){const v=(0,le.m9)(T),A=yield v.getIdToken(m),Y=wt(A);xe(Y&&Y.exp&&Y.auth_time&&Y.iat,v.auth,"internal-error");const ce="object"==typeof Y.firebase?Y.firebase:void 0,Ue=null==ce?void 0:ce.sign_in_provider;return{claims:Y,token:A,authTime:Gt($n(Y.auth_time)),issuedAtTime:Gt($n(Y.iat)),expirationTime:Gt($n(Y.exp)),signInProvider:Ue||null,signInSecondFactor:(null==ce?void 0:ce.sign_in_second_factor)||null}})).apply(this,arguments)}function $n(T){return 1e3*Number(T)}function wt(T){const[m,v,A]=T.split(".");if(void 0===m||void 0===v||void 0===A)return kt("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,le.tV)(v);return Y?JSON.parse(Y):(kt("Failed to decode base64 JWT payload"),null)}catch(Y){return kt("Caught error parsing JWT payload as JSON",Y),null}}function ai(T,m){return vs.apply(this,arguments)}function vs(){return(vs=(0,I.Z)(function*(T,m,v=!1){if(v)return m;try{return yield m}catch(A){throw A instanceof le.ZR&&Sr(A)&&T.auth.currentUser===T&&(yield T.auth.signOut()),A}})).apply(this,arguments)}function Sr({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}class ar{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const Y=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const A=this.getInterval(m);this.timerId=setTimeout((0,I.Z)(function*(){yield v.iteration()}),A)}iteration(){var m=this;return(0,I.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&m.schedule(!0))}m.schedule()})()}}class Qr{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gt(this.lastLoginAt),this.creationTime=Gt(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kr(T){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,I.Z)(function*(T){var m;const v=T.auth,A=yield T.getIdToken(),Y=yield ai(T,jr(v,{idToken:A}));xe(null==Y?void 0:Y.users.length,v,"internal-error");const ce=Y.users[0];T._notifyReloadListener(ce);const Ue=(null===(m=ce.providerUserInfo)||void 0===m?void 0:m.length)?nt(ce.providerUserInfo):[],ut=Ge(T.providerData,Ue),Nn=!!T.isAnonymous&&!(T.email&&ce.passwordHash||(null==ut?void 0:ut.length)),rt={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:ut,metadata:new Qr(ce.createdAt,ce.lastLoginAt),isAnonymous:Nn};Object.assign(T,rt)})).apply(this,arguments)}function we(){return(we=(0,I.Z)(function*(T){const m=(0,le.m9)(T);yield kr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Ge(T,m){return[...T.filter(A=>!m.some(Y=>Y.providerId===A.providerId)),...m]}function nt(T){return T.map(m=>{var{providerId:v}=m,A=(0,Te._T)(m,["providerId"]);return{providerId:v,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function vt(){return(vt=(0,I.Z)(function*(T,m){const v=yield dr(T,{},()=>{const A=(0,le.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:Y,apiKey:ce}=T.config,Ue=Mn(T,Y,"/v1/token",`key=${ce}`);return Fn.fetch()(Ue,{method:"POST",headers:{"X-Client-Version":T._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:A})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Bt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){xe(m.idToken,"internal-error"),xe(void 0!==m.idToken,"internal-error"),xe(void 0!==m.refreshToken,"internal-error");const v="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(T){const m=wt(T);return xe(m,"internal-error"),xe(void 0!==m.exp,"internal-error"),xe(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var A=this;return(0,I.Z)(function*(){return xe(!A.accessToken||A.refreshToken,m,"user-token-expired"),v||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(m,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var A=this;return(0,I.Z)(function*(){const{accessToken:Y,refreshToken:ce,expiresIn:Ue}=yield function(T,m){return vt.apply(this,arguments)}(m,v);A.updateTokensAndExpiration(Y,ce,Number(Ue))})()}updateTokensAndExpiration(m,v,A){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(m,v){const{refreshToken:A,accessToken:Y,expirationTime:ce}=v,Ue=new Bt;return A&&(xe("string"==typeof A,"internal-error",{appName:m}),Ue.refreshToken=A),Y&&(xe("string"==typeof Y,"internal-error",{appName:m}),Ue.accessToken=Y),ce&&(xe("number"==typeof ce,"internal-error",{appName:m}),Ue.expirationTime=ce),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Bt,this.toJSON())}_performRefresh(){return Ze("not implemented")}}function dn(T,m){xe("string"==typeof T||void 0===T,"internal-error",{appName:m})}class In{constructor(m){var{uid:v,auth:A,stsTokenManager:Y}=m,ce=(0,Te._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=A,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.metadata=new Qr(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,I.Z)(function*(){const A=yield ai(v,v.stsTokenManager.getToken(v.auth,m));return xe(A,v.auth,"internal-error"),v.accessToken!==A&&(v.accessToken=A,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),A})()}getIdTokenResult(m){return function(T){return or.apply(this,arguments)}(this,m)}reload(){return function(T){return we.apply(this,arguments)}(this)}_assign(m){this!==m&&(xe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new In(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var A=this;return(0,I.Z)(function*(){let Y=!1;m.idToken&&m.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(m),Y=!0),v&&(yield kr(A)),yield A.auth._persistUserIfCurrent(A),Y&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var m=this;return(0,I.Z)(function*(){const v=yield m.getIdToken();return yield ai(m,function(T,m){return jt.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var A,Y,ce,Ue,ut,Mt,tn,Nn;const rt=null!==(A=v.displayName)&&void 0!==A?A:void 0,Hi=null!==(Y=v.email)&&void 0!==Y?Y:void 0,ys=null!==(ce=v.phoneNumber)&&void 0!==ce?ce:void 0,Tc=null!==(Ue=v.photoURL)&&void 0!==Ue?Ue:void 0,Lu=null!==(ut=v.tenantId)&&void 0!==ut?ut:void 0,yl=null!==(Mt=v._redirectEventId)&&void 0!==Mt?Mt:void 0,Ah=null!==(tn=v.createdAt)&&void 0!==tn?tn:void 0,Qo=null!==(Nn=v.lastLoginAt)&&void 0!==Nn?Nn:void 0,{uid:Jo,emailVerified:$d,isAnonymous:Mh,providerData:Qs,stsTokenManager:Hd}=v;xe(Jo&&Hd,m,"internal-error");const da=Bt.fromJSON(this.name,Hd);xe("string"==typeof Jo,m,"internal-error"),dn(rt,m.name),dn(Hi,m.name),xe("boolean"==typeof $d,m,"internal-error"),xe("boolean"==typeof Mh,m,"internal-error"),dn(ys,m.name),dn(Tc,m.name),dn(Lu,m.name),dn(yl,m.name),dn(Ah,m.name),dn(Qo,m.name);const ha=new In({uid:Jo,auth:m,email:Hi,emailVerified:$d,displayName:rt,isAnonymous:Mh,photoURL:Tc,phoneNumber:ys,tenantId:Lu,stsTokenManager:da,createdAt:Ah,lastLoginAt:Qo});return Qs&&Array.isArray(Qs)&&(ha.providerData=Qs.map(ad=>Object.assign({},ad))),yl&&(ha._redirectEventId=yl),ha}static _fromIdTokenResponse(m,v,A=!1){return(0,I.Z)(function*(){const Y=new Bt;Y.updateFromServerResponse(v);const ce=new In({uid:v.localId,auth:m,stsTokenManager:Y,isAnonymous:A});return yield kr(ce),ce})()}}const Fr=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(v,A){var Y=this;return(0,I.Z)(function*(){Y.storage[v]=A})()}_get(v){var A=this;return(0,I.Z)(function*(){const Y=A.storage[v];return void 0===Y?null:Y})()}_remove(v){var A=this;return(0,I.Z)(function*(){delete A.storage[v]})()}_addListener(v,A){}_removeListener(v,A){}}return T.type="NONE",T})();function Kn(T,m,v){return`firebase:${T}:${m}:${v}`}class Xn{constructor(m,v,A){this.persistence=m,this.auth=v,this.userKey=A;const{config:Y,name:ce}=this.auth;this.fullUserKey=Kn(this.userKey,Y.apiKey,ce),this.fullPersistenceKey=Kn("persistence",Y.apiKey,ce),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,I.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?In._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,I.Z)(function*(){if(v.persistence===m)return;const A=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,A?v.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,A="authUser"){return(0,I.Z)(function*(){if(!v.length)return new Xn(Ke(Fr),m,A);const Y=(yield Promise.all(v.map(function(){var tn=(0,I.Z)(function*(Nn){if(yield Nn._isAvailable())return Nn});return function(Nn){return tn.apply(this,arguments)}}()))).filter(tn=>tn);let ce=Y[0]||Ke(Fr);const Ue=Kn(A,m.config.apiKey,m.name);let ut=null;for(const tn of v)try{const Nn=yield tn._get(Ue);if(Nn){const rt=In._fromJSON(m,Nn);tn!==ce&&(ut=rt),ce=tn;break}}catch(Nn){}const Mt=Y.filter(tn=>tn._shouldAllowMigration);return ce._shouldAllowMigration&&Mt.length?(ce=Mt[0],ut&&(yield ce._set(Ue,ut.toJSON())),yield Promise.all(v.map(function(){var tn=(0,I.Z)(function*(Nn){if(Nn!==ce)try{yield Nn._remove(Ue)}catch(rt){}});return function(Nn){return tn.apply(this,arguments)}}())),new Xn(ce,m,A)):new Xn(ce,m,A)})()}}function nn(T){const m=T.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(bs(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(li(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Cr(m))return"Blackberry";if(fr(m))return"Webos";if(As(m))return"Safari";if((m.includes("chrome/")||vi(m))&&!m.includes("edge/"))return"Chrome";if(ws(m))return"Android";{const A=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function li(T=(0,le.z$)()){return/firefox\//i.test(T)}function As(T=(0,le.z$)()){const m=T.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function vi(T=(0,le.z$)()){return/crios\//i.test(T)}function bs(T=(0,le.z$)()){return/iemobile/i.test(T)}function ws(T=(0,le.z$)()){return/android/i.test(T)}function Cr(T=(0,le.z$)()){return/blackberry/i.test(T)}function fr(T=(0,le.z$)()){return/webos/i.test(T)}function pr(T=(0,le.z$)()){return/iphone|ipad|ipod/i.test(T)}function Rt(T=(0,le.z$)()){return pr(T)||ws(T)||fr(T)||Cr(T)||/windows phone/i.test(T)||bs(T)}function Hn(T,m=[]){let v;switch(T){case"Browser":v=nn((0,le.z$)());break;case"Worker":v=`${nn((0,le.z$)())}-${T}`;break;default:v=T}const A=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${Ce.SDK_VERSION}/${A}`}class Gn{constructor(m,v){this.app=m,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yr(this),this.idTokenSubscription=new yr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(m,v){var A=this;return v&&(this._popupRedirectResolver=Ke(v)),this._initializationPromise=this.queue((0,I.Z)(function*(){var Y;A._deleted||(A.persistenceManager=yield Xn.create(A,m),!A._deleted&&((null===(Y=A._popupRedirectResolver)||void 0===Y?void 0:Y._shouldInitProactively)&&(yield A._popupRedirectResolver._initialize(A)),yield A.initializeCurrentUser(v),!A._deleted&&(A._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,I.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v)}})()}initializeCurrentUser(m){var v=this;return(0,I.Z)(function*(){var A;let Y=yield v.assertedPersistence.getCurrentUser();if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const ce=null===(A=v.redirectUser)||void 0===A?void 0:A._redirectEventId,Ue=null==Y?void 0:Y._redirectEventId,ut=yield v.tryRedirectSignIn(m);(!ce||ce===Ue)&&(null==ut?void 0:ut.user)&&(Y=ut.user)}return Y?Y._redirectEventId?(xe(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===Y._redirectEventId?v.directlySetCurrentUser(Y):v.reloadAndSetCurrentUserOrClear(Y)):v.reloadAndSetCurrentUserOrClear(Y):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var v=this;return(0,I.Z)(function*(){let A=null;try{A=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch(Y){yield v._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,I.Z)(function*(){try{yield kr(m)}catch(A){if("auth/network-request-failed"!==A.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var m=this;return(0,I.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,I.Z)(function*(){const A=m?(0,le.m9)(m):null;return A&&xe(A.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(A&&A._clone(v))})()}_updateCurrentUser(m){var v=this;return(0,I.Z)(function*(){if(!v._deleted)return m&&xe(v.tenantId===m.tenantId,v,"tenant-id-mismatch"),v.queue((0,I.Z)(function*(){yield v.directlySetCurrentUser(m),v.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,I.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var v=this;return this.queue((0,I.Z)(function*(){yield v.assertedPersistence.setPersistence(Ke(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new le.LL("auth","Firebase",m())}onAuthStateChanged(m,v,A){return this.registerStateListener(this.authStateSubscription,m,v,A)}onIdTokenChanged(m,v,A){return this.registerStateListener(this.idTokenSubscription,m,v,A)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var A=this;return(0,I.Z)(function*(){const Y=yield A.getOrInitRedirectPersistenceManager(v);return null===m?Y.removeCurrentUser():Y.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,I.Z)(function*(){if(!v.redirectPersistenceManager){const A=m&&Ke(m)||v._popupRedirectResolver;xe(A,v,"argument-error"),v.redirectPersistenceManager=yield Xn.create(v,[Ke(A._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,I.Z)(function*(){var A,Y;return v._isInitialized&&(yield v.queue((0,I.Z)(function*(){}))),(null===(A=v._currentUser)||void 0===A?void 0:A._redirectEventId)===m?v._currentUser:(null===(Y=v.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,I.Z)(function*(){if(m===v.currentUser)return v.queue((0,I.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,A,Y){if(this._deleted)return()=>{};const ce="function"==typeof v?v:v.next.bind(v),Ue=this._isInitialized?Promise.resolve():this._initializationPromise;return xe(Ue,this,"internal-error"),Ue.then(()=>ce(this.currentUser)),"function"==typeof v?m.addObserver(v,A,Y):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,I.Z)(function*(){v.currentUser&&v.currentUser!==m&&(v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh()),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Hn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function fn(T){return(0,le.m9)(T)}class yr{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,le.ne)(v=>this.observer=v)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Lr(T){const m=T.indexOf(":");return m<0?"":T.substr(0,m+1)}function Cs(T){if(!T)return null;const m=Number(T);return isNaN(m)?null:m}class Ve{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Ze("not implemented")}_getIdTokenResponse(m){return Ze("not implemented")}_linkToIdToken(m,v){return Ze("not implemented")}_getReauthenticationResolver(m){return Ze("not implemented")}}function Re(T,m){return ve.apply(this,arguments)}function ve(){return(ve=(0,I.Z)(function*(T,m){return Ut(T,"POST","/v1/accounts:resetPassword",Zt(T,m))})).apply(this,arguments)}function qe(T,m){return dt.apply(this,arguments)}function dt(){return(dt=(0,I.Z)(function*(T,m){return Ut(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Kt(T,m){return en.apply(this,arguments)}function en(){return(en=(0,I.Z)(function*(T,m){return Ut(T,"POST","/v1/accounts:update",Zt(T,m))})).apply(this,arguments)}function _n(){return(_n=(0,I.Z)(function*(T,m){return ln(T,"POST","/v1/accounts:signInWithPassword",Zt(T,m))})).apply(this,arguments)}function us(T,m){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,I.Z)(function*(T,m){return Ut(T,"POST","/v1/accounts:sendOobCode",Zt(T,m))})).apply(this,arguments)}function Gi(T,m){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,I.Z)(function*(T,m){return us(T,m)})).apply(this,arguments)}function Ms(T,m){return Li.apply(this,arguments)}function Li(){return(Li=(0,I.Z)(function*(T,m){return us(T,m)})).apply(this,arguments)}function es(T,m){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,I.Z)(function*(T,m){return us(T,m)})).apply(this,arguments)}function Ao(T,m){return bi.apply(this,arguments)}function bi(){return(bi=(0,I.Z)(function*(T,m){return us(T,m)})).apply(this,arguments)}function Ws(){return(Ws=(0,I.Z)(function*(T,m){return ln(T,"POST","/v1/accounts:signInWithEmailLink",Zt(T,m))})).apply(this,arguments)}function ii(){return(ii=(0,I.Z)(function*(T,m){return ln(T,"POST","/v1/accounts:signInWithEmailLink",Zt(T,m))})).apply(this,arguments)}class wi extends Ve{constructor(m,v,A,Y=null){super("password",A),this._email=m,this._password=v,this._tenantId=Y}static _fromEmailAndPassword(m,v){return new wi(m,v,"password")}static _fromEmailAndCode(m,v,A=null){return new wi(m,v,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,I.Z)(function*(){switch(v.signInMethod){case"password":return function(T,m){return _n.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(T,m){return Ws.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:tt(m,"internal-error")}})()}_linkToIdToken(m,v){var A=this;return(0,I.Z)(function*(){switch(A.signInMethod){case"password":return qe(m,{idToken:v,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function(T,m){return ii.apply(this,arguments)}(m,{idToken:v,email:A._email,oobCode:A._password});default:tt(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Nr(T,m){return co.apply(this,arguments)}function co(){return(co=(0,I.Z)(function*(T,m){return ln(T,"POST","/v1/accounts:signInWithIdp",Zt(T,m))})).apply(this,arguments)}class Ei extends Ve{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Ei(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):tt("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:A,signInMethod:Y}=v,ce=(0,Te._T)(v,["providerId","signInMethod"]);if(!A||!Y)return null;const Ue=new Ei(A,Y);return Object.assign(Ue,ce),Ue}_getIdTokenResponse(m){return Nr(m,this.buildRequest())}_linkToIdToken(m,v){const A=this.buildRequest();return A.idToken=v,Nr(m,A)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Nr(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,le.xO)(v)}return m}}function $r(T,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,I.Z)(function*(T,m){return Ut(T,"POST","/v1/accounts:sendVerificationCode",Zt(T,m))})).apply(this,arguments)}function zs(){return(zs=(0,I.Z)(function*(T,m){return ln(T,"POST","/v1/accounts:signInWithPhoneNumber",Zt(T,m))})).apply(this,arguments)}function xs(){return(xs=(0,I.Z)(function*(T,m){const v=yield ln(T,"POST","/v1/accounts:signInWithPhoneNumber",Zt(T,m));if(v.temporaryProof)throw En(T,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Pa={USER_NOT_FOUND:"user-not-found"};function zi(){return(zi=(0,I.Z)(function*(T,m){return ln(T,"POST","/v1/accounts:signInWithPhoneNumber",Zt(T,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Pa)})).apply(this,arguments)}class Ui extends Ve{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Ui({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Ui({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function(T,m){return zs.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function(T,m){return xs.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(T,m){return zi.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:A,verificationCode:Y}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:A,code:Y}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:A,phoneNumber:Y,temporaryProof:ce}=m;return A||v||Y||ce?new Ui({verificationId:v,verificationCode:A,phoneNumber:Y,temporaryProof:ce}):null}}class Os{constructor(m){var v,A,Y,ce,Ue,ut;const Mt=(0,le.zd)((0,le.pd)(m)),tn=null!==(v=Mt.apiKey)&&void 0!==v?v:null,Nn=null!==(A=Mt.oobCode)&&void 0!==A?A:null,rt=function(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Mt.mode)&&void 0!==Y?Y:null);xe(tn&&Nn&&rt,"argument-error"),this.apiKey=tn,this.operation=rt,this.code=Nn,this.continueUrl=null!==(ce=Mt.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(Ue=Mt.languageCode)&&void 0!==Ue?Ue:null,this.tenantId=null!==(ut=Mt.tenantId)&&void 0!==ut?ut:null}static parseLink(m){const v=function(T){const m=(0,le.zd)((0,le.pd)(T)).link,v=m?(0,le.zd)((0,le.pd)(m)).deep_link_id:null,A=(0,le.zd)((0,le.pd)(T)).deep_link_id;return(A?(0,le.zd)((0,le.pd)(A)).link:null)||A||v||m||T}(m);try{return new Os(v)}catch(A){return null}}}let Ps=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(v,A){return wi._fromEmailAndPassword(v,A)}static credentialWithLink(v,A){const Y=Os.parseLink(A);return xe(Y,"argument-error"),wi._fromEmailAndCode(v,Y.code,Y.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class Ri{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ks extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class xi extends ks{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return xe("providerId"in v&&"signInMethod"in v,"argument-error"),Ei._fromParams(v)}credential(m){return this._credential(m)}_credential(m){return xe(m.idToken||m.accessToken,"argument-error"),Ei._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return xi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return xi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:A,oauthTokenSecret:Y,pendingToken:ce,nonce:Ue,providerId:ut}=m;if(!A&&!Y&&!v&&!ce||!ut)return null;try{return new xi(ut)._credential({idToken:v,accessToken:A,rawNonce:Ue,pendingToken:ce})}catch(Mt){return null}}}let to=(()=>{class T extends ks{constructor(){super("facebook.com")}static credential(v){return Ei._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch(A){return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),ts=(()=>{class T extends ks{constructor(){super("google.com"),this.addScope("profile")}static credential(v,A){return Ei._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:A})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:A,oauthAccessToken:Y}=v;if(!A&&!Y)return null;try{return T.credential(A,Y)}catch(ce){return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),qi=(()=>{class T extends ks{constructor(){super("github.com")}static credential(v){return Ei._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch(A){return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Di extends Ve{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Nr(m,this.buildRequest())}_linkToIdToken(m,v){const A=this.buildRequest();return A.idToken=v,Nr(m,A)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Nr(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:A,signInMethod:Y,pendingToken:ce}=v;return A&&Y&&ce&&A===Y?new Di(A,ce):null}static _create(m,v){return new Di(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Fs=(()=>{class T extends ks{constructor(){super("twitter.com")}static credential(v,A){return Ei._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:A})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:A,oauthTokenSecret:Y}=v;if(!A||!Y)return null;try{return T.credential(A,Y)}catch(ce){return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Ls(T,m){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,I.Z)(function*(T,m){return ln(T,"POST","/v1/accounts:signUp",Zt(T,m))})).apply(this,arguments)}class Br{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,A,Y=!1){return(0,I.Z)(function*(){const ce=yield In._fromIdTokenResponse(m,A,Y),Ue=Go(A);return new Br({user:ce,providerId:Ue,_tokenResponse:A,operationType:v})})()}static _forOperation(m,v,A){return(0,I.Z)(function*(){yield m._updateTokensIfNecessary(A,!0);const Y=Go(A);return new Br({user:m,providerId:Y,_tokenResponse:A,operationType:v})})()}}function Go(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function Ci(){return(Ci=(0,I.Z)(function*(T){var m;const v=fn(T);if(yield v._initializationPromise,null===(m=v.currentUser)||void 0===m?void 0:m.isAnonymous)return new Br({user:v.currentUser,providerId:null,operationType:"signIn"});const A=yield Ls(v,{returnSecureToken:!0}),Y=yield Br._fromIdTokenResponse(v,"signIn",A,!0);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class ns extends le.ZR{constructor(m,v,A,Y){var ce;super(v.code,v.message),this.operationType=A,this.user=Y,this.name="FirebaseError",Object.setPrototypeOf(this,ns.prototype),this.appName=m.name,this.code=v.code,this.tenantId=null!==(ce=m.tenantId)&&void 0!==ce?ce:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(m,v,A,Y){return new ns(m,v,A,Y)}}function fi(T,m,v,A){return("reauthenticate"===m?v._getReauthenticationResolver(T):v._getIdTokenResponse(T)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?ns._fromErrorAndOperation(T,ce,m,A):ce})}function Vn(T){return new Set(T.map(({providerId:m})=>m).filter(m=>!!m))}function Ti(){return(Ti=(0,I.Z)(function*(T,m){const v=(0,le.m9)(T);yield G(!0,v,m);const{providerUserInfo:A}=yield br(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),Y=Vn(A||[]);return v.providerData=v.providerData.filter(ce=>Y.has(ce.providerId)),Y.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function U(T,m){return te.apply(this,arguments)}function te(){return(te=(0,I.Z)(function*(T,m,v=!1){const A=yield ai(T,m._linkToIdToken(T.auth,yield T.getIdToken()),v);return Br._forOperation(T,"link",A)})).apply(this,arguments)}function G(T,m,v){return oe.apply(this,arguments)}function oe(){return(oe=(0,I.Z)(function*(T,m,v){yield kr(m);const Y=!1===T?"provider-already-linked":"no-such-provider";xe(Vn(m.providerData).has(v)===T,m.auth,Y)})).apply(this,arguments)}function Ie(T,m){return et.apply(this,arguments)}function et(){return(et=(0,I.Z)(function*(T,m,v=!1){const{auth:A}=T,Y="reauthenticate";try{const ce=yield ai(T,fi(A,Y,m,T),v);xe(ce.idToken,A,"internal-error");const Ue=wt(ce.idToken);xe(Ue,A,"internal-error");const{sub:ut}=Ue;return xe(T.uid===ut,A,"user-mismatch"),Br._forOperation(T,Y,ce)}catch(ce){throw"auth/user-not-found"===(null==ce?void 0:ce.code)&&tt(A,"user-mismatch"),ce}})).apply(this,arguments)}function gt(T,m){return $.apply(this,arguments)}function $(){return($=(0,I.Z)(function*(T,m,v=!1){const A="signIn",Y=yield fi(T,A,m),ce=yield Br._fromIdTokenResponse(T,A,Y);return v||(yield T._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function L(T,m){return k.apply(this,arguments)}function k(){return(k=(0,I.Z)(function*(T,m){return gt(fn(T),m)})).apply(this,arguments)}function ne(T,m){return ze.apply(this,arguments)}function ze(){return(ze=(0,I.Z)(function*(T,m){const v=(0,le.m9)(T);return yield G(!1,v,m.providerId),U(v,m)})).apply(this,arguments)}function Et(T,m){return yn.apply(this,arguments)}function yn(){return(yn=(0,I.Z)(function*(T,m){return Ie((0,le.m9)(T),m)})).apply(this,arguments)}function ir(T,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,I.Z)(function*(T,m){return ln(T,"POST","/v1/accounts:signInWithCustomToken",Zt(T,m))})).apply(this,arguments)}function Jr(){return(Jr=(0,I.Z)(function*(T,m){const v=fn(T),A=yield ir(v,{token:m,returnSecureToken:!0}),Y=yield Br._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Ar{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?on._fromServerResponse(m,v):tt(m,"internal-error")}}class on extends Ar{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new on(v)}}function Vs(T,m,v){var A;xe((null===(A=v.url)||void 0===A?void 0:A.length)>0,T,"invalid-continue-uri"),xe(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(xe(v.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),m.iosBundleId=v.iOS.bundleId),v.android&&(xe(v.android.packageName.length>0,T,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function yo(){return(yo=(0,I.Z)(function*(T,m,v){const A=(0,le.m9)(T),Y={requestType:"PASSWORD_RESET",email:m};v&&Vs(A,Y,v),yield Ms(A,Y)})).apply(this,arguments)}function Ro(){return(Ro=(0,I.Z)(function*(T,m,v){yield Re((0,le.m9)(T),{oobCode:m,newPassword:v})})).apply(this,arguments)}function na(){return(na=(0,I.Z)(function*(T,m){yield Kt((0,le.m9)(T),{oobCode:m})})).apply(this,arguments)}function mt(T,m){return Un.apply(this,arguments)}function Un(){return(Un=(0,I.Z)(function*(T,m){const v=(0,le.m9)(T),A=yield Re(v,{oobCode:m}),Y=A.requestType;switch(xe(Y,v,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(A.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(A.mfaInfo,v,"internal-error");default:xe(A.email,v,"internal-error")}let ce=null;return A.mfaInfo&&(ce=Ar._fromServerResponse(fn(v),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:ce},operation:Y}})).apply(this,arguments)}function Xr(){return(Xr=(0,I.Z)(function*(T,m){const{data:v}=yield mt((0,le.m9)(T),m);return v.email})).apply(this,arguments)}function no(){return(no=(0,I.Z)(function*(T,m,v){const A=fn(T),Y=yield Ls(A,{returnSecureToken:!0,email:m,password:v}),ce=yield Br._fromIdTokenResponse(A,"signIn",Y);return yield A._updateCurrentUser(ce.user),ce})).apply(this,arguments)}function C(){return(C=(0,I.Z)(function*(T,m,v){const A=(0,le.m9)(T),Y={requestType:"EMAIL_SIGNIN",email:m};xe(v.handleCodeInApp,A,"argument-error"),v&&Vs(A,Y,v),yield es(A,Y)})).apply(this,arguments)}function Q(){return(Q=(0,I.Z)(function*(T,m,v){const A=(0,le.m9)(T),Y=Ps.credentialWithLink(m,v||pt());return xe(Y._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),L(A,Y)})).apply(this,arguments)}function de(T,m){return _e.apply(this,arguments)}function _e(){return(_e=(0,I.Z)(function*(T,m){return Ut(T,"POST","/v1/accounts:createAuthUri",Zt(T,m))})).apply(this,arguments)}function Ye(){return(Ye=(0,I.Z)(function*(T,m){const A={identifier:m,continueUri:bt()?pt():"http://localhost"},{signinMethods:Y}=yield de((0,le.m9)(T),A);return Y||[]})).apply(this,arguments)}function Dt(){return(Dt=(0,I.Z)(function*(T,m){const v=(0,le.m9)(T),Y={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};m&&Vs(v.auth,Y,m);const{email:ce}=yield Gi(v.auth,Y);ce!==T.email&&(yield T.reload())})).apply(this,arguments)}function Tn(){return(Tn=(0,I.Z)(function*(T,m,v){const A=(0,le.m9)(T),ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:m};v&&Vs(A.auth,ce,v);const{email:Ue}=yield Ao(A.auth,ce);Ue!==T.email&&(yield T.reload())})).apply(this,arguments)}function er(T,m){return rn.apply(this,arguments)}function rn(){return(rn=(0,I.Z)(function*(T,m){return Ut(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function kn(){return(kn=(0,I.Z)(function*(T,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const A=(0,le.m9)(T),ce={idToken:yield A.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},Ue=yield ai(A,er(A.auth,ce));A.displayName=Ue.displayName||null,A.photoURL=Ue.photoUrl||null;const ut=A.providerData.find(({providerId:Mt})=>"password"===Mt);ut&&(ut.displayName=A.displayName,ut.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Ue)})).apply(this,arguments)}function Yi(T,m,v){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,I.Z)(function*(T,m,v){const{auth:A}=T,ce={idToken:yield T.getIdToken(),returnSecureToken:!0};m&&(ce.email=m),v&&(ce.password=v);const Ue=yield ai(T,qe(A,ce));yield T._updateTokensIfNecessary(Ue,!0)})).apply(this,arguments)}class Hr{constructor(m,v,A={}){this.isNewUser=m,this.providerId=v,this.profile=A}}class Ii extends Hr{constructor(m,v,A,Y){super(m,v,A),this.username=Y}}class Tr extends Hr{constructor(m,v){super(m,"facebook.com",v)}}class Ts extends Ii{constructor(m,v){super(m,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class ci extends Hr{constructor(m,v){super(m,"google.com",v)}}class ka extends Ii{constructor(m,v,A){super(m,"twitter.com",v,A)}}function io(T){const{user:m,_tokenResponse:v}=T;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(T){var m,v;if(!T)return null;const{providerId:A}=T,Y=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},ce=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!A&&(null==T?void 0:T.idToken)){const Ue=null===(v=null===(m=wt(T.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(Ue)return new Hr(ce,"anonymous"!==Ue&&"custom"!==Ue?Ue:null)}if(!A)return null;switch(A){case"facebook.com":return new Tr(ce,Y);case"github.com":return new Ts(ce,Y);case"google.com":return new ci(ce,Y);case"twitter.com":return new ka(ce,Y,T.screenName||null);case"custom":case"anonymous":return new Hr(ce,null);default:return new Hr(ce,A,Y)}}(v)}class mr{constructor(m,v){this.type=m,this.credential=v}static _fromIdtoken(m){return new mr("enroll",m)}static _fromMfaPendingCredential(m){return new mr("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,A;if(null==m?void 0:m.multiFactorSession){if(null===(v=m.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return mr._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(A=m.multiFactorSession)||void 0===A?void 0:A.idToken)return mr._fromIdtoken(m.multiFactorSession.idToken)}return null}}class pi{constructor(m,v,A){this.session=m,this.hints=v,this.signInResolver=A}static _fromError(m,v){const A=fn(m),Y=(v.serverResponse.mfaInfo||[]).map(Ue=>Ar._fromServerResponse(A,Ue));xe(v.serverResponse.mfaPendingCredential,A,"internal-error");const ce=mr._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new pi(ce,Y,function(){var Ue=(0,I.Z)(function*(ut){const Mt=yield ut._process(A,ce);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const tn=Object.assign(Object.assign({},v.serverResponse),{idToken:Mt.idToken,refreshToken:Mt.refreshToken});switch(v.operationType){case"signIn":const Nn=yield Br._fromIdTokenResponse(A,v.operationType,tn);return yield A._updateCurrentUser(Nn.user),Nn;case"reauthenticate":return xe(v.user,A,"internal-error"),Br._forOperation(v.user,v.operationType,tn);default:tt(A,"internal-error")}});return function(ut){return Ue.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,I.Z)(function*(){return v.signInResolver(m)})()}}function Dr(T,m){return Ut(T,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:T.tenantId},m))}class xo{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(A=>Ar._fromServerResponse(m.auth,A)))})}static _fromUser(m){return new xo(m)}getSession(){var m=this;return(0,I.Z)(function*(){return mr._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,v){var A=this;return(0,I.Z)(function*(){const Y=m,ce=yield A.getSession(),Ue=yield ai(A.user,Y._process(A.user.auth,ce,v));return yield A.user._updateTokensIfNecessary(Ue),A.user.reload()})()}unenroll(m){var v=this;return(0,I.Z)(function*(){const A="string"==typeof m?m:m.uid,Y=yield v.user.getIdToken(),ce=yield ai(v.user,function(T,m){return Ut(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:T.tenantId},m))}(v.user.auth,{idToken:Y,mfaEnrollmentId:A}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ue})=>Ue!==A),yield v.user._updateTokensIfNecessary(ce);try{yield v.user.reload()}catch(Ue){if("auth/user-token-expired"!==Ue.code)throw Ue}})()}}const Wr=new WeakMap,wo="__sak";class Wo{constructor(m,v){this.storage=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(wo,"1"),this.storage.removeItem(wo),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}}const zl=(()=>{class T extends Wo{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const T=(0,le.z$)();return As(T)||pr(T)}()&&function(){try{return!(!window||window===window.top)}catch(T){return!1}}(),this.fallbackToPolling=Rt(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(v){for(const A of Object.keys(this.listeners)){const Y=this.storage.getItem(A),ce=this.localCache[A];Y!==ce&&v(A,ce,Y)}}onStorageEvent(v,A=!1){if(!v.key)return void this.forAllChangedKeys((ut,Mt,tn)=>{this.notifyListeners(ut,tn)});const Y=v.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ut=this.storage.getItem(Y);if(v.newValue!==ut)null!==v.newValue?this.storage.setItem(Y,v.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===v.newValue&&!A)return}const ce=()=>{const ut=this.storage.getItem(Y);!A&&this.localCache[Y]===ut||this.notifyListeners(Y,ut)},Ue=this.storage.getItem(Y);(0,le.w1)()&&10===document.documentMode&&Ue!==v.newValue&&v.newValue!==v.oldValue?setTimeout(ce,10):ce()}notifyListeners(v,A){this.localCache[v]=A;const Y=this.listeners[v];if(Y)for(const ce of Array.from(Y))ce(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,A,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:A,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,A){var Y=()=>super._set,ce=this;return(0,I.Z)(function*(){yield Y().call(ce,v,A),ce.localCache[v]=JSON.stringify(A)})()}_get(v){var A=()=>super._get,Y=this;return(0,I.Z)(function*(){const ce=yield A().call(Y,v);return Y.localCache[v]=JSON.stringify(ce),ce})()}_remove(v){var A=()=>super._remove,Y=this;return(0,I.Z)(function*(){yield A().call(Y,v),delete Y.localCache[v]})()}}return T.type="LOCAL",T})(),bn=(()=>{class T extends Wo{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,A){}_removeListener(v,A){}}return T.type="SESSION",T})();let Fa=(()=>{class T{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const A=this.receivers.find(ce=>ce.isListeningto(v));if(A)return A;const Y=new T(v);return this.receivers.push(Y),Y}isListeningto(v){return this.eventTarget===v}handleEvent(v){var A=this;return(0,I.Z)(function*(){const Y=v,{eventId:ce,eventType:Ue,data:ut}=Y.data,Mt=A.handlersMap[Ue];if(!(null==Mt?void 0:Mt.size))return;Y.ports[0].postMessage({status:"ack",eventId:ce,eventType:Ue});const tn=Array.from(Mt).map(function(){var rt=(0,I.Z)(function*(Hi){return Hi(Y.origin,ut)});return function(Hi){return rt.apply(this,arguments)}}()),Nn=yield function(T){return Promise.all(T.map(function(){var m=(0,I.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(A){return{fulfilled:!1,reason:A}}});return function(v){return m.apply(this,arguments)}}()))}(tn);Y.ports[0].postMessage({status:"done",eventId:ce,eventType:Ue,response:Nn})})()}_subscribe(v,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(A)}_unsubscribe(v,A){this.handlersMap[v]&&A&&this.handlersMap[v].delete(A),(!A||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function zo(T="",m=10){let v="";for(let A=0;A<m;A++)v+=Math.floor(10*Math.random());return T+v}class La{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,A=50){var Y=this;return(0,I.Z)(function*(){const ce="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let Ue,ut;return new Promise((Mt,tn)=>{const Nn=zo("",20);ce.port1.start();const rt=setTimeout(()=>{tn(new Error("unsupported_event"))},A);ut={messageChannel:ce,onMessage(Hi){const ys=Hi;if(ys.data.eventId===Nn)switch(ys.data.status){case"ack":clearTimeout(rt),Ue=setTimeout(()=>{tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ue),Mt(ys.data.response);break;default:clearTimeout(rt),clearTimeout(Ue),tn(new Error("invalid_response"))}}},Y.handlers.add(ut),ce.port1.addEventListener("message",ut.onMessage),Y.target.postMessage({eventType:m,eventId:Nn,data:v},[ce.port2])}).finally(()=>{ut&&Y.removeMessageHandler(ut)})})()}}function Si(){return window}function Va(){return void 0!==Si().WorkerGlobalScope&&"function"==typeof Si().importScripts}function Il(){return(Il=(0,I.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(T){return null}})).apply(this,arguments)}const Bs="firebaseLocalStorageDb",Ea="firebaseLocalStorage",Sl="fbase_key";class Ct{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function si(T,m){return T.transaction([Ea],m?"readwrite":"readonly").objectStore(Ea)}function R(){const T=indexedDB.open(Bs,1);return new Promise((m,v)=>{T.addEventListener("error",()=>{v(T.error)}),T.addEventListener("upgradeneeded",()=>{const A=T.result;try{A.createObjectStore(Ea,{keyPath:Sl})}catch(Y){v(Y)}}),T.addEventListener("success",(0,I.Z)(function*(){const A=T.result;A.objectStoreNames.contains(Ea)?m(A):(A.close(),yield function(){const T=indexedDB.deleteDatabase(Bs);return new Ct(T).toPromise()}(),m(yield R()))}))})}function S(T,m,v){return V.apply(this,arguments)}function V(){return(V=(0,I.Z)(function*(T,m,v){const A=si(T,!0).put({[Sl]:m,value:v});return new Ct(A).toPromise()})).apply(this,arguments)}function Z(){return(Z=(0,I.Z)(function*(T,m){const v=si(T,!1).get(m),A=yield new Ct(v).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function ee(T,m){const v=si(T,!0).delete(m);return new Ct(v).toPromise()}const Qn=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,I.Z)(function*(){return v.db||(v.db=yield R()),v.db})()}_withRetries(v){var A=this;return(0,I.Z)(function*(){let Y=0;for(;;)try{const ce=yield A._openDb();return yield v(ce)}catch(ce){if(Y++>3)throw ce;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,I.Z)(function*(){return Va()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,I.Z)(function*(){v.receiver=Fa._getInstance(Va()?self:null),v.receiver._subscribe("keyChanged",function(){var A=(0,I.Z)(function*(Y,ce){return{keyProcessed:(yield v._poll()).includes(ce.key)}});return function(Y,ce){return A.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var A=(0,I.Z)(function*(Y,ce){return["keyChanged"]});return function(Y,ce){return A.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,I.Z)(function*(){var A,Y;if(v.activeServiceWorker=yield function(){return Il.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new La(v.activeServiceWorker);const ce=yield v.sender._send("ping",{},800);!ce||(null===(A=ce[0])||void 0===A?void 0:A.fulfilled)&&(null===(Y=ce[0])||void 0===Y?void 0:Y.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var A=this;return(0,I.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function(){var T;return(null===(T=null==navigator?void 0:navigator.serviceWorker)||void 0===T?void 0:T.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:v},A.serviceWorkerReceiverAvailable?800:50)}catch(Y){}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const v=yield R();return yield S(v,wo,"1"),yield ee(v,wo),!0}catch(v){}return!1})()}_withPendingWrite(v){var A=this;return(0,I.Z)(function*(){A.pendingWrites++;try{yield v()}finally{A.pendingWrites--}})()}_set(v,A){var Y=this;return(0,I.Z)(function*(){return Y._withPendingWrite((0,I.Z)(function*(){return yield Y._withRetries(ce=>S(ce,v,A)),Y.localCache[v]=A,Y.notifyServiceWorker(v)}))})()}_get(v){var A=this;return(0,I.Z)(function*(){const Y=yield A._withRetries(ce=>function(T,m){return Z.apply(this,arguments)}(ce,v));return A.localCache[v]=Y,Y})()}_remove(v){var A=this;return(0,I.Z)(function*(){return A._withPendingWrite((0,I.Z)(function*(){return yield A._withRetries(Y=>ee(Y,v)),delete A.localCache[v],A.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,I.Z)(function*(){const A=yield v._withRetries(Ue=>{const ut=si(Ue,!1).getAll();return new Ct(ut).toPromise()});if(!A)return[];if(0!==v.pendingWrites)return[];const Y=[],ce=new Set;for(const{fbase_key:Ue,value:ut}of A)ce.add(Ue),JSON.stringify(v.localCache[Ue])!==JSON.stringify(ut)&&(v.notifyListeners(Ue,ut),Y.push(Ue));for(const Ue of Object.keys(v.localCache))v.localCache[Ue]&&!ce.has(Ue)&&(v.notifyListeners(Ue,null),Y.push(Ue));return Y})()}notifyListeners(v,A){this.localCache[v]=A;const Y=this.listeners[v];if(Y)for(const ce of Array.from(Y))ce(A)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})();function cn(T,m){return Ut(T,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:T.tenantId},m))}function Po(){return(Po=(0,I.Z)(function*(T){return(yield Ut(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Do(T){return new Promise((m,v)=>{const A=document.createElement("script");A.setAttribute("src",T),A.onload=m,A.onerror=Y=>{const ce=it("internal-error");ce.customData=Y,v(ce)},A.type="text/javascript",A.charset="UTF-8",function(){var T,m;return null!==(m=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==m?m:document}().appendChild(A)})}function sa(T){return`__${T}${Math.floor(1e6*Math.random())}`}const Co=1e12;class Pi{constructor(m){this.auth=m,this.counter=Co,this._widgets=new Map}render(m,v){const A=this.counter;return this._widgets.set(A,new On(m,this.auth.name,v||{})),this.counter++,A}reset(m){var v;const A=m||Co;null===(v=this._widgets.get(A))||void 0===v||v.delete(),this._widgets.delete(A)}getResponse(m){var v;return(null===(v=this._widgets.get(m||Co))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,I.Z)(function*(){var A;return null===(A=v._widgets.get(m||Co))||void 0===A||A.execute(),""})()}}class On{constructor(m,v,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof m?document.getElementById(m):m;xe(Y,"argument-error",{appName:v}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(T){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<50;A++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}();const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const so=sa("rcb"),Th=new Lt(3e4,6e4);class Ur{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Si().grecaptcha}load(m,v=""){return xe((T=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Si().grecaptcha):new Promise((A,Y)=>{const ce=Si().setTimeout(()=>{Y(it(m,"network-request-failed"))},Th.get());Si()[so]=()=>{Si().clearTimeout(ce),delete Si()[so];const ut=Si().grecaptcha;if(!ut)return void Y(it(m,"internal-error"));const Mt=ut.render;ut.render=(tn,Nn)=>{const rt=Mt(tn,Nn);return this.counter++,rt},this.hostLanguage=v,A(ut)},Do(`https://www.google.com/recaptcha/api.js??${(0,le.xO)({onload:so,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ce),Y(it(m,"internal-error"))})});var T}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!Si().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ps{load(m){return(0,I.Z)(function*(){return new Pi(m)})()}clearedOneInstance(){}}const ni="recaptcha",qo={theme:"light",type:"image"};class qn{constructor(m,v=Object.assign({},qo),A){this.parameters=v,this.type=ni,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(A),this.isInvisible="invisible"===this.parameters.size,xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof m?document.getElementById(m):m;xe(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ps:new Ur,this.validateStartingState()}verify(){var m=this;return(0,I.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),A=m.getAssertedRecaptcha();return A.getResponse(v)||new Promise(ce=>{const Ue=ut=>{!ut||(m.tokenChangeListeners.delete(Ue),ce(ut))};m.tokenChangeListeners.add(Ue),m.isInvisible&&A.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(A=>A(v)),"function"==typeof m)m(v);else if("string"==typeof m){const A=Si()[m];"function"==typeof A&&A(v)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,I.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const A=document.createElement("div");v.appendChild(A),v=A}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,I.Z)(function*(){xe(bt()&&!Va(),m.auth,"internal-error"),yield function(){let T=null;return new Promise(m=>{"complete"!==document.readyState?(T=()=>m(),window.addEventListener("load",T)):m()}).catch(m=>{throw T&&window.removeEventListener("load",T),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function(T){return Po.apply(this,arguments)}(m.auth);xe(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oa{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Ui._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function il(){return(il=(0,I.Z)(function*(T,m,v){const A=fn(T),Y=yield Da(A,m,(0,le.m9)(v));return new oa(Y,ce=>L(A,ce))})).apply(this,arguments)}function Zl(){return(Zl=(0,I.Z)(function*(T,m,v){const A=(0,le.m9)(T);yield G(!1,A,"phone");const Y=yield Da(A.auth,m,(0,le.m9)(v));return new oa(Y,ce=>ne(A,ce))})).apply(this,arguments)}function ko(){return(ko=(0,I.Z)(function*(T,m,v){const A=(0,le.m9)(T),Y=yield Da(A.auth,m,(0,le.m9)(v));return new oa(Y,ce=>Et(A,ce))})).apply(this,arguments)}function Da(T,m,v){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,I.Z)(function*(T,m,v){var A;const Y=yield v.verify();try{let ce;if(xe("string"==typeof Y,T,"argument-error"),xe(v.type===ni,T,"argument-error"),ce="string"==typeof m?{phoneNumber:m}:m,"session"in ce){const Ue=ce.session;if("phoneNumber"in ce)return xe("enroll"===Ue.type,T,"internal-error"),(yield Dr(T,{idToken:Ue.credential,phoneEnrollmentInfo:{phoneNumber:ce.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{xe("signin"===Ue.type,T,"internal-error");const ut=(null===(A=ce.multiFactorHint)||void 0===A?void 0:A.uid)||ce.multiFactorUid;return xe(ut,T,"missing-multi-factor-info"),(yield cn(T,{mfaPendingCredential:Ue.credential,mfaEnrollmentId:ut,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ue}=yield $r(T,{phoneNumber:ce.phoneNumber,recaptchaToken:Y});return Ue}}finally{v._reset()}})).apply(this,arguments)}function ri(){return(ri=(0,I.Z)(function*(T,m){yield U((0,le.m9)(T),m)})).apply(this,arguments)}let Ss=(()=>{class T{constructor(v){this.providerId=T.PROVIDER_ID,this.auth=fn(v)}verifyPhoneNumber(v,A){return Da(this.auth,v,(0,le.m9)(A))}static credential(v,A){return Ui._fromVerification(v,A)}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:A,temporaryProof:Y}=v;return A&&Y?Ui._fromTokenResponse(A,Y):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function oo(T,m){return m?Ke(m):(xe(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class Fo extends Ve{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Nr(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Nr(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Nr(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Ba(T){return gt(T.auth,new Fo(T),T.bypassAuthState)}function gs(T){const{auth:m,user:v}=T;return xe(v,m,"internal-error"),Ie(v,new Fo(T),T.bypassAuthState)}function Ys(T){return aa.apply(this,arguments)}function aa(){return(aa=(0,I.Z)(function*(T){const{auth:m,user:v}=T;return xe(v,m,"internal-error"),U(v,new Fo(T),T.bypassAuthState)})).apply(this,arguments)}class To{constructor(m,v,A,Y,ce=!1){this.auth=m,this.resolver=A,this.user=Y,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,I.Z)(function*(A,Y){m.pendingPromise={resolve:A,reject:Y};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(ce){m.reject(ce)}});return function(A,Y){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,I.Z)(function*(){const{urlResponse:A,sessionId:Y,postBody:ce,tenantId:Ue,error:ut,type:Mt}=m;if(ut)return void v.reject(ut);const tn={auth:v.auth,requestUri:A,sessionId:Y,tenantId:Ue||void 0,postBody:ce||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Mt)(tn))}catch(Nn){v.reject(Nn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Ba;case"linkViaPopup":case"linkViaRedirect":return Ys;case"reauthViaPopup":case"reauthViaRedirect":return gs;default:tt(this.auth,"internal-error")}}resolve(m){Oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Us=new Lt(2e3,1e4);function ac(){return(ac=(0,I.Z)(function*(T,m,v){const A=fn(T);qt(T,m,Ri);const Y=oo(A,v);return new ur(A,"signInViaPopup",m,Y).executeNotNull()})).apply(this,arguments)}function Kl(){return(Kl=(0,I.Z)(function*(T,m,v){const A=(0,le.m9)(T);qt(A.auth,m,Ri);const Y=oo(A.auth,v);return new ur(A.auth,"reauthViaPopup",m,Y,A).executeNotNull()})).apply(this,arguments)}function Du(){return(Du=(0,I.Z)(function*(T,m,v){const A=(0,le.m9)(T);qt(A.auth,m,Ri);const Y=oo(A.auth,v);return new ur(A.auth,"linkViaPopup",m,Y,A).executeNotNull()})).apply(this,arguments)}let ur=(()=>{class T extends To{constructor(v,A,Y,ce,Ue){super(v,A,ce,Ue),this.provider=Y,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var v=this;return(0,I.Z)(function*(){const A=yield v.execute();return xe(A,v.auth,"internal-error"),A})()}onExecution(){var v=this;return(0,I.Z)(function*(){Oe(1===v.filter.length,"Popup operations only handle one event");const A=zo();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],A),v.authWindow.associatedEvent=A,v.resolver._originValidation(v.auth).catch(Y=>{v.reject(Y)}),v.resolver._isIframeWebStorageSupported(v.auth,Y=>{Y||v.reject(it(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(it(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const v=()=>{var A,Y;this.pollId=(null===(Y=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===Y?void 0:Y.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(it(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Us.get())};v()}}return T.currentPopupAction=null,T})();const Ua=new Map;class uc extends To{constructor(m,v,A=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,A),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,I.Z)(function*(){let A=Ua.get(v.auth._key());if(!A){try{const ce=(yield function(T,m){return Ql.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;A=()=>Promise.resolve(ce)}catch(Y){A=()=>Promise.reject(Y)}Ua.set(v.auth._key(),A)}return A()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,A=this;return(0,I.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(A,m);if("unknown"!==m.type){if(m.eventId){const Y=yield A.auth._redirectUserForId(m.eventId);if(Y)return A.user=Y,v().call(A,m);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function Ql(){return(Ql=(0,I.Z)(function*(T,m){const v=sl(m),A="true"===(yield zc(T)._get(v));return yield zc(T)._remove(v),A})).apply(this,arguments)}function Jl(T,m){return js.apply(this,arguments)}function js(){return(js=(0,I.Z)(function*(T,m){return zc(T)._set(sl(m),"true")})).apply(this,arguments)}function zc(T){return Ke(T._redirectPersistence)}function sl(T){return Kn("pendingRedirect",T.config.apiKey,T.name)}function Cu(){return(Cu=(0,I.Z)(function*(T,m,v){const A=fn(T);qt(T,m,Ri);const Y=oo(A,v);return yield Jl(Y,A),Y._openRedirect(A,m,"signInViaRedirect")})).apply(this,arguments)}function Ta(){return(Ta=(0,I.Z)(function*(T,m,v){const A=(0,le.m9)(T);qt(A.auth,m,Ri);const Y=oo(A.auth,v);yield Jl(Y,A.auth);const ce=yield ll(A);return Y._openRedirect(A.auth,m,"reauthViaRedirect",ce)})).apply(this,arguments)}function Sa(){return(Sa=(0,I.Z)(function*(T,m,v){const A=(0,le.m9)(T);qt(A.auth,m,Ri);const Y=oo(A.auth,v);yield G(!1,A,m.providerId),yield Jl(Y,A.auth);const ce=yield ll(A);return Y._openRedirect(A.auth,m,"linkViaRedirect",ce)})).apply(this,arguments)}function Na(){return(Na=(0,I.Z)(function*(T,m){return yield fn(T)._initializationPromise,Aa(T,m,!1)})).apply(this,arguments)}function Aa(T,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,I.Z)(function*(T,m,v=!1){const A=fn(T),Y=oo(A,m),Ue=yield new uc(A,Y,v).execute();return Ue&&!v&&(delete Ue.user._redirectEventId,yield A._persistUserIfCurrent(Ue.user),yield A._setRedirectUser(null,m)),Ue})).apply(this,arguments)}function ll(T){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,I.Z)(function*(T){const m=zo(`${T.uid}:::`);return T._redirectEventId=m,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),m})).apply(this,arguments)}class ul{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(m,A)&&(v=!0,this.sendToConsumer(m,A),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lo(T);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var A;if(m.error&&!lo(m)){const Y=(null===(A=m.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";v.onError(it(this.auth,Y))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const A=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&A}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iu(m))}saveEventToCache(m){this.cachedEventUids.add(Iu(m)),this.lastProcessedEventTime=Date.now()}}function Iu(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(m=>m).join("-")}function lo({type:T,error:m}){return"unknown"===T&&"auth/no-auth-event"===(null==m?void 0:m.code)}function ja(T){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,I.Z)(function*(T,m={}){return Ut(T,"GET","/v1/projects",m)})).apply(this,arguments)}const Su=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nu=/^https?/;function Lo(){return(Lo=(0,I.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:m}=yield ja(T);for(const v of m)try{if(Ha(v))return}catch(A){}tt(T,"unauthorized-domain")})).apply(this,arguments)}function Ha(T){const m=pt(),{protocol:v,hostname:A}=new URL(m);if(T.startsWith("chrome-extension://")){const Ue=new URL(T);return""===Ue.hostname&&""===A?"chrome-extension:"===v&&T.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&Ue.hostname===A}if(!Nu.test(v))return!1;if(Su.test(T))return A===T;const Y=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(A)}const la=new Lt(3e4,6e4);function Au(){const T=Si().___jsl;if(null==T?void 0:T.H)for(const m of Object.keys(T.H))if(T.H[m].r=T.H[m].r||[],T.H[m].L=T.H[m].L||[],T.H[m].r=[...T.H[m].L],T.CP)for(let v=0;v<T.CP.length;v++)T.CP[v]=null}let Ga=null;function eu(T){return Ga=Ga||function(T){return new Promise((m,v)=>{var A,Y,ce;function Ue(){Au(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Au(),v(it(T,"network-request-failed"))},timeout:la.get()})}if(null===(Y=null===(A=Si().gapi)||void 0===A?void 0:A.iframes)||void 0===Y?void 0:Y.Iframe)m(gapi.iframes.getContext());else{if(!(null===(ce=Si().gapi)||void 0===ce?void 0:ce.load)){const ut=sa("iframefcb");return Si()[ut]=()=>{gapi.load?Ue():v(it(T,"network-request-failed"))},Do(`https://apis.google.com/js/api.js?onload=${ut}`)}Ue()}}).catch(m=>{throw Ga=null,m})}(T),Ga}const tu=new Lt(5e3,15e3),Al={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Yo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dl(T){const m=T.config;xe(m.authDomain,T,"auth-domain-config-required");const v=m.emulator?Jt(m,"emulator/auth/iframe"):`https://${T.config.authDomain}/__/auth/iframe`,A={apiKey:m.apiKey,appName:T.name,v:Ce.SDK_VERSION},Y=Yo.get(T.config.apiHost);Y&&(A.eid=Y);const ce=T._getFrameworks();return ce.length&&(A.fw=ce.join(",")),`${v}?${(0,le.xO)(A).slice(1)}`}function Zo(){return(Zo=(0,I.Z)(function*(T){const m=yield eu(T),v=Si().gapi;return xe(v,T,"internal-error"),m.open({where:document.body,url:dl(T),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Al,dontclear:!0},A=>new Promise(function(){var Y=(0,I.Z)(function*(ce,Ue){yield A.restyle({setHideOnLeave:!1});const ut=it(T,"network-request-failed"),Mt=Si().setTimeout(()=>{Ue(ut)},tu.get());function tn(){Si().clearTimeout(Mt),ce(A)}A.ping(tn).then(tn,()=>{Ue(ut)})});return function(ce,Ue){return Y.apply(this,arguments)}}()))})).apply(this,arguments)}const fc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function Zc(T,m,v,A,Y,ce){xe(T.config.authDomain,T,"auth-domain-config-required"),xe(T.config.apiKey,T,"invalid-api-key");const Ue={apiKey:T.config.apiKey,appName:T.name,authType:v,redirectUrl:A,v:Ce.SDK_VERSION,eventId:Y};if(m instanceof Ri){m.setDefaultLanguage(T.languageCode),Ue.providerId=m.providerId||"",(0,le.xb)(m.getCustomParameters())||(Ue.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Mt,tn]of Object.entries(ce||{}))Ue[Mt]=tn}if(m instanceof ks){const Mt=m.getScopes().filter(tn=>""!==tn);Mt.length>0&&(Ue.scopes=Mt.join(","))}T.tenantId&&(Ue.tid=T.tenantId);const ut=Ue;for(const Mt of Object.keys(ut))void 0===ut[Mt]&&delete ut[Mt];return`${function({config:T}){return T.emulator?Jt(T,"emulator/auth/handler"):`https://${T.authDomain}/__/auth/handler`}(T)}?${(0,le.xO)(ut).slice(1)}`}const Ol="webStorageSupport";class $s extends class{constructor(m){this.factorId=m}_process(m,v,A){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,A);case"signin":return this._finalizeSignIn(m,v.credential);default:return Ze("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new $s(m)}_finalizeEnroll(m,v,A){return function(T,m){return Ut(T,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:T.tenantId},m))}(m,{idToken:v,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function(T,m){return Ut(T,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:T.tenantId},m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Qc{constructor(){}static assertion(m){return $s._fromCredential(m)}}var T;class Pl{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,I.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(A=>{var Y;m((null===(Y=A)||void 0===Y?void 0:Y.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Jn(){return window}function ki(){return(ki=(0,I.Z)(function*(T,m,v){var A;const{BuildInfo:Y}=Jn();Oe(m.sessionId,"AuthEvent did not contain a session ID");const ce=yield Vd(m.sessionId),Ue={};return pr()?Ue.ibi=Y.packageName:ws()?Ue.apn=Y.packageName:tt(T,"operation-not-supported-in-this-environment"),Y.displayName&&(Ue.appDisplayName=Y.displayName),Ue.sessionId=ce,Zc(T,v,m.type,void 0,null!==(A=m.eventId)&&void 0!==A?A:void 0,Ue)})).apply(this,arguments)}function is(){return(is=(0,I.Z)(function*(T){const{BuildInfo:m}=Jn(),v={};pr()?v.iosBundleId=m.packageName:ws()?v.androidPackageName=m.packageName:tt(T,"operation-not-supported-in-this-environment"),yield ja(T,v)})).apply(this,arguments)}function yc(){return(yc=(0,I.Z)(function*(T,m,v){const{cordova:A}=Jn();let Y=()=>{};try{yield new Promise((ce,Ue)=>{let ut=null;function Mt(){var rt;ce();const Hi=null===(rt=A.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof Hi&&Hi(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function tn(){ut||(ut=window.setTimeout(()=>{Ue(it(T,"redirect-cancelled-by-user"))},2e3))}function Nn(){"visible"===(null==document?void 0:document.visibilityState)&&tn()}m.addPassiveListener(Mt),document.addEventListener("resume",tn,!1),ws()&&document.addEventListener("visibilitychange",Nn,!1),Y=()=>{m.removePassiveListener(Mt),document.removeEventListener("resume",tn,!1),document.removeEventListener("visibilitychange",Nn,!1),ut&&window.clearTimeout(ut)}})}finally{Y()}})).apply(this,arguments)}function Vd(T){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,I.Z)(function*(T){const m=Sh(T),v=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(v)).map(Y=>Y.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Sh(T){if(Oe(/[0-9a-zA-Z]+/.test(T),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(T);const m=new ArrayBuffer(T.length),v=new Uint8Array(m);for(let A=0;A<T.length;A++)v[A]=T.charCodeAt(A);return v}T="Browser",(0,Ce._registerComponent)(new ge.wA("auth",(m,{options:v})=>{const A=m.getProvider("app").getImmediate(),{apiKey:Y,authDomain:ce}=A.options;return(Ue=>{xe(Y&&!Y.includes(":"),"invalid-api-key",{appName:Ue.name}),xe(!(null==ce?void 0:ce.includes(":")),"argument-error",{appName:Ue.name});const ut={apiKey:Y,authDomain:ce,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hn(T)},Mt=new Gn(Ue,ut);return function(T,m){const v=(null==m?void 0:m.persistence)||[],A=(Array.isArray(v)?v:[v]).map(Ke);(null==m?void 0:m.errorMap)&&T._updateErrorMap(m.errorMap),T._initializeWithPersistence(A,null==m?void 0:m.popupRedirectResolver)}(Mt,v),Mt})(A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,A)=>{m.getProvider("auth-internal").initialize()})),(0,Ce._registerComponent)(new ge.wA("auth-internal",m=>{const v=fn(m.getProvider("auth").getImmediate());return new Pl(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)("@firebase/auth","0.17.2",void 0);class ed extends ul{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(m)),super.onEvent(m)}initialized(){var m=this;return(0,I.Z)(function*(){yield m.initPromise})()}}function kl(T){return pl.apply(this,arguments)}function pl(){return(pl=(0,I.Z)(function*(T){const m=yield bc()._get(wc(T));return m&&(yield bc()._remove(wc(T))),m})).apply(this,arguments)}function vc(){const T=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const A=Math.floor(Math.random()*m.length);T.push(m.charAt(A))}return T.join("")}function bc(){return Ke(zl)}function wc(T){return Kn("authEvent",T.config.apiKey,T.name)}function ml(T){if(!(null==T?void 0:T.includes("?")))return{};const[m,...v]=T.split("?");return(0,le.zd)(v.join("?"))}function Dc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:it("no-auth-event")}}function ua(){var T;return(null===(T=null==self?void 0:self.location)||void 0===T?void 0:T.protocol)||null}function za(T=(0,le.z$)()){return!("file:"!==ua()&&"ionic:"!==ua()||!T.toLowerCase().match(/iphone|ipad|ipod|android/))}function ou(){try{const T=self.localStorage,m=zo();if(T)return T.setItem(m,"1"),T.removeItem(m),!function(T=(0,le.z$)()){return(0,le.w1)()&&11===(null==document?void 0:document.documentMode)||function(T=(0,le.z$)()){return/Edge\/\d+/.test(T)}(T)}()||(0,le.hl)()}catch(T){return au()&&(0,le.hl)()}return!1}function au(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fu(){return("http:"===ua()||"https:"===ua()||(0,le.ru)()||za())&&!((0,le.b$)()||(0,le.UG)())&&ou()&&!au()}function id(){return za()&&"undefined"!=typeof document}function Fl(){return(Fl=(0,I.Z)(function*(){return!!id()&&new Promise(T=>{const m=setTimeout(()=>{T(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),T(!0)})})})).apply(this,arguments)}const uo={LOCAL:"local",NONE:"none",SESSION:"session"},g=xe,D="persistence";function _(T){return O.apply(this,arguments)}function O(){return(O=(0,I.Z)(function*(T){yield T._initializationPromise;const m=Se(),v=Kn(D,T.config.apiKey,T.name);(null==m?void 0:m.sessionStorage)&&m.sessionStorage.setItem(v,T._getPersistence())})).apply(this,arguments)}function Se(){return"undefined"!=typeof window?window:null}const Pe=xe;class ot{constructor(){this.browserResolver=Ke(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bn,this._completeRedirectFn=Aa}_openPopup(m,v,A,Y){var ce=this;return(0,I.Z)(function*(){var Ue;Oe(null===(Ue=ce.eventManagers[m._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const ut=Zc(m,v,A,pt(),Y);return function(T,m,v,A=500,Y=600){const ce=Math.max((window.screen.availHeight-Y)/2,0).toString(),Ue=Math.max((window.screen.availWidth-A)/2,0).toString();let ut="";const Mt=Object.assign(Object.assign({},fc),{width:A.toString(),height:Y.toString(),top:ce,left:Ue}),tn=(0,le.z$)().toLowerCase();v&&(ut=vi(tn)?"_blank":v),li(tn)&&(m=m||"http://localhost",Mt.scrollbars="yes");const Nn=Object.entries(Mt).reduce((Hi,[ys,Tc])=>`${Hi}${ys}=${Tc},`,"");if(function(T=(0,le.z$)()){var m;return pr(T)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(tn)&&"_self"!==ut)return function(T,m){const v=document.createElement("a");v.href=T,v.target=m;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(A)}(m||"",ut),new nu(null);const rt=window.open(m||"",ut,Nn);xe(rt,T,"popup-blocked");try{rt.focus()}catch(Hi){}return new nu(rt)}(m,ut,zo())})()}_openRedirect(m,v,A,Y){var ce=this;return(0,I.Z)(function*(){return yield ce._originValidation(m),T=Zc(m,v,A,pt(),Y),Si().location.href=T,new Promise(()=>{});var T})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:Y,promise:ce}=this.eventManagers[v];return Y?Promise.resolve(Y):(Oe(ce,"If manager is not set, promise should be"),ce)}const A=this.initAndGetManager(m);return this.eventManagers[v]={promise:A},A}initAndGetManager(m){var v=this;return(0,I.Z)(function*(){const A=yield function(T){return Zo.apply(this,arguments)}(m),Y=new ul(m);return A.register("authEvent",ce=>(xe(null==ce?void 0:ce.authEvent,m,"invalid-auth-event"),{status:Y.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:Y},v.iframes[m._key()]=A,Y})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Ol,{type:Ol},Y=>{var ce;const Ue=null===(ce=null==Y?void 0:Y[0])||void 0===ce?void 0:ce[Ol];void 0!==Ue&&v(!!Ue),tt(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(T){return Lo.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return Rt()||As()||pr()}}),this.cordovaResolver=Ke(class{constructor(){this._redirectPersistence=bn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Aa}_initialize(m){var v=this;return(0,I.Z)(function*(){const A=m._key();let Y=v.eventManagers.get(A);return Y||(Y=new ed(m),v.eventManagers.set(A,Y),v.attachCallbackListeners(m,Y)),Y})()}_openPopup(m){tt(m,"operation-not-supported-in-this-environment")}_openRedirect(m,v,A,Y){var ce=this;return(0,I.Z)(function*(){!function(T){var m,v,A,Y,ce,Ue,ut,Mt,tn,Nn;const rt=Jn();xe("function"==typeof(null===(m=null==rt?void 0:rt.universalLinks)||void 0===m?void 0:m.subscribe),T,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),xe(void 0!==(null===(v=null==rt?void 0:rt.BuildInfo)||void 0===v?void 0:v.packageName),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),xe("function"==typeof(null===(ce=null===(Y=null===(A=null==rt?void 0:rt.cordova)||void 0===A?void 0:A.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===ce?void 0:ce.openUrl),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(Mt=null===(ut=null===(Ue=null==rt?void 0:rt.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===ut?void 0:ut.browsertab)||void 0===Mt?void 0:Mt.isAvailable),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(Nn=null===(tn=null==rt?void 0:rt.cordova)||void 0===tn?void 0:tn.InAppBrowser)||void 0===Nn?void 0:Nn.open),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const Ue=yield ce._initialize(m);yield Ue.initialized(),Ue.resetRedirect(),Ua.clear(),yield ce._originValidation(m);const ut=function(T,m,v=null){return{type:m,eventId:v,urlResponse:null,sessionId:vc(),postBody:null,tenantId:T.tenantId,error:it(T,"no-auth-event")}}(m,A,Y);yield function(T,m){return bc()._set(wc(T),m)}(m,ut);const Mt=yield function(T,m,v){return ki.apply(this,arguments)}(m,ut,v),tn=yield function(T){const{cordova:m}=Jn();return new Promise(v=>{m.plugins.browsertab.isAvailable(A=>{let Y=null;A?m.plugins.browsertab.openUrl(T):Y=m.InAppBrowser.open(T,function(T=(0,le.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}()?"_blank":"_system","location=yes"),v(Y)})})}(Mt);return function(T,m,v){return yc.apply(this,arguments)}(m,Ue,tn)})()}_isIframeWebStorageSupported(m,v){throw new Error("Method not implemented.")}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(T){return is.apply(this,arguments)}(m)),this.originValidationPromises[v]}attachCallbackListeners(m,v){const{universalLinks:A,handleOpenURL:Y,BuildInfo:ce}=Jn(),Ue=setTimeout((0,I.Z)(function*(){yield kl(m),v.onEvent(Dc())}),500),ut=function(){var Nn=(0,I.Z)(function*(rt){clearTimeout(Ue);const Hi=yield kl(m);let ys=null;Hi&&(null==rt?void 0:rt.url)&&(ys=function(T,m){var v,A;const Y=function(T){const m=ml(T),v=m.link?decodeURIComponent(m.link):void 0,A=ml(v).link,Y=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return ml(Y).link||Y||A||v||T}(m);if(Y.includes("/__/auth/callback")){const ce=ml(Y),Ue=ce.firebaseError?function(T){try{return JSON.parse(T)}catch(m){return null}}(decodeURIComponent(ce.firebaseError)):null,ut=null===(A=null===(v=null==Ue?void 0:Ue.code)||void 0===v?void 0:v.split("auth/"))||void 0===A?void 0:A[1],Mt=ut?it(ut):null;return Mt?{type:T.type,eventId:T.eventId,tenantId:T.tenantId,error:Mt,urlResponse:null,sessionId:null,postBody:null}:{type:T.type,eventId:T.eventId,tenantId:T.tenantId,sessionId:T.sessionId,urlResponse:Y,postBody:null}}return null}(Hi,rt.url)),v.onEvent(ys||Dc())});return function(Hi){return Nn.apply(this,arguments)}}();void 0!==A&&"function"==typeof A.subscribe&&A.subscribe(null,ut);const Mt=Y,tn=`${ce.packageName.toLowerCase()}://`;Jn().handleOpenURL=function(){var Nn=(0,I.Z)(function*(rt){if(rt.toLowerCase().startsWith(tn)&&ut({url:rt}),"function"==typeof Mt)try{Mt(rt)}catch(Hi){console.error(Hi)}});return function(rt){return Nn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=bn,this._completeRedirectFn=Aa}_initialize(m){var v=this;return(0,I.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,v,A,Y){var ce=this;return(0,I.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openPopup(m,v,A,Y)})()}_openRedirect(m,v,A,Y){var ce=this;return(0,I.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openRedirect(m,v,A,Y)})()}_isIframeWebStorageSupported(m,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,v)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return id()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,I.Z)(function*(){if(m.underlyingResolver)return;const v=yield function(){return Fl.apply(this,arguments)}();m.underlyingResolver=v?m.cordovaResolver:m.browserResolver})()}}function yt(T){return T.unwrap()}function Yt(T){return pn(T)}function zt(T,m){var v;const A=null===(v=m.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===m.code)m.resolver=new _s(T,function(T,m){var v;const A=(0,le.m9)(T),Y=m;return xe(m.operationType,A,"argument-error"),xe(null===(v=Y.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,A,"argument-error"),pi._fromError(A,Y)}(T,m));else if(A){const Y=pn(m),ce=m;Y&&(ce.credential=Y,ce.tenantId=A.tenantId||void 0,ce.email=A.email||void 0,ce.phoneNumber=A.phoneNumber||void 0)}}function pn(T){const{_tokenResponse:m}=T instanceof le.ZR?T.customData:T;if(!m)return null;if(!(T instanceof le.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return Ss.credentialFromResult(T);const v=m.providerId;if(!v||"password"===v)return null;let A;switch(v){case"google.com":A=ts;break;case"facebook.com":A=to;break;case"github.com":A=qi;break;case"twitter.com":A=Fs;break;default:const{oauthIdToken:Y,oauthAccessToken:ce,oauthTokenSecret:Ue,pendingToken:ut,nonce:Mt}=m;return ce||Ue||Y||ut?ut?v.startsWith("saml.")?Di._create(v,ut):Ei._fromParams({providerId:v,signInMethod:v,pendingToken:ut,idToken:Y,accessToken:ce}):new xi(v).credential({idToken:Y,accessToken:ce,rawNonce:Mt}):null}return T instanceof le.ZR?A.credentialFromError(T):A.credentialFromResult(T)}function Cn(T,m){return cr.apply(this,arguments)}function cr(){return(cr=(0,I.Z)(function*(T,m){let v;try{v=yield m}catch(ce){throw ce instanceof le.ZR&&zt(T,ce),ce}const{operationType:A,user:Y}=v;return{operationType:A,credential:Yt(v),additionalUserInfo:io(v),user:ss.getOrCreate(Y)}})).apply(this,arguments)}function Mr(T,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,I.Z)(function*(T,m){const v=yield m;return{verificationId:v.verificationId,confirm:A=>Cn(T,v.confirm(A))}})).apply(this,arguments)}class _s{constructor(m,v){this.resolver=v,this.auth=function(T){return T.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Cn(yt(this.auth),this.resolver.resolveSignIn(m))}}class ss{constructor(m){this._delegate=m,this.multiFactor=function(T){const m=(0,le.m9)(T);return Wr.has(m)||Wr.set(m,xo._fromUser(m)),Wr.get(m)}(m)}static getOrCreate(m){return ss.USER_MAP.has(m)||ss.USER_MAP.set(m,new ss(m)),ss.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var v=this;return(0,I.Z)(function*(){return Cn(v.auth,ne(v._delegate,m))})()}linkWithPhoneNumber(m,v){var A=this;return(0,I.Z)(function*(){return Mr(A.auth,function(T,m,v){return Zl.apply(this,arguments)}(A._delegate,m,v))})()}linkWithPopup(m){var v=this;return(0,I.Z)(function*(){return Cn(v.auth,function(T,m,v){return Du.apply(this,arguments)}(v._delegate,m,ot))})()}linkWithRedirect(m){var v=this;return(0,I.Z)(function*(){return yield _(fn(v.auth)),function(T,m,v){return function(T,m,v){return Sa.apply(this,arguments)}(T,m,v)}(v._delegate,m,ot)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var v=this;return(0,I.Z)(function*(){return Cn(v.auth,Et(v._delegate,m))})()}reauthenticateWithPhoneNumber(m,v){return Mr(this.auth,function(T,m,v){return ko.apply(this,arguments)}(this._delegate,m,v))}reauthenticateWithPopup(m){return Cn(this.auth,function(T,m,v){return Kl.apply(this,arguments)}(this._delegate,m,ot))}reauthenticateWithRedirect(m){var v=this;return(0,I.Z)(function*(){return yield _(fn(v.auth)),function(T,m,v){return function(T,m,v){return Ta.apply(this,arguments)}(T,m,v)}(v._delegate,m,ot)})()}sendEmailVerification(m){return function(T,m){return Dt.apply(this,arguments)}(this._delegate,m)}unlink(m){var v=this;return(0,I.Z)(function*(){return yield function(T,m){return Ti.apply(this,arguments)}(v._delegate,m),v})()}updateEmail(m){return function(T,m){return Yi((0,le.m9)(T),m,null)}(this._delegate,m)}updatePassword(m){return function(T,m){return Yi((0,le.m9)(T),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function(T,m){return ri.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function(T,m){return kn.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,v){return function(T,m,v){return Tn.apply(this,arguments)}(this._delegate,m,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ss.USER_MAP=new WeakMap;const _l=xe;let os=(()=>{class T{constructor(v,A){if(this.app=v,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Y}=v.options;_l(Y,"invalid-api-key",{appName:v.name});let ce=[Fr];if("undefined"!=typeof window){ce=function(T,m){const v=Se();if(!(null==v?void 0:v.sessionStorage))return[];const A=Kn(D,T,m);switch(v.sessionStorage.getItem(A)){case uo.NONE:return[Fr];case uo.LOCAL:return[Qn,bn];case uo.SESSION:return[bn];default:return[]}}(Y,v.name);for(const ut of[Qn,zl,bn])ce.includes(ut)||ce.push(ut)}_l(Y,"invalid-api-key",{appName:v.name});const Ue="undefined"!=typeof window?ot:void 0;this._delegate=A.initialize({options:{persistence:ce,popupRedirectResolver:Ue}}),this._delegate._updateErrorMap(ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ss.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,A){!function(T,m,v){const A=fn(T);xe(A._canInitEmulator,A,"emulator-config-failed"),xe(/^https?:\/\//.test(m),A,"invalid-emulator-scheme");const Y=!!(null==v?void 0:v.disableWarnings),ce=Lr(m),{host:Ue,port:ut}=function(T){const m=Lr(T),v=/(\/\/)?([^?#/]+)/.exec(T.substr(m.length));if(!v)return{host:"",port:null};const A=v[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(A);if(Y){const ce=Y[1];return{host:ce,port:Cs(A.substr(ce.length+1))}}{const[ce,Ue]=A.split(":");return{host:ce,port:Cs(Ue)}}}(m);A.config.emulator={url:`${ce}//${Ue}${null===ut?"":`:${ut}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Ue,port:ut,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:Y})}),function(T){function m(){const v=document.createElement("p"),A=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",A.position="fixed",A.width="100%",A.backgroundColor="#ffffff",A.border=".1em solid #000000",A.color="#b50000",A.bottom="0px",A.left="0px",A.margin="0px",A.zIndex="10000",A.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!T&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}(Y)}(this._delegate,v,A)}applyActionCode(v){return function(T,m){return na.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return mt(this._delegate,v)}confirmPasswordReset(v,A){return function(T,m,v){return Ro.apply(this,arguments)}(this._delegate,v,A)}createUserWithEmailAndPassword(v,A){var Y=this;return(0,I.Z)(function*(){return Cn(Y._delegate,function(T,m,v){return no.apply(this,arguments)}(Y._delegate,v,A))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function(T,m){return Ye.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function(T,m){const v=Os.parseLink(m);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,I.Z)(function*(){_l(Fu(),v._delegate,"operation-not-supported-in-this-environment");const A=yield function(T,m){return Na.apply(this,arguments)}(v._delegate,ot);return A?Cn(v._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function(T,m){fn(T)._logFramework(m)}(this._delegate,v)}onAuthStateChanged(v,A,Y){const{next:ce,error:Ue,complete:ut}=Ko(v,A,Y);return this._delegate.onAuthStateChanged(ce,Ue,ut)}onIdTokenChanged(v,A,Y){const{next:ce,error:Ue,complete:ut}=Ko(v,A,Y);return this._delegate.onIdTokenChanged(ce,Ue,ut)}sendSignInLinkToEmail(v,A){return function(T,m,v){return C.apply(this,arguments)}(this._delegate,v,A)}sendPasswordResetEmail(v,A){return function(T,m,v){return yo.apply(this,arguments)}(this._delegate,v,A||void 0)}setPersistence(v){var A=this;return(0,I.Z)(function*(){let Y;switch(function(T,m){g(Object.values(uo).includes(m),T,"invalid-persistence-type"),(0,le.b$)()?g(m!==uo.SESSION,T,"unsupported-persistence-type"):(0,le.UG)()?g(m===uo.NONE,T,"unsupported-persistence-type"):au()?g(m===uo.NONE||m===uo.LOCAL&&(0,le.hl)(),T,"unsupported-persistence-type"):g(m===uo.NONE||ou(),T,"unsupported-persistence-type")}(A._delegate,v),v){case uo.SESSION:Y=bn;break;case uo.LOCAL:Y=(yield Ke(Qn)._isAvailable())?Qn:zl;break;case uo.NONE:Y=Fr;break;default:return tt("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(Y)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Cn(this._delegate,function(T){return Ci.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Cn(this._delegate,L(this._delegate,v))}signInWithCustomToken(v){return Cn(this._delegate,function(T,m){return Jr.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,A){return Cn(this._delegate,function(T,m,v){return L((0,le.m9)(T),Ps.credential(m,v))}(this._delegate,v,A))}signInWithEmailLink(v,A){return Cn(this._delegate,function(T,m,v){return Q.apply(this,arguments)}(this._delegate,v,A))}signInWithPhoneNumber(v,A){return Mr(this._delegate,function(T,m,v){return il.apply(this,arguments)}(this._delegate,v,A))}signInWithPopup(v){var A=this;return(0,I.Z)(function*(){return _l(Fu(),A._delegate,"operation-not-supported-in-this-environment"),Cn(A._delegate,function(T,m,v){return ac.apply(this,arguments)}(A._delegate,v,ot))})()}signInWithRedirect(v){var A=this;return(0,I.Z)(function*(){return _l(Fu(),A._delegate,"operation-not-supported-in-this-environment"),yield _(A._delegate),function(T,m,v){return function(T,m,v){return Cu.apply(this,arguments)}(T,m,v)}(A._delegate,v,ot)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function(T,m){return Xr.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return T.Persistence=uo,T})();function Ko(T,m,v){let A=T;"function"!=typeof T&&({next:A,error:m,complete:v}=T);const Y=A;return{next:Ue=>Y(Ue&&ss.getOrCreate(Ue)),error:m,complete:v}}class Zr{constructor(){this.providerId="phone",this._delegate=new Ss(yt(c.Z.auth()))}static credential(m,v){return Ss.credential(m,v)}verifyPhoneNumber(m,v){return this._delegate.verifyPhoneNumber(m,v)}unwrap(){return this._delegate}}Zr.PHONE_SIGN_IN_METHOD=Ss.PHONE_SIGN_IN_METHOD,Zr.PROVIDER_ID=Ss.PROVIDER_ID;const Fi=xe;class Nh{constructor(m,v,A=c.Z.app()){var Y;Fi(null===(Y=A.options)||void 0===Y?void 0:Y.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new qn(m,v,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(T){T.INTERNAL.registerComponent(new ge.wA("auth-compat",m=>{const v=m.getProvider("app-compat").getImmediate(),A=m.getProvider("auth");return new os(v,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ps,FacebookAuthProvider:to,GithubAuthProvider:qi,GoogleAuthProvider:ts,OAuthProvider:xi,PhoneAuthProvider:Zr,PhoneMultiFactorGenerator:Qc,RecaptchaVerifier:Nh,TwitterAuthProvider:Fs,Auth:os,AuthCredential:Ve,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),T.registerVersion("@firebase/auth-compat","0.1.2")}(c.Z)},6215:(Tt,He,W)=>{"use strict";W.d(He,{X:()=>le});var I=W(9765),c=W(7971);class le extends I.xQ{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const ue=super._subscribe(Te);return ue&&!ue.closed&&Te.next(this._value),ue}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new c.N;return this._value}next(Te){super.next(this._value=Te)}}},1593:(Tt,He,W)=>{"use strict";W.d(He,{P:()=>ge});var I=W(9193),c=W(5917),le=W(7574);class ge{constructor(se,re,X){this.kind=se,this.value=re,this.error=X,this.hasValue="N"===se}observe(se){switch(this.kind){case"N":return se.next&&se.next(this.value);case"E":return se.error&&se.error(this.error);case"C":return se.complete&&se.complete()}}do(se,re,X){switch(this.kind){case"N":return se&&se(this.value);case"E":return re&&re(this.error);case"C":return X&&X()}}accept(se,re,X){return se&&"function"==typeof se.next?this.observe(se):this.do(se,re,X)}toObservable(){switch(this.kind){case"N":return(0,c.of)(this.value);case"E":return he=this.error,new le.y(re=>re.error(he));case"C":return(0,I.c)()}var he;throw new Error("unexpected notification kind value")}static createNext(se){return void 0!==se?new ge("N",se):ge.undefinedValueNotification}static createError(se){return new ge("E",void 0,se)}static createComplete(){return ge.completeNotification}}ge.completeNotification=new ge("C"),ge.undefinedValueNotification=new ge("N",void 0)},7574:(Tt,He,W)=>{"use strict";W.d(He,{y:()=>X});var I=W(7393),le=W(9181),Ce=W(6490),ue=W(6554),ge=W(4487);var re=W(2494);let X=(()=>{class ye{constructor(ke){this._isScalar=!1,ke&&(this._subscribe=ke)}lift(ke){const Be=new ye;return Be.source=this,Be.operator=ke,Be}subscribe(ke,Be,be){const{operator:$e}=this,ht=function(ye,Me,ke){if(ye){if(ye instanceof I.L)return ye;if(ye[le.b])return ye[le.b]()}return ye||Me||ke?new I.L(ye,Me,ke):new I.L(Ce.c)}(ke,Be,be);if(ht.add($e?$e.call(ht,this.source):this.source||re.v.useDeprecatedSynchronousErrorHandling&&!ht.syncErrorThrowable?this._subscribe(ht):this._trySubscribe(ht)),re.v.useDeprecatedSynchronousErrorHandling&&ht.syncErrorThrowable&&(ht.syncErrorThrowable=!1,ht.syncErrorThrown))throw ht.syncErrorValue;return ht}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Be){re.v.useDeprecatedSynchronousErrorHandling&&(ke.syncErrorThrown=!0,ke.syncErrorValue=Be),function(ye){for(;ye;){const{closed:Me,destination:ke,isStopped:Be}=ye;if(Me||Be)return!1;ye=ke&&ke instanceof I.L?ke:null}return!0}(ke)?ke.error(Be):console.warn(Be)}}forEach(ke,Be){return new(Be=ie(Be))((be,$e)=>{let ht;ht=this.subscribe(kt=>{try{ke(kt)}catch(tt){$e(tt),ht&&ht.unsubscribe()}},$e,be)})}_subscribe(ke){const{source:Be}=this;return Be&&Be.subscribe(ke)}[ue.L](){return this}pipe(...ke){return 0===ke.length?this:function(ye){return 0===ye.length?ge.y:1===ye.length?ye[0]:function(ke){return ye.reduce((Be,be)=>be(Be),ke)}}(ke)(this)}toPromise(ke){return new(ke=ie(ke))((Be,be)=>{let $e;this.subscribe(ht=>$e=ht,ht=>be(ht),()=>Be($e))})}}return ye.create=Me=>new ye(Me),ye})();function ie(ye){if(ye||(ye=re.v.Promise||Promise),!ye)throw new Error("no Promise impl found");return ye}},6490:(Tt,He,W)=>{"use strict";W.d(He,{c:()=>le});var I=W(2494),c=W(4449);const le={closed:!0,next(Ce){},error(Ce){if(I.v.useDeprecatedSynchronousErrorHandling)throw Ce;(0,c.z)(Ce)},complete(){}}},5197:(Tt,He,W)=>{"use strict";W.d(He,{L:()=>c});var I=W(7393);class c extends I.L{notifyNext(Ce,Te,ue,ge,he){this.destination.next(Te)}notifyError(Ce,Te){this.destination.error(Ce)}notifyComplete(Ce){this.destination.complete()}}},9765:(Tt,He,W)=>{"use strict";W.d(He,{Yc:()=>ge,xQ:()=>he});var I=W(7574),c=W(7393),le=W(5319),Ce=W(7971),Te=W(8858),ue=W(9181);class ge extends c.L{constructor(X){super(X),this.destination=X}}let he=(()=>{class re extends I.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ue.b](){return new ge(this)}lift(ie){const ye=new se(this,this);return ye.operator=ie,ye}next(ie){if(this.closed)throw new Ce.N;if(!this.isStopped){const{observers:ye}=this,Me=ye.length,ke=ye.slice();for(let Be=0;Be<Me;Be++)ke[Be].next(ie)}}error(ie){if(this.closed)throw new Ce.N;this.hasError=!0,this.thrownError=ie,this.isStopped=!0;const{observers:ye}=this,Me=ye.length,ke=ye.slice();for(let Be=0;Be<Me;Be++)ke[Be].error(ie);this.observers.length=0}complete(){if(this.closed)throw new Ce.N;this.isStopped=!0;const{observers:ie}=this,ye=ie.length,Me=ie.slice();for(let ke=0;ke<ye;ke++)Me[ke].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ie){if(this.closed)throw new Ce.N;return super._trySubscribe(ie)}_subscribe(ie){if(this.closed)throw new Ce.N;return this.hasError?(ie.error(this.thrownError),le.w.EMPTY):this.isStopped?(ie.complete(),le.w.EMPTY):(this.observers.push(ie),new Te.W(this,ie))}asObservable(){const ie=new I.y;return ie.source=this,ie}}return re.create=(X,ie)=>new se(X,ie),re})();class se extends he{constructor(X,ie){super(),this.destination=X,this.source=ie}next(X){const{destination:ie}=this;ie&&ie.next&&ie.next(X)}error(X){const{destination:ie}=this;ie&&ie.error&&this.destination.error(X)}complete(){const{destination:X}=this;X&&X.complete&&this.destination.complete()}_subscribe(X){const{source:ie}=this;return ie?this.source.subscribe(X):le.w.EMPTY}}},8858:(Tt,He,W)=>{"use strict";W.d(He,{W:()=>c});var I=W(5319);class c extends I.w{constructor(Ce,Te){super(),this.subject=Ce,this.subscriber=Te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ce=this.subject,Te=Ce.observers;if(this.subject=null,!Te||0===Te.length||Ce.isStopped||Ce.closed)return;const ue=Te.indexOf(this.subscriber);-1!==ue&&Te.splice(ue,1)}}},7393:(Tt,He,W)=>{"use strict";W.d(He,{L:()=>ge});var I=W(9105),c=W(6490),le=W(5319),Ce=W(9181),Te=W(2494),ue=W(4449);class ge extends le.w{constructor(re,X,ie){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=c.c;break;case 1:if(!re){this.destination=c.c;break}if("object"==typeof re){re instanceof ge?(this.syncErrorThrowable=re.syncErrorThrowable,this.destination=re,re.add(this)):(this.syncErrorThrowable=!0,this.destination=new he(this,re));break}default:this.syncErrorThrowable=!0,this.destination=new he(this,re,X,ie)}}[Ce.b](){return this}static create(re,X,ie){const ye=new ge(re,X,ie);return ye.syncErrorThrowable=!1,ye}next(re){this.isStopped||this._next(re)}error(re){this.isStopped||(this.isStopped=!0,this._error(re))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(re){this.destination.next(re)}_error(re){this.destination.error(re),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:re}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=re,this}}class he extends ge{constructor(re,X,ie,ye){super(),this._parentSubscriber=re;let Me,ke=this;(0,I.m)(X)?Me=X:X&&(Me=X.next,ie=X.error,ye=X.complete,X!==c.c&&(ke=Object.create(X),(0,I.m)(ke.unsubscribe)&&this.add(ke.unsubscribe.bind(ke)),ke.unsubscribe=this.unsubscribe.bind(this))),this._context=ke,this._next=Me,this._error=ie,this._complete=ye}next(re){if(!this.isStopped&&this._next){const{_parentSubscriber:X}=this;Te.v.useDeprecatedSynchronousErrorHandling&&X.syncErrorThrowable?this.__tryOrSetError(X,this._next,re)&&this.unsubscribe():this.__tryOrUnsub(this._next,re)}}error(re){if(!this.isStopped){const{_parentSubscriber:X}=this,{useDeprecatedSynchronousErrorHandling:ie}=Te.v;if(this._error)ie&&X.syncErrorThrowable?(this.__tryOrSetError(X,this._error,re),this.unsubscribe()):(this.__tryOrUnsub(this._error,re),this.unsubscribe());else if(X.syncErrorThrowable)ie?(X.syncErrorValue=re,X.syncErrorThrown=!0):(0,ue.z)(re),this.unsubscribe();else{if(this.unsubscribe(),ie)throw re;(0,ue.z)(re)}}}complete(){if(!this.isStopped){const{_parentSubscriber:re}=this;if(this._complete){const X=()=>this._complete.call(this._context);Te.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable?(this.__tryOrSetError(re,X),this.unsubscribe()):(this.__tryOrUnsub(X),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(re,X){try{re.call(this._context,X)}catch(ie){if(this.unsubscribe(),Te.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,ue.z)(ie)}}__tryOrSetError(re,X,ie){if(!Te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{X.call(this._context,ie)}catch(ye){return Te.v.useDeprecatedSynchronousErrorHandling?(re.syncErrorValue=ye,re.syncErrorThrown=!0,!0):((0,ue.z)(ye),!0)}return!1}_unsubscribe(){const{_parentSubscriber:re}=this;this._context=null,this._parentSubscriber=null,re.unsubscribe()}}},5319:(Tt,He,W)=>{"use strict";W.d(He,{w:()=>ue});var I=W(9796),c=W(1555),le=W(9105);const Te=(()=>{function he(se){return Error.call(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((re,X)=>`${X+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se,this}return he.prototype=Object.create(Error.prototype),he})();class ue{constructor(se){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,se&&(this._ctorUnsubscribe=!0,this._unsubscribe=se)}unsubscribe(){let se;if(this.closed)return;let{_parentOrParents:re,_ctorUnsubscribe:X,_unsubscribe:ie,_subscriptions:ye}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,re instanceof ue)re.remove(this);else if(null!==re)for(let Me=0;Me<re.length;++Me)re[Me].remove(this);if((0,le.m)(ie)){X&&(this._unsubscribe=void 0);try{ie.call(this)}catch(Me){se=Me instanceof Te?ge(Me.errors):[Me]}}if((0,I.k)(ye)){let Me=-1,ke=ye.length;for(;++Me<ke;){const Be=ye[Me];if((0,c.K)(Be))try{Be.unsubscribe()}catch(be){se=se||[],be instanceof Te?se=se.concat(ge(be.errors)):se.push(be)}}}if(se)throw new Te(se)}add(se){let re=se;if(!se)return ue.EMPTY;switch(typeof se){case"function":re=new ue(se);case"object":if(re===this||re.closed||"function"!=typeof re.unsubscribe)return re;if(this.closed)return re.unsubscribe(),re;if(!(re instanceof ue)){const ye=re;re=new ue,re._subscriptions=[ye]}break;default:throw new Error("unrecognized teardown "+se+" added to Subscription.")}let{_parentOrParents:X}=re;if(null===X)re._parentOrParents=this;else if(X instanceof ue){if(X===this)return re;re._parentOrParents=[X,this]}else{if(-1!==X.indexOf(this))return re;X.push(this)}const ie=this._subscriptions;return null===ie?this._subscriptions=[re]:ie.push(re),re}remove(se){const re=this._subscriptions;if(re){const X=re.indexOf(se);-1!==X&&re.splice(X,1)}}}var he;function ge(he){return he.reduce((se,re)=>se.concat(re instanceof Te?re.errors:re),[])}ue.EMPTY=((he=new ue).closed=!0,he)},2494:(Tt,He,W)=>{"use strict";W.d(He,{v:()=>c});let I=!1;const c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(le){if(le){const Ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ce.stack)}else I&&console.log("RxJS: Back to a better error behavior. Thank you. <3");I=le},get useDeprecatedSynchronousErrorHandling(){return I}}},5345:(Tt,He,W)=>{"use strict";W.d(He,{IY:()=>Ce,Ds:()=>ue,ft:()=>he});var I=W(7393),c=W(7574),le=W(7444);class Ce extends I.L{constructor(re){super(),this.parent=re}_next(re){this.parent.notifyNext(re)}_error(re){this.parent.notifyError(re),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ue extends I.L{notifyNext(re){this.destination.next(re)}notifyError(re){this.destination.error(re)}notifyComplete(){this.destination.complete()}}function he(se,re){if(re.closed)return;if(se instanceof c.y)return se.subscribe(re);let X;try{X=(0,le.s)(se)(re)}catch(ie){re.error(ie)}return X}},2441:(Tt,He,W)=>{"use strict";W.d(He,{c:()=>Te,N:()=>ue});var I=W(9765),c=W(7574),le=W(5319),Ce=W(1307);class Te extends c.y{constructor(X,ie){super(),this.source=X,this.subjectFactory=ie,this._refCount=0,this._isComplete=!1}_subscribe(X){return this.getSubject().subscribe(X)}getSubject(){const X=this._subject;return(!X||X.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let X=this._connection;return X||(this._isComplete=!1,X=this._connection=new le.w,X.add(this.source.subscribe(new ge(this.getSubject(),this))),X.closed&&(this._connection=null,X=le.w.EMPTY)),X}refCount(){return(0,Ce.x)()(this)}}const ue=(()=>{const re=Te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:re._subscribe},_isComplete:{value:re._isComplete,writable:!0},getSubject:{value:re.getSubject},connect:{value:re.connect},refCount:{value:re.refCount}}})();class ge extends I.Yc{constructor(X,ie){super(X),this.connectable=ie}_error(X){this._unsubscribe(),super._error(X)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const X=this.connectable;if(X){this.connectable=null;const ie=X._connection;X._refCount=0,X._subject=null,X._connection=null,ie&&ie.unsubscribe()}}}},9112:(Tt,He,W)=>{"use strict";W.d(He,{aj:()=>ge});var I=W(4869),c=W(9796),le=W(5197),Ce=W(509),Te=W(6693);const ue={};function ge(...re){let X,ie;return(0,I.K)(re[re.length-1])&&(ie=re.pop()),"function"==typeof re[re.length-1]&&(X=re.pop()),1===re.length&&(0,c.k)(re[0])&&(re=re[0]),(0,Te.n)(re,ie).lift(new he(X))}class he{constructor(X){this.resultSelector=X}call(X,ie){return ie.subscribe(new se(X,this.resultSelector))}}class se extends le.L{constructor(X,ie){super(X),this.resultSelector=ie,this.active=0,this.values=[],this.observables=[]}_next(X){this.values.push(ue),this.observables.push(X)}_complete(){const X=this.observables,ie=X.length;if(0===ie)this.destination.complete();else{this.active=ie,this.toRespond=ie;for(let ye=0;ye<ie;ye++)this.add((0,Ce.D)(this,X[ye],void 0,ye))}}notifyComplete(X){0==(this.active-=1)&&this.destination.complete()}notifyNext(X,ie,ye){const Me=this.values,Be=this.toRespond?Me[ye]===ue?--this.toRespond:this.toRespond:0;Me[ye]=ie,0===Be&&(this.resultSelector?this._tryResultSelector(Me):this.destination.next(Me.slice()))}_tryResultSelector(X){let ie;try{ie=this.resultSelector.apply(this,X)}catch(ye){return void this.destination.error(ye)}this.destination.next(ie)}}},8071:(Tt,He,W)=>{"use strict";W.d(He,{z:()=>Ce});var I=W(5917),c=W(3282);function Ce(...Te){return(0,c.J)(1)((0,I.of)(...Te))}},9193:(Tt,He,W)=>{"use strict";W.d(He,{E:()=>c,c:()=>le});var I=W(7574);const c=new I.y(Te=>Te.complete());function le(Te){return Te?function(Te){return new I.y(ue=>Te.schedule(()=>ue.complete()))}(Te):c}},4402:(Tt,He,W)=>{"use strict";W.d(He,{D:()=>ke});var I=W(7574),c=W(7444),le=W(5319),Ce=W(6554),ge=W(4087),he=W(377),X=W(4072),ie=W(9489);function ke(Be,be){return be?function(Be,be){if(null!=Be){if(function(Be){return Be&&"function"==typeof Be[Ce.L]}(Be))return function(Be,be){return new I.y($e=>{const ht=new le.w;return ht.add(be.schedule(()=>{const kt=Be[Ce.L]();ht.add(kt.subscribe({next(tt){ht.add(be.schedule(()=>$e.next(tt)))},error(tt){ht.add(be.schedule(()=>$e.error(tt)))},complete(){ht.add(be.schedule(()=>$e.complete()))}}))})),ht})}(Be,be);if((0,X.t)(Be))return function(Be,be){return new I.y($e=>{const ht=new le.w;return ht.add(be.schedule(()=>Be.then(kt=>{ht.add(be.schedule(()=>{$e.next(kt),ht.add(be.schedule(()=>$e.complete()))}))},kt=>{ht.add(be.schedule(()=>$e.error(kt)))}))),ht})}(Be,be);if((0,ie.z)(Be))return(0,ge.r)(Be,be);if(function(Be){return Be&&"function"==typeof Be[he.hZ]}(Be)||"string"==typeof Be)return function(Be,be){if(!Be)throw new Error("Iterable cannot be null");return new I.y($e=>{const ht=new le.w;let kt;return ht.add(()=>{kt&&"function"==typeof kt.return&&kt.return()}),ht.add(be.schedule(()=>{kt=Be[he.hZ](),ht.add(be.schedule(function(){if($e.closed)return;let tt,it;try{const Pt=kt.next();tt=Pt.value,it=Pt.done}catch(Pt){return void $e.error(Pt)}it?$e.complete():($e.next(tt),this.schedule())}))})),ht})}(Be,be)}throw new TypeError((null!==Be&&typeof Be||Be)+" is not observable")}(Be,be):Be instanceof I.y?Be:new I.y((0,c.s)(Be))}},6693:(Tt,He,W)=>{"use strict";W.d(He,{n:()=>Ce});var I=W(7574),c=W(5015),le=W(4087);function Ce(Te,ue){return ue?(0,le.r)(Te,ue):new I.y((0,c.V)(Te))}},2759:(Tt,He,W)=>{"use strict";W.d(He,{R:()=>ue});var I=W(7574),c=W(9796),le=W(9105),Ce=W(8002);function ue(X,ie,ye,Me){return(0,le.m)(ye)&&(Me=ye,ye=void 0),Me?ue(X,ie,ye).pipe((0,Ce.U)(ke=>(0,c.k)(ke)?Me(...ke):Me(ke))):new I.y(ke=>{ge(X,ie,function(be){ke.next(arguments.length>1?Array.prototype.slice.call(arguments):be)},ke,ye)})}function ge(X,ie,ye,Me,ke){let Be;if(function(X){return X&&"function"==typeof X.addEventListener&&"function"==typeof X.removeEventListener}(X)){const be=X;X.addEventListener(ie,ye,ke),Be=()=>be.removeEventListener(ie,ye,ke)}else if(function(X){return X&&"function"==typeof X.on&&"function"==typeof X.off}(X)){const be=X;X.on(ie,ye),Be=()=>be.off(ie,ye)}else if(function(X){return X&&"function"==typeof X.addListener&&"function"==typeof X.removeListener}(X)){const be=X;X.addListener(ie,ye),Be=()=>be.removeListener(ie,ye)}else{if(!X||!X.length)throw new TypeError("Invalid event target");for(let be=0,$e=X.length;be<$e;be++)ge(X[be],ie,ye,Me,ke)}Me.add(Be)}},6682:(Tt,He,W)=>{"use strict";W.d(He,{T:()=>Te});var I=W(7574),c=W(4869),le=W(3282),Ce=W(6693);function Te(...ue){let ge=Number.POSITIVE_INFINITY,he=null,se=ue[ue.length-1];return(0,c.K)(se)?(he=ue.pop(),ue.length>1&&"number"==typeof ue[ue.length-1]&&(ge=ue.pop())):"number"==typeof se&&(ge=ue.pop()),null===he&&1===ue.length&&ue[0]instanceof I.y?ue[0]:(0,le.J)(ge)((0,Ce.n)(ue,he))}},5917:(Tt,He,W)=>{"use strict";W.d(He,{of:()=>Ce});var I=W(4869),c=W(6693),le=W(4087);function Ce(...Te){let ue=Te[Te.length-1];return(0,I.K)(ue)?(Te.pop(),(0,le.r)(Te,ue)):(0,c.n)(Te)}},6797:(Tt,He,W)=>{"use strict";W.d(He,{H:()=>Te});var I=W(7574),c=W(3637),le=W(6561),Ce=W(4869);function Te(ge=0,he,se){let re=-1;return(0,le.k)(he)?re=Number(he)<1?1:Number(he):(0,Ce.K)(he)&&(se=he),(0,Ce.K)(se)||(se=c.P),new I.y(X=>{const ie=(0,le.k)(ge)?ge:+ge-se.now();return se.schedule(ue,ie,{index:0,period:re,subscriber:X})})}function ue(ge){const{index:he,period:se,subscriber:re}=ge;if(re.next(he),!re.closed){if(-1===se)return re.complete();ge.index=he+1,this.schedule(ge,se)}}},5242:(Tt,He,W)=>{"use strict";W.d(He,{d:()=>c});var I=W(7393);function c(Te=null){return ue=>ue.lift(new le(Te))}class le{constructor(ue){this.defaultValue=ue}call(ue,ge){return ge.subscribe(new Ce(ue,this.defaultValue))}}class Ce extends I.L{constructor(ue,ge){super(ue),this.defaultValue=ge,this.isEmpty=!0}_next(ue){this.isEmpty=!1,this.destination.next(ue)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(Tt,He,W)=>{"use strict";W.d(He,{x:()=>c});var I=W(7393);function c(Te,ue){return ge=>ge.lift(new le(Te,ue))}class le{constructor(ue,ge){this.compare=ue,this.keySelector=ge}call(ue,ge){return ge.subscribe(new Ce(ue,this.compare,this.keySelector))}}class Ce extends I.L{constructor(ue,ge,he){super(ue),this.keySelector=he,this.hasKey=!1,"function"==typeof ge&&(this.compare=ge)}compare(ue,ge){return ue===ge}_next(ue){let ge;try{const{keySelector:se}=this;ge=se?se(ue):ue}catch(se){return this.destination.error(se)}let he=!1;if(this.hasKey)try{const{compare:se}=this;he=se(this.key,ge)}catch(se){return this.destination.error(se)}else this.hasKey=!0;he||(this.key=ge,this.destination.next(ue))}}},5435:(Tt,He,W)=>{"use strict";W.d(He,{h:()=>c});var I=W(7393);function c(Te,ue){return function(he){return he.lift(new le(Te,ue))}}class le{constructor(ue,ge){this.predicate=ue,this.thisArg=ge}call(ue,ge){return ge.subscribe(new Ce(ue,this.predicate,this.thisArg))}}class Ce extends I.L{constructor(ue,ge,he){super(ue),this.predicate=ge,this.thisArg=he,this.count=0}_next(ue){let ge;try{ge=this.predicate.call(this.thisArg,ue,this.count++)}catch(he){return void this.destination.error(he)}ge&&this.destination.next(ue)}}},8049:(Tt,He,W)=>{"use strict";W.d(He,{P:()=>ge});var I=W(3410),c=W(5435),le=W(5257),Ce=W(5242),Te=W(4635),ue=W(4487);function ge(he,se){const re=arguments.length>=2;return X=>X.pipe(he?(0,c.h)((ie,ye)=>he(ie,ye,X)):ue.y,(0,le.q)(1),re?(0,Ce.d)(se):(0,Te.T)(()=>new I.K))}},8002:(Tt,He,W)=>{"use strict";W.d(He,{U:()=>c});var I=W(7393);function c(Te,ue){return function(he){if("function"!=typeof Te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return he.lift(new le(Te,ue))}}class le{constructor(ue,ge){this.project=ue,this.thisArg=ge}call(ue,ge){return ge.subscribe(new Ce(ue,this.project,this.thisArg))}}class Ce extends I.L{constructor(ue,ge,he){super(ue),this.project=ge,this.count=0,this.thisArg=he||this}_next(ue){let ge;try{ge=this.project.call(this.thisArg,ue,this.count++)}catch(he){return void this.destination.error(he)}this.destination.next(ge)}}},3282:(Tt,He,W)=>{"use strict";W.d(He,{J:()=>le});var I=W(9773),c=W(4487);function le(Ce=Number.POSITIVE_INFINITY){return(0,I.zg)(c.y,Ce)}},9773:(Tt,He,W)=>{"use strict";W.d(He,{zg:()=>Ce});var I=W(8002),c=W(4402),le=W(5345);function Ce(he,se,re=Number.POSITIVE_INFINITY){return"function"==typeof se?X=>X.pipe(Ce((ie,ye)=>(0,c.D)(he(ie,ye)).pipe((0,I.U)((Me,ke)=>se(ie,Me,ye,ke))),re)):("number"==typeof se&&(re=se),X=>X.lift(new Te(he,re)))}class Te{constructor(se,re=Number.POSITIVE_INFINITY){this.project=se,this.concurrent=re}call(se,re){return re.subscribe(new ue(se,this.project,this.concurrent))}}class ue extends le.Ds{constructor(se,re,X=Number.POSITIVE_INFINITY){super(se),this.project=re,this.concurrent=X,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(se){this.active<this.concurrent?this._tryNext(se):this.buffer.push(se)}_tryNext(se){let re;const X=this.index++;try{re=this.project(se,X)}catch(ie){return void this.destination.error(ie)}this.active++,this._innerSub(re)}_innerSub(se){const re=new le.IY(this),X=this.destination;X.add(re);const ie=(0,le.ft)(se,re);ie!==re&&X.add(ie)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(se){this.destination.next(se)}notifyComplete(){const se=this.buffer;this.active--,se.length>0?this._next(se.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Tt,He,W)=>{"use strict";W.d(He,{QV:()=>le,ht:()=>Te});var I=W(7393),c=W(1593);function le(ge,he=0){return function(re){return re.lift(new Ce(ge,he))}}class Ce{constructor(he,se=0){this.scheduler=he,this.delay=se}call(he,se){return se.subscribe(new Te(he,this.scheduler,this.delay))}}class Te extends I.L{constructor(he,se,re=0){super(he),this.scheduler=se,this.delay=re}static dispatch(he){const{notification:se,destination:re}=he;se.observe(re),this.unsubscribe()}scheduleMessage(he){this.destination.add(this.scheduler.schedule(Te.dispatch,this.delay,new ue(he,this.destination)))}_next(he){this.scheduleMessage(c.P.createNext(he))}_error(he){this.scheduleMessage(c.P.createError(he)),this.unsubscribe()}_complete(){this.scheduleMessage(c.P.createComplete()),this.unsubscribe()}}class ue{constructor(he,se){this.notification=he,this.destination=se}}},9328:(Tt,He,W)=>{"use strict";W.d(He,{G:()=>c});var I=W(7393);function c(){return Te=>Te.lift(new le)}class le{call(ue,ge){return ge.subscribe(new Ce(ue))}}class Ce extends I.L{constructor(ue){super(ue),this.hasPrev=!1}_next(ue){let ge;this.hasPrev?ge=[this.prev,ue]:this.hasPrev=!0,this.prev=ue,ge&&this.destination.next(ge)}}},1307:(Tt,He,W)=>{"use strict";W.d(He,{x:()=>c});var I=W(7393);function c(){return function(ue){return ue.lift(new le(ue))}}class le{constructor(ue){this.connectable=ue}call(ue,ge){const{connectable:he}=this;he._refCount++;const se=new Ce(ue,he),re=ge.subscribe(se);return se.closed||(se.connection=he.connect()),re}}class Ce extends I.L{constructor(ue,ge){super(ue),this.connectable=ge}_unsubscribe(){const{connectable:ue}=this;if(!ue)return void(this.connection=null);this.connectable=null;const ge=ue._refCount;if(ge<=0)return void(this.connection=null);if(ue._refCount=ge-1,ge>1)return void(this.connection=null);const{connection:he}=this,se=ue._connection;this.connection=null,se&&(!he||se===he)&&se.unsubscribe()}}},2145:(Tt,He,W)=>{"use strict";W.d(He,{R:()=>c});var I=W(7393);function c(Te,ue){let ge=!1;return arguments.length>=2&&(ge=!0),function(se){return se.lift(new le(Te,ue,ge))}}class le{constructor(ue,ge,he=!1){this.accumulator=ue,this.seed=ge,this.hasSeed=he}call(ue,ge){return ge.subscribe(new Ce(ue,this.accumulator,this.seed,this.hasSeed))}}class Ce extends I.L{constructor(ue,ge,he,se){super(ue),this.accumulator=ge,this._seed=he,this.hasSeed=se,this.index=0}get seed(){return this._seed}set seed(ue){this.hasSeed=!0,this._seed=ue}_next(ue){if(this.hasSeed)return this._tryNext(ue);this.seed=ue,this.destination.next(ue)}_tryNext(ue){const ge=this.index++;let he;try{he=this.accumulator(this.seed,ue,ge)}catch(se){this.destination.error(se)}this.seed=he,this.destination.next(he)}}},8819:(Tt,He,W)=>{"use strict";W.d(He,{B:()=>ge});var I=W(2441);var Ce=W(1307),Te=W(9765);function ue(){return new Te.xQ}function ge(){return he=>(0,Ce.x)()(function(he,se){return function(X){let ie;ie="function"==typeof he?he:function(){return he};const ye=Object.create(X,I.N);return ye.source=X,ye.subjectFactory=ie,ye}}(ue)(he))}},2066:(Tt,He,W)=>{"use strict";W.d(He,{d:()=>se});var I=W(9765),c=W(7771),le=W(5319),Ce=W(9746),Te=W(7971),ue=W(8858);class ge extends I.xQ{constructor(ie=Number.POSITIVE_INFINITY,ye=Number.POSITIVE_INFINITY,Me){super(),this.scheduler=Me,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=ie<1?1:ie,this._windowTime=ye<1?1:ye,ye===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(ie){if(!this.isStopped){const ye=this._events;ye.push(ie),ye.length>this._bufferSize&&ye.shift()}super.next(ie)}nextTimeWindow(ie){this.isStopped||(this._events.push(new he(this._getNow(),ie)),this._trimBufferThenGetEvents()),super.next(ie)}_subscribe(ie){const ye=this._infiniteTimeWindow,Me=ye?this._events:this._trimBufferThenGetEvents(),ke=this.scheduler,Be=Me.length;let be;if(this.closed)throw new Te.N;if(this.isStopped||this.hasError?be=le.w.EMPTY:(this.observers.push(ie),be=new ue.W(this,ie)),ke&&ie.add(ie=new Ce.ht(ie,ke)),ye)for(let $e=0;$e<Be&&!ie.closed;$e++)ie.next(Me[$e]);else for(let $e=0;$e<Be&&!ie.closed;$e++)ie.next(Me[$e].value);return this.hasError?ie.error(this.thrownError):this.isStopped&&ie.complete(),be}_getNow(){return(this.scheduler||c.c).now()}_trimBufferThenGetEvents(){const ie=this._getNow(),ye=this._bufferSize,Me=this._windowTime,ke=this._events,Be=ke.length;let be=0;for(;be<Be&&!(ie-ke[be].time<Me);)be++;return Be>ye&&(be=Math.max(be,Be-ye)),be>0&&ke.splice(0,be),ke}}class he{constructor(ie,ye){this.time=ie,this.value=ye}}function se(X,ie,ye){let Me;return Me=X&&"object"==typeof X?X:{bufferSize:X,windowTime:ie,refCount:!1,scheduler:ye},ke=>ke.lift(function({bufferSize:X=Number.POSITIVE_INFINITY,windowTime:ie=Number.POSITIVE_INFINITY,refCount:ye,scheduler:Me}){let ke,be,Be=0,$e=!1,ht=!1;return function(tt){let it;Be++,!ke||$e?($e=!1,ke=new ge(X,ie,Me),it=ke.subscribe(this),be=tt.subscribe({next(Pt){ke.next(Pt)},error(Pt){$e=!0,ke.error(Pt)},complete(){ht=!0,be=void 0,ke.complete()}}),ht&&(be=void 0)):it=ke.subscribe(this),this.add(()=>{Be--,it.unsubscribe(),it=void 0,be&&!ht&&ye&&0===Be&&(be.unsubscribe(),be=void 0,ke=void 0)})}}(Me))}},3653:(Tt,He,W)=>{"use strict";W.d(He,{T:()=>c});var I=W(7393);function c(Te){return ue=>ue.lift(new le(Te))}class le{constructor(ue){this.total=ue}call(ue,ge){return ge.subscribe(new Ce(ue,this.total))}}class Ce extends I.L{constructor(ue,ge){super(ue),this.total=ge,this.count=0}_next(ue){++this.count>this.total&&this.destination.next(ue)}}},9761:(Tt,He,W)=>{"use strict";W.d(He,{O:()=>le});var I=W(8071),c=W(4869);function le(...Ce){const Te=Ce[Ce.length-1];return(0,c.K)(Te)?(Ce.pop(),ue=>(0,I.z)(Ce,ue,Te)):ue=>(0,I.z)(Ce,ue)}},9673:(Tt,He,W)=>{"use strict";W.d(He,{R:()=>Te});var I=W(7574),c=W(4581),le=W(6561);class Ce extends I.y{constructor(he,se=0,re=c.e){super(),this.source=he,this.delayTime=se,this.scheduler=re,(!(0,le.k)(se)||se<0)&&(this.delayTime=0),(!re||"function"!=typeof re.schedule)&&(this.scheduler=c.e)}static create(he,se=0,re=c.e){return new Ce(he,se,re)}static dispatch(he){const{source:se,subscriber:re}=he;return this.add(se.subscribe(re))}_subscribe(he){return this.scheduler.schedule(Ce.dispatch,this.delayTime,{source:this.source,subscriber:he})}}function Te(ge,he=0){return function(re){return re.lift(new ue(ge,he))}}class ue{constructor(he,se){this.scheduler=he,this.delay=se}call(he,se){return new Ce(se,this.delay,this.scheduler).subscribe(he)}}},3190:(Tt,He,W)=>{"use strict";W.d(He,{w:()=>Ce});var I=W(8002),c=W(4402),le=W(5345);function Ce(ge,he){return"function"==typeof he?se=>se.pipe(Ce((re,X)=>(0,c.D)(ge(re,X)).pipe((0,I.U)((ie,ye)=>he(re,ie,X,ye))))):se=>se.lift(new Te(ge))}class Te{constructor(he){this.project=he}call(he,se){return se.subscribe(new ue(he,this.project))}}class ue extends le.Ds{constructor(he,se){super(he),this.project=se,this.index=0}_next(he){let se;const re=this.index++;try{se=this.project(he,re)}catch(X){return void this.destination.error(X)}this._innerSub(se)}_innerSub(he){const se=this.innerSubscription;se&&se.unsubscribe();const re=new le.IY(this),X=this.destination;X.add(re),this.innerSubscription=(0,le.ft)(he,re),this.innerSubscription!==re&&X.add(this.innerSubscription)}_complete(){const{innerSubscription:he}=this;(!he||he.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(he){this.destination.next(he)}}},5257:(Tt,He,W)=>{"use strict";W.d(He,{q:()=>Ce});var I=W(7393),c=W(7108),le=W(9193);function Ce(ge){return he=>0===ge?(0,le.c)():he.lift(new Te(ge))}class Te{constructor(he){if(this.total=he,this.total<0)throw new c.W}call(he,se){return se.subscribe(new ue(he,this.total))}}class ue extends I.L{constructor(he,se){super(he),this.total=se,this.count=0}_next(he){const se=this.total,re=++this.count;re<=se&&(this.destination.next(he),re===se&&(this.destination.complete(),this.unsubscribe()))}}},6782:(Tt,He,W)=>{"use strict";W.d(He,{R:()=>c});var I=W(5345);function c(Te){return ue=>ue.lift(new le(Te))}class le{constructor(ue){this.notifier=ue}call(ue,ge){const he=new Ce(ue),se=(0,I.ft)(this.notifier,new I.IY(he));return se&&!he.seenValue?(he.add(se),ge.subscribe(he)):he}}class Ce extends I.Ds{constructor(ue){super(ue),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},8307:(Tt,He,W)=>{"use strict";W.d(He,{b:()=>Ce});var I=W(7393),c=W(8640),le=W(9105);function Ce(ge,he,se){return function(X){return X.lift(new Te(ge,he,se))}}class Te{constructor(he,se,re){this.nextOrObserver=he,this.error=se,this.complete=re}call(he,se){return se.subscribe(new ue(he,this.nextOrObserver,this.error,this.complete))}}class ue extends I.L{constructor(he,se,re,X){super(he),this._tapNext=c.Z,this._tapError=c.Z,this._tapComplete=c.Z,this._tapError=re||c.Z,this._tapComplete=X||c.Z,(0,le.m)(se)?(this._context=this,this._tapNext=se):se&&(this._context=se,this._tapNext=se.next||c.Z,this._tapError=se.error||c.Z,this._tapComplete=se.complete||c.Z)}_next(he){try{this._tapNext.call(this._context,he)}catch(se){return void this.destination.error(se)}this.destination.next(he)}_error(he){try{this._tapError.call(this._context,he)}catch(se){return void this.destination.error(se)}this.destination.error(he)}_complete(){try{this._tapComplete.call(this._context)}catch(he){return void this.destination.error(he)}return this.destination.complete()}}},4635:(Tt,He,W)=>{"use strict";W.d(He,{T:()=>le});var I=W(3410),c=W(7393);function le(ge=ue){return he=>he.lift(new Ce(ge))}class Ce{constructor(he){this.errorFactory=he}call(he,se){return se.subscribe(new Te(he,this.errorFactory))}}class Te extends c.L{constructor(he,se){super(he),this.errorFactory=se,this.hasValue=!1}_next(he){this.hasValue=!0,this.destination.next(he)}_complete(){if(this.hasValue)return this.destination.complete();{let he;try{he=this.errorFactory()}catch(se){he=se}this.destination.error(he)}}}function ue(){return new I.K}},4087:(Tt,He,W)=>{"use strict";W.d(He,{r:()=>le});var I=W(7574),c=W(5319);function le(Ce,Te){return new I.y(ue=>{const ge=new c.w;let he=0;return ge.add(Te.schedule(function(){he!==Ce.length?(ue.next(Ce[he++]),ue.closed||ge.add(this.schedule())):ue.complete()})),ge})}},6465:(Tt,He,W)=>{"use strict";W.d(He,{o:()=>le});var I=W(5319);class c extends I.w{constructor(Te,ue){super()}schedule(Te,ue=0){return this}}class le extends c{constructor(Te,ue){super(Te,ue),this.scheduler=Te,this.work=ue,this.pending=!1}schedule(Te,ue=0){if(this.closed)return this;this.state=Te;const ge=this.id,he=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(he,ge,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(he,this.id,ue),this}requestAsyncId(Te,ue,ge=0){return setInterval(Te.flush.bind(Te,this),ge)}recycleAsyncId(Te,ue,ge=0){if(null!==ge&&this.delay===ge&&!1===this.pending)return ue;clearInterval(ue)}execute(Te,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(Te,ue);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,ue){let he,ge=!1;try{this.work(Te)}catch(se){ge=!0,he=!!se&&se||new Error(se)}if(ge)return this.unsubscribe(),he}_unsubscribe(){const Te=this.id,ue=this.scheduler,ge=ue.actions,he=ge.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==he&&ge.splice(he,1),null!=Te&&(this.id=this.recycleAsyncId(ue,Te,null)),this.delay=null}}},6102:(Tt,He,W)=>{"use strict";W.d(He,{v:()=>c});let I=(()=>{class le{constructor(Te,ue=le.now){this.SchedulerAction=Te,this.now=ue}schedule(Te,ue=0,ge){return new this.SchedulerAction(this,Te).schedule(ge,ue)}}return le.now=()=>Date.now(),le})();class c extends I{constructor(Ce,Te=I.now){super(Ce,()=>c.delegate&&c.delegate!==this?c.delegate.now():Te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ce,Te=0,ue){return c.delegate&&c.delegate!==this?c.delegate.schedule(Ce,Te,ue):super.schedule(Ce,Te,ue)}flush(Ce){const{actions:Te}=this;if(this.active)return void Te.push(Ce);let ue;this.active=!0;do{if(ue=Ce.execute(Ce.state,Ce.delay))break}while(Ce=Te.shift());if(this.active=!1,ue){for(;Ce=Te.shift();)Ce.unsubscribe();throw ue}}}},4581:(Tt,He,W)=>{"use strict";W.d(He,{e:()=>ie,E:()=>X});let I=1;const c=Promise.resolve(),le={};function Ce(ye){return ye in le&&(delete le[ye],!0)}const Te={setImmediate(ye){const Me=I++;return le[Me]=!0,c.then(()=>Ce(Me)&&ye()),Me},clearImmediate(ye){Ce(ye)}};var ge=W(6465),se=W(6102);const X=new class extends se.v{flush(Me){this.active=!0,this.scheduled=void 0;const{actions:ke}=this;let Be,be=-1,$e=ke.length;Me=Me||ke.shift();do{if(Be=Me.execute(Me.state,Me.delay))break}while(++be<$e&&(Me=ke.shift()));if(this.active=!1,Be){for(;++be<$e&&(Me=ke.shift());)Me.unsubscribe();throw Be}}}(class extends ge.o{constructor(Me,ke){super(Me,ke),this.scheduler=Me,this.work=ke}requestAsyncId(Me,ke,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Me,ke,Be):(Me.actions.push(this),Me.scheduled||(Me.scheduled=Te.setImmediate(Me.flush.bind(Me,null))))}recycleAsyncId(Me,ke,Be=0){if(null!==Be&&Be>0||null===Be&&this.delay>0)return super.recycleAsyncId(Me,ke,Be);0===Me.actions.length&&(Te.clearImmediate(ke),Me.scheduled=void 0)}}),ie=X},3637:(Tt,He,W)=>{"use strict";W.d(He,{z:()=>le,P:()=>Ce});var I=W(6465);const le=new(W(6102).v)(I.o),Ce=le},7771:(Tt,He,W)=>{"use strict";W.d(He,{c:()=>ue,N:()=>Te});var I=W(6465),le=W(6102);const Te=new class extends le.v{}(class extends I.o{constructor(he,se){super(he,se),this.scheduler=he,this.work=se}schedule(he,se=0){return se>0?super.schedule(he,se):(this.delay=se,this.state=he,this.scheduler.flush(this),this)}execute(he,se){return se>0||this.closed?super.execute(he,se):this._execute(he,se)}requestAsyncId(he,se,re=0){return null!==re&&re>0||null===re&&this.delay>0?super.requestAsyncId(he,se,re):he.flush(this)}}),ue=Te},377:(Tt,He,W)=>{"use strict";W.d(He,{hZ:()=>c});const c="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Tt,He,W)=>{"use strict";W.d(He,{L:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Tt,He,W)=>{"use strict";W.d(He,{b:()=>I});const I="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Tt,He,W)=>{"use strict";W.d(He,{W:()=>c});const c=(()=>{function le(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return le.prototype=Object.create(Error.prototype),le})()},3410:(Tt,He,W)=>{"use strict";W.d(He,{K:()=>c});const c=(()=>{function le(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return le.prototype=Object.create(Error.prototype),le})()},7971:(Tt,He,W)=>{"use strict";W.d(He,{N:()=>c});const c=(()=>{function le(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return le.prototype=Object.create(Error.prototype),le})()},4449:(Tt,He,W)=>{"use strict";function I(c){setTimeout(()=>{throw c},0)}W.d(He,{z:()=>I})},4487:(Tt,He,W)=>{"use strict";function I(c){return c}W.d(He,{y:()=>I})},9796:(Tt,He,W)=>{"use strict";W.d(He,{k:()=>I});const I=Array.isArray||(c=>c&&"number"==typeof c.length)},9489:(Tt,He,W)=>{"use strict";W.d(He,{z:()=>I});const I=c=>c&&"number"==typeof c.length&&"function"!=typeof c},9105:(Tt,He,W)=>{"use strict";function I(c){return"function"==typeof c}W.d(He,{m:()=>I})},6561:(Tt,He,W)=>{"use strict";W.d(He,{k:()=>c});var I=W(9796);function c(le){return!(0,I.k)(le)&&le-parseFloat(le)+1>=0}},1555:(Tt,He,W)=>{"use strict";function I(c){return null!==c&&"object"==typeof c}W.d(He,{K:()=>I})},4072:(Tt,He,W)=>{"use strict";function I(c){return!!c&&"function"!=typeof c.subscribe&&"function"==typeof c.then}W.d(He,{t:()=>I})},4869:(Tt,He,W)=>{"use strict";function I(c){return c&&"function"==typeof c.schedule}W.d(He,{K:()=>I})},8640:(Tt,He,W)=>{"use strict";function I(){}W.d(He,{Z:()=>I})},7444:(Tt,He,W)=>{"use strict";W.d(He,{s:()=>X});var I=W(5015),c=W(4449),Ce=W(377),ue=W(6554),he=W(9489),se=W(4072),re=W(1555);const X=ie=>{if(ie&&"function"==typeof ie[ue.L])return(ie=>ye=>{const Me=ie[ue.L]();if("function"!=typeof Me.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Me.subscribe(ye)})(ie);if((0,he.z)(ie))return(0,I.V)(ie);if((0,se.t)(ie))return(ie=>ye=>(ie.then(Me=>{ye.closed||(ye.next(Me),ye.complete())},Me=>ye.error(Me)).then(null,c.z),ye))(ie);if(ie&&"function"==typeof ie[Ce.hZ])return(ie=>ye=>{const Me=ie[Ce.hZ]();for(;;){let ke;try{ke=Me.next()}catch(Be){return ye.error(Be),ye}if(ke.done){ye.complete();break}if(ye.next(ke.value),ye.closed)break}return"function"==typeof Me.return&&ye.add(()=>{Me.return&&Me.return()}),ye})(ie);{const Me=`You provided ${(0,re.K)(ie)?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Me)}}},5015:(Tt,He,W)=>{"use strict";W.d(He,{V:()=>I});const I=c=>le=>{for(let Ce=0,Te=c.length;Ce<Te&&!le.closed;Ce++)le.next(c[Ce]);le.complete()}},509:(Tt,He,W)=>{"use strict";W.d(He,{D:()=>Te});var I=W(7393);class c extends I.L{constructor(ge,he,se){super(),this.parent=ge,this.outerValue=he,this.outerIndex=se,this.index=0}_next(ge){this.parent.notifyNext(this.outerValue,ge,this.outerIndex,this.index++,this)}_error(ge){this.parent.notifyError(ge,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var le=W(7444),Ce=W(7574);function Te(ue,ge,he,se,re=new c(ue,he,se)){if(!re.closed)return ge instanceof Ce.y?ge.subscribe(re):(0,le.s)(ge)(re)}},7556:(Tt,He,W)=>{"use strict";W.d(He,{e:()=>ue});var I=W(8239),c=W(7841),le=W(9765),Ce=W(7716),Te=W(3820);let ue=(()=>{class ge{constructor(se){this.afauth=se,this.ISLOGGEDKEY="islogged",this.urlUsuariointentaacceder=";",this.changeLoginStatusSubjet=new le.xQ,this.changeLoginStatus$=this.changeLoginStatusSubjet.asObservable()}register(se,re){var X=this;return(0,I.Z)(function*(){try{return yield X.afauth.createUserWithEmailAndPassword(se,re)}catch(ie){return console.log("error en login: ",ie),null}})()}login(se,re){var X=this;return(0,I.Z)(function*(){try{return yield X.afauth.signInWithEmailAndPassword(se,re)}catch(ie){return console.log("error en login: ",ie),null}})()}loginWithGoogle(se,re){var X=this;return(0,I.Z)(function*(){try{return yield X.afauth.signInWithPopup(new c.Z.auth.GoogleAuthProvider)}catch(ie){return console.log("error en login con google: ",ie),null}})()}getUserLogged(){return this.afauth.authState}isLoggedIn(se){return!!localStorage.getItem(this.ISLOGGEDKEY)||(this.urlUsuariointentaacceder=se,!1)}logout(){try{this.afauth.signOut(),localStorage.removeItem(this.ISLOGGEDKEY),this.changeLoginStatusSubjet.next(!1)}catch(se){}}}return ge.\u0275fac=function(se){return new(se||ge)(Ce.LFG(Te.zQ))},ge.\u0275prov=Ce.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})()},4382:(Tt,He,W)=>{"use strict";W.d(He,{T:()=>le});var I=W(7716),c=W(4612);let le=(()=>{class Ce{constructor(ue){this.firestore=ue}crear(ue,ge){return this.firestore.collection(ue).add(ge)}obtenerPorId(ue,ge){return this.firestore.collection(ue).doc(ge).snapshotChanges()}obtenerTodos(ue){return this.firestore.collection(ue).snapshotChanges()}actualizar(ue,ge,he){return this.firestore.collection(ue).doc(he).set(ge)}eliminar(ue,ge){return this.firestore.collection(ue).doc(ge).delete()}createWithCustomId(ue,ge,he){this.firestore.collection(ue).doc(ge).set(he)}}return Ce.\u0275fac=function(ue){return new(ue||Ce)(I.LFG(c.ST))},Ce.\u0275prov=I.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},6307:(Tt,He,W)=>{"use strict";var I=W(9075),c=W(7716),le=W(3507),Ce=W(7556),Te=W(665);let ue=(()=>{class g{constructor(h,_){this.authService=h,this.router=_,this.usuario={email:"",password:""},this.routeRedirect=""}ngOnInit(){}Ingresar(){try{const{email:h,password:_}=this.usuario;this.authService.login(h,_).then(O=>{if(O)return O?(alert("Bienvenido "+h),void this.router.navigate(["/panelDeControl"])):void 0;alert("Datos incorrectos, si no tenes cuenta registrate!")}),this.routeRedirect=this.authService.urlUsuariointentaacceder,this.router.navigate([this.routeRedirect])}catch(h){console.log(h)}}logout(){this.authService.logout()}}return g.\u0275fac=function(h){return new(h||g)(c.Y36(Ce.e),c.Y36(le.F0))},g.\u0275cmp=c.Xpm({type:g,selectors:[["app-login"]],decls:18,vars:2,consts:[[1,"container"],[1,"card","text-center"],[1,"card-header"],[1,"card-body","p-4"],[2,"float","left"],["type","email","placeholder","ingrese su email",1,"form-control","m-2",3,"ngModel","ngModelChange"],["type","password","placeholder","ingrese su password",1,"form-control","m-2",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-block","m-2",3,"click"],["href","#"]],template:function(h,_){1&h&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"b"),c._uU(4," INGRESO"),c.qZA(),c.qZA(),c.TgZ(5,"div",3),c.TgZ(6,"label",4),c._uU(7,"Email"),c.qZA(),c.TgZ(8,"input",5),c.NdJ("ngModelChange",function(j){return _.usuario.email=j}),c.qZA(),c.TgZ(9,"label",4),c._uU(10,"Password"),c.qZA(),c.TgZ(11,"input",6),c.NdJ("ngModelChange",function(j){return _.usuario.password=j}),c.qZA(),c.TgZ(12,"button",7),c.NdJ("click",function(){return _.Ingresar()}),c._uU(13,"Ingresar"),c.qZA(),c.TgZ(14,"label"),c._uU(15,"\xbfAun no tienes cuenta? "),c.TgZ(16,"a",8),c._uU(17,"Mesa de ayuda"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&h&&(c.xp6(8),c.Q6J("ngModel",_.usuario.email),c.xp6(3),c.Q6J("ngModel",_.usuario.password))},directives:[Te.Fj,Te.JJ,Te.On],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100vw;height:100vh}"]}),g})();var ge=W(4382);const se=[{path:"panelDeControl",loadChildren:()=>W.e(201).then(W.bind(W,4201)).then(g=>g.PanelDeControlModule)},{path:"login",component:ue},{path:"register",component:(()=>{class g{constructor(h,_,O){this.authService=h,this.database=_,this.router=O,this.usuario={email:"",password:"",name:""}}ngOnInit(){this.database.obtenerTodos("users").subscribe(h=>{console.log("usuariosRef: ",h),this.usuarios=h.map(_=>{let O=_.payload.doc.data();return O.id=_.payload.doc.id,O}),console.log(this.usuarios)})}registrarse(){const{email:h,password:_}=this.usuario;this.authService.register(h,_).then(O=>{console.log("se registro: ",O),[...this.usuarios].find(Pe=>Pe.email==h)||(console.log("USUARIO NUEVO CREADO"),this.database.crear("users",this.usuario)),this.router.navigate(["/panelDeControl"])}).catch(O=>{console.log(O)})}}return g.\u0275fac=function(h){return new(h||g)(c.Y36(Ce.e),c.Y36(ge.T),c.Y36(le.F0))},g.\u0275cmp=c.Xpm({type:g,selectors:[["app-register"]],decls:21,vars:3,consts:[[1,"container"],[1,"card","text-center"],[1,"card-header"],[1,"card-body","p-4"],[2,"float","left"],["type","email","placeholder","ingrese su nombre",1,"form-control","m-2",3,"ngModel","ngModelChange"],["type","email","placeholder","ingrese su email",1,"form-control","m-2",3,"ngModel","ngModelChange"],["type","password","placeholder","ingrese su password",1,"form-control","m-2",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-block","m-2",3,"click"],["routerLink","/login"]],template:function(h,_){1&h&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"b"),c._uU(4," REGISTRO"),c.qZA(),c.qZA(),c.TgZ(5,"div",3),c.TgZ(6,"label",4),c._uU(7,"Nombre"),c.qZA(),c.TgZ(8,"input",5),c.NdJ("ngModelChange",function(j){return _.usuario.name=j}),c.qZA(),c.TgZ(9,"label",4),c._uU(10,"Email"),c.qZA(),c.TgZ(11,"input",6),c.NdJ("ngModelChange",function(j){return _.usuario.email=j}),c.qZA(),c.TgZ(12,"label",4),c._uU(13,"Password"),c.qZA(),c.TgZ(14,"input",7),c.NdJ("ngModelChange",function(j){return _.usuario.password=j}),c.qZA(),c.TgZ(15,"button",8),c.NdJ("click",function(){return _.registrarse()}),c._uU(16,"Registrar"),c.qZA(),c.TgZ(17,"label"),c._uU(18,"Ya tienes cuenta? "),c.TgZ(19,"a",9),c._uU(20,"Ingresar"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&h&&(c.xp6(8),c.Q6J("ngModel",_.usuario.name),c.xp6(3),c.Q6J("ngModel",_.usuario.email),c.xp6(3),c.Q6J("ngModel",_.usuario.password))},directives:[Te.Fj,Te.JJ,Te.On,le.yS],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100vw;height:70vh}"]}),g})()}];let re=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[le.Bz.forRoot(se)],le.Bz]}),g})();var X=W(8583),ie=W(7574),ye=W(9193),Me=W(5917),ke=W(9765),Be=W(2759),be=W(6797),$e=W(9796),ht=W(6693),kt=W(5197),tt=W(509);function it(...g){if(1===g.length){if(!(0,$e.k)(g[0]))return g[0];g=g[0]}return(0,ht.n)(g,void 0).lift(new Pt)}class Pt{call(D,h){return h.subscribe(new qt(D))}}class qt extends kt.L{constructor(D){super(D),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(D){this.observables.push(D)}_complete(){const D=this.observables,h=D.length;if(0===h)this.destination.complete();else{for(let _=0;_<h&&!this.hasFirst;_++){const j=(0,tt.D)(this,D[_],void 0,_);this.subscriptions&&this.subscriptions.push(j),this.add(j)}this.observables=null}}notifyNext(D,h,_){if(!this.hasFirst){this.hasFirst=!0;for(let O=0;O<this.subscriptions.length;O++)if(O!==_){let j=this.subscriptions[O];j.unsubscribe(),this.remove(j)}this.subscriptions=null}this.destination.next(h)}}W(6215),W(9112);var Ze=W(8640);new ie.y(Ze.Z);var Ke=W(7393),Xe=W(377),je=W(5345);function pt(...g){const D=g[g.length-1];return"function"==typeof D&&g.pop(),(0,ht.n)(g,void 0).lift(new bt(D))}class bt{constructor(D){this.resultSelector=D}call(D,h){return h.subscribe(new Ft(D,this.resultSelector))}}class Ft extends Ke.L{constructor(D,h,_=Object.create(null)){super(D),this.resultSelector=h,this.iterators=[],this.active=0,this.resultSelector="function"==typeof h?h:void 0}_next(D){const h=this.iterators;(0,$e.k)(D)?h.push(new Nt(D)):h.push("function"==typeof D[Xe.hZ]?new Vt(D[Xe.hZ]()):new Lt(this.destination,this,D))}_complete(){const D=this.iterators,h=D.length;if(this.unsubscribe(),0!==h){this.active=h;for(let _=0;_<h;_++){let O=D[_];O.stillUnsubscribed?this.destination.add(O.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const D=this.iterators,h=D.length,_=this.destination;for(let Se=0;Se<h;Se++){let Pe=D[Se];if("function"==typeof Pe.hasValue&&!Pe.hasValue())return}let O=!1;const j=[];for(let Se=0;Se<h;Se++){let Pe=D[Se],ot=Pe.next();if(Pe.hasCompleted()&&(O=!0),ot.done)return void _.complete();j.push(ot.value)}this.resultSelector?this._tryresultSelector(j):_.next(j),O&&_.complete()}_tryresultSelector(D){let h;try{h=this.resultSelector.apply(this,D)}catch(_){return void this.destination.error(_)}this.destination.next(h)}}class Vt{constructor(D){this.iterator=D,this.nextResult=D.next()}hasValue(){return!0}next(){const D=this.nextResult;return this.nextResult=this.iterator.next(),D}hasCompleted(){const D=this.nextResult;return Boolean(D&&D.done)}}class Nt{constructor(D){this.array=D,this.index=0,this.length=0,this.length=D.length}[Xe.hZ](){return this}next(D){const h=this.index++;return h<this.length?{value:this.array[h],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Lt extends je.Ds{constructor(D,h,_){super(D),this.parent=h,this.observable=_,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Xe.hZ](){return this}next(){const D=this.buffer;return 0===D.length&&this.isComplete?{value:null,done:!0}:{value:D.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(D){this.buffer.push(D),this.parent.checkIterators()}subscribe(){return(0,je.ft)(this.observable,new je.IY(this))}}W(6682);var Fn=W(8071),Ht=W(6782),Zt=W(5435),Ut=W(5257),An=W(8002),ln=(W(9761),W(7519),W(3190)),_r=W(8307);function Mn(...g){return D=>{let h;return"function"==typeof g[g.length-1]&&(h=g.pop()),D.lift(new Or(g,h))}}class Or{constructor(D,h){this.observables=D,this.project=h}call(D,h){return h.subscribe(new En(D,this.observables,this.project))}}class En extends kt.L{constructor(D,h,_){super(D),this.observables=h,this.project=_,this.toRespond=[];const O=h.length;this.values=new Array(O);for(let j=0;j<O;j++)this.toRespond.push(j);for(let j=0;j<O;j++)this.add((0,tt.D)(this,h[j],void 0,j))}notifyNext(D,h,_){this.values[_]=h;const O=this.toRespond;if(O.length>0){const j=O.indexOf(_);-1!==j&&O.splice(j,1)}}notifyComplete(){}_next(D){if(0===this.toRespond.length){const h=[D,...this.values];this.project?this._tryProject(h):this.destination.next(h)}}_tryProject(D){let h;try{h=this.project.apply(this,D)}catch(_){return void this.destination.error(_)}this.destination.next(h)}}var Pr=W(3637),br=W(1593);class jr{constructor(D,h){this.delay=D,this.scheduler=h}call(D,h){return h.subscribe(new Xt(D,this.delay,this.scheduler))}}class Xt extends Ke.L{constructor(D,h,_){super(D),this.delay=h,this.scheduler=_,this.queue=[],this.active=!1,this.errored=!1}static dispatch(D){const h=D.source,_=h.queue,O=D.scheduler,j=D.destination;for(;_.length>0&&_[0].time-O.now()<=0;)_.shift().notification.observe(j);if(_.length>0){const Se=Math.max(0,_[0].time-O.now());this.schedule(D,Se)}else this.unsubscribe(),h.active=!1}_schedule(D){this.active=!0,this.destination.add(D.schedule(Xt.dispatch,this.delay,{source:this,destination:this.destination,scheduler:D}))}scheduleNotification(D){if(!0===this.errored)return;const h=this.scheduler,_=new Gt(h.now()+this.delay,D);this.queue.push(_),!1===this.active&&this._schedule(h)}_next(D){this.scheduleNotification(br.P.createNext(D))}_error(D){this.errored=!0,this.queue=[],this.destination.error(D),this.unsubscribe()}_complete(){this.scheduleNotification(br.P.createComplete()),this.unsubscribe()}}class Gt{constructor(D,h){this.time=D,this.notification=h}}W(9773),W(3653),W(8819);const kr=["*"],Lr=["dialog"];function Ti(g){return null!=g}function Ie(g){return(g||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(g){let D=this;if(!document.documentElement.contains(D))return null;do{if(D.matches(g))return D;D=D.parentElement||D.parentNode}while(null!==D&&1===D.nodeType);return null});const $={animation:!0,transitionTimerDelayMs:5};let L=(()=>{class g{constructor(){this.animation=$.animation}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=c.Yz7({factory:function(){return new g},token:g,providedIn:"root"}),g})();const ze=()=>{},{transitionTimerDelayMs:yn}=$,ir=new Map,lr=(g,D,h,_)=>{let O=_.context||{};const j=ir.get(D);if(j)switch(_.runningTransition){case"continue":return ye.E;case"stop":g.run(()=>j.transition$.complete()),O=Object.assign(j.context,O),ir.delete(D)}const Se=h(D,_.animation,O)||ze;if(!_.animation||"none"===window.getComputedStyle(D).transitionProperty)return g.run(()=>Se()),(0,Me.of)(void 0).pipe(function(g){return D=>new ie.y(h=>D.subscribe(Se=>g.run(()=>h.next(Se)),Se=>g.run(()=>h.error(Se)),()=>g.run(()=>h.complete())))}(g));const Pe=new ke.xQ,ot=new ke.xQ,yt=Pe.pipe(function(...g){return D=>(0,Fn.z)(D,(0,Me.of)(...g))}(!0));ir.set(D,{transition$:Pe,complete:()=>{ot.next(),ot.complete()},context:O});const It=function(g){const{transitionDelay:D,transitionDuration:h}=window.getComputedStyle(g);return 1e3*(parseFloat(D)+parseFloat(h))}(D);return g.runOutsideAngular(()=>{const Yt=(0,Be.R)(D,"transitionend").pipe((0,Ht.R)(yt),(0,Zt.h)(({target:pn})=>pn===D));it((0,be.H)(It+yn).pipe((0,Ht.R)(yt)),Yt,ot).pipe((0,Ht.R)(yt)).subscribe(()=>{ir.delete(D),g.run(()=>{Se(),Pe.next(),Pe.complete()})})}),Pe.asObservable()};let mt=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[X.ez]]}),g})(),va=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[X.ez]]}),g})(),Q=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({}),g})(),Yr=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[X.ez]]}),g})(),Ii=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({}),g})();var bn=(()=>{return(g=bn||(bn={}))[g.Tab=9]="Tab",g[g.Enter=13]="Enter",g[g.Escape=27]="Escape",g[g.Space=32]="Space",g[g.PageUp=33]="PageUp",g[g.PageDown=34]="PageDown",g[g.End=35]="End",g[g.Home=36]="Home",g[g.ArrowLeft=37]="ArrowLeft",g[g.ArrowUp=38]="ArrowUp",g[g.ArrowRight=39]="ArrowRight",g[g.ArrowDown=40]="ArrowDown",bn;var g})();const La=(g,D)=>!!D&&D.some(h=>h.contains(g)),ia=(g,D)=>!D||null!=function(g,D){return D&&void 0!==g.closest?g.closest(D):null}(g,D),Il="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Bs(g,D,h,_,O,j,Se,Pe){h&&g.runOutsideAngular((g=>Il?()=>setTimeout(()=>g(),100):g)(()=>{const yt=(0,Be.R)(D,"keydown").pipe((0,Ht.R)(O),(0,Zt.h)(zt=>zt.which===bn.Escape),(0,_r.b)(zt=>zt.preventDefault())),It=(0,Be.R)(D,"mousedown").pipe((0,An.U)(zt=>{const pn=zt.target;return 2!==zt.button&&!La(pn,Se)&&("inside"===h?La(pn,j)&&ia(pn,Pe):"outside"===h?!La(pn,j):ia(pn,Pe)||!La(pn,j))}),(0,Ht.R)(O)),Yt=(0,Be.R)(D,"mouseup").pipe(Mn(It),(0,Zt.h)(([zt,pn])=>pn),function(g,D=Pr.P){const _=function(g){return g instanceof Date&&!isNaN(+g)}(g)?+g-D.now():Math.abs(g);return O=>O.lift(new jr(_,D))}(0),(0,Ht.R)(O));it([yt.pipe((0,An.U)(zt=>0)),Yt.pipe((0,An.U)(zt=>1))]).subscribe(zt=>g.run(()=>_(zt)))}))}const Oo=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ea(g){const D=Array.from(g.querySelectorAll(Oo)).filter(h=>-1!==h.tabIndex);return[D[0],D[D.length-1]]}const si=/\s+/,P=new class{getAllStyles(D){return window.getComputedStyle(D)}getStyle(D,h){return this.getAllStyles(D)[h]}isStaticPositioned(D){return"static"===(this.getStyle(D,"position")||"static")}offsetParent(D){let h=D.offsetParent||document.documentElement;for(;h&&h!==document.documentElement&&this.isStaticPositioned(h);)h=h.offsetParent;return h||document.documentElement}position(D,h=!0){let _,O={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(D,"position"))_=D.getBoundingClientRect(),_={top:_.top,bottom:_.bottom,left:_.left,right:_.right,height:_.height,width:_.width};else{const j=this.offsetParent(D);_=this.offset(D,!1),j!==document.documentElement&&(O=this.offset(j,!1)),O.top+=j.clientTop,O.left+=j.clientLeft}return _.top-=O.top,_.bottom-=O.top,_.left-=O.left,_.right-=O.left,h&&(_.top=Math.round(_.top),_.bottom=Math.round(_.bottom),_.left=Math.round(_.left),_.right=Math.round(_.right)),_}offset(D,h=!0){const _=D.getBoundingClientRect(),O_top=window.pageYOffset-document.documentElement.clientTop,O_left=window.pageXOffset-document.documentElement.clientLeft;let j={height:_.height||D.offsetHeight,width:_.width||D.offsetWidth,top:_.top+O_top,bottom:_.bottom+O_top,left:_.left+O_left,right:_.right+O_left};return h&&(j.height=Math.round(j.height),j.width=Math.round(j.width),j.top=Math.round(j.top),j.bottom=Math.round(j.bottom),j.left=Math.round(j.left),j.right=Math.round(j.right)),j}positionElements(D,h,_,O){const[j="top",Se="center"]=_.split("-"),Pe=O?this.offset(D,!1):this.position(D,!1),ot=this.getAllStyles(h),yt=parseFloat(ot.marginTop),It=parseFloat(ot.marginBottom),Yt=parseFloat(ot.marginLeft),zt=parseFloat(ot.marginRight);let pn=0,Cn=0;switch(j){case"top":pn=Pe.top-(h.offsetHeight+yt+It);break;case"bottom":pn=Pe.top+Pe.height;break;case"left":Cn=Pe.left-(h.offsetWidth+Yt+zt);break;case"right":Cn=Pe.left+Pe.width}switch(Se){case"top":pn=Pe.top;break;case"bottom":pn=Pe.top+Pe.height-h.offsetHeight;break;case"left":Cn=Pe.left;break;case"right":Cn=Pe.left+Pe.width-h.offsetWidth;break;case"center":"top"===j||"bottom"===j?Cn=Pe.left+Pe.width/2-h.offsetWidth/2:pn=Pe.top+Pe.height/2-h.offsetHeight/2}h.style.transform=`translate(${Math.round(Cn)}px, ${Math.round(pn)}px)`;const cr=h.getBoundingClientRect(),Mr=document.documentElement,Hs=window.innerHeight||Mr.clientHeight,_s=window.innerWidth||Mr.clientWidth;return cr.left>=0&&cr.top>=0&&cr.right<=_s&&cr.bottom<=Hs}};new Date(1882,10,12),new Date(2174,10,25);let sl=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[X.ez,Te.u5]]}),g})(),cc=(()=>{class g{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=c.Yz7({factory:function(){return new g},token:g,providedIn:"root"}),g})(),ol=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275dir=c.lG2({type:g,selectors:[["",8,"navbar"]]}),g})(),Cu=(()=>{class g{constructor(h){this.elementRef=h,this._disabled=!1}set disabled(h){this._disabled=""===h||!0===h}get disabled(){return this._disabled}}return g.\u0275fac=function(h){return new(h||g)(c.Y36(c.SBq))},g.\u0275dir=c.lG2({type:g,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(h,_){2&h&&c.ekj("disabled",_.disabled)},inputs:{disabled:"disabled"}}),g})(),al=(()=>{class g{constructor(h,_){this.dropdown=h,this.placement="bottom",this.isOpen=!1,this.nativeElement=_.nativeElement}}return g.\u0275fac=function(h){return new(h||g)(c.Y36((0,c.Gpc)(()=>Ia)),c.Y36(c.SBq))},g.\u0275dir=c.lG2({type:g,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(h,_,O){if(1&h&&c.Suo(O,Cu,4),2&h){let j;c.iGM(j=c.CRH())&&(_.menuItems=j)}},hostVars:5,hostBindings:function(h,_){1&h&&c.NdJ("keydown.ArrowUp",function(j){return _.dropdown.onKeyDown(j)})("keydown.ArrowDown",function(j){return _.dropdown.onKeyDown(j)})("keydown.Home",function(j){return _.dropdown.onKeyDown(j)})("keydown.End",function(j){return _.dropdown.onKeyDown(j)})("keydown.Enter",function(j){return _.dropdown.onKeyDown(j)})("keydown.Space",function(j){return _.dropdown.onKeyDown(j)})("keydown.Tab",function(j){return _.dropdown.onKeyDown(j)})("keydown.Shift.Tab",function(j){return _.dropdown.onKeyDown(j)}),2&h&&(c.uIk("x-placement",_.placement),c.ekj("dropdown-menu",!0)("show",_.dropdown.isOpen()))}}),g})(),Nl=(()=>{class g{constructor(h,_){this.dropdown=h,this.nativeElement=_.nativeElement}}return g.\u0275fac=function(h){return new(h||g)(c.Y36((0,c.Gpc)(()=>Ia)),c.Y36(c.SBq))},g.\u0275dir=c.lG2({type:g,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(h,_){2&h&&c.uIk("aria-expanded",_.dropdown.isOpen())}}),g})(),Ta=(()=>{class g extends Nl{constructor(h,_){super(h,_)}}return g.\u0275fac=function(h){return new(h||g)(c.Y36((0,c.Gpc)(()=>Ia)),c.Y36(c.SBq))},g.\u0275dir=c.lG2({type:g,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(h,_){1&h&&c.NdJ("click",function(){return _.dropdown.toggle()})("keydown.ArrowUp",function(j){return _.dropdown.onKeyDown(j)})("keydown.ArrowDown",function(j){return _.dropdown.onKeyDown(j)})("keydown.Home",function(j){return _.dropdown.onKeyDown(j)})("keydown.End",function(j){return _.dropdown.onKeyDown(j)})("keydown.Tab",function(j){return _.dropdown.onKeyDown(j)})("keydown.Shift.Tab",function(j){return _.dropdown.onKeyDown(j)}),2&h&&c.uIk("aria-expanded",_.dropdown.isOpen())},features:[c._Bn([{provide:Nl,useExisting:(0,c.Gpc)(()=>g)}]),c.qOj]}),g})(),Ia=(()=>{class g{constructor(h,_,O,j,Se,Pe,ot){this._changeDetector=h,this._document=O,this._ngZone=j,this._elementRef=Se,this._renderer=Pe,this._closed$=new ke.xQ,this._bodyContainer=null,this._open=!1,this.openChange=new c.vpe,this.placement=_.placement,this.container=_.container,this.autoClose=_.autoClose,this.display=ot?"static":"dynamic",this._zoneSubscription=j.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe((0,Ut.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(h){if(h.container&&this._open&&this._applyContainer(this.container),h.placement&&!h.placement.isFirstChange&&this._applyPlacementClasses(),h.dropdownClass){const{currentValue:_,previousValue:O}=h.dropdownClass;this._applyCustomDropdownClass(_,O)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){Bs(this._ngZone,this._document,this.autoClose,h=>{this.close(),0===h&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(h){const _=h.which,O=this._getMenuElements();let j=-1,Se=null;const Pe=this._isEventFromToggle(h);if(!Pe&&O.length&&O.forEach((ot,yt)=>{ot.contains(h.target)&&(Se=ot),ot===this._document.activeElement&&(j=yt)}),_!==bn.Space&&_!==bn.Enter){if(_!==bn.Tab){if(Pe||Se){if(this.open(),O.length){switch(_){case bn.ArrowDown:j=Math.min(j+1,O.length-1);break;case bn.ArrowUp:if(this._isDropup()&&-1===j){j=O.length-1;break}j=Math.max(j-1,0);break;case bn.Home:j=0;break;case bn.End:j=O.length-1}O[j].focus()}h.preventDefault()}}else if(h.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===h.target)return void("body"!==this.container||h.shiftKey?h.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const ot=this._menu.nativeElement.querySelectorAll(Oo);h.shiftKey&&h.target===ot[0]?(this._anchor.nativeElement.focus(),h.preventDefault()):!h.shiftKey&&h.target===ot[ot.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,Be.R)(h.target,"focusout").pipe((0,Ut.q)(1)).subscribe(({relatedTarget:ot})=>{this._elementRef.nativeElement.contains(ot)||this.close()})}}else Se&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,Be.R)(Se,"click").pipe((0,Ut.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(h){return this._anchor.nativeElement.contains(h.target)}_getMenuElements(){const h=this._menu;return null==h?[]:h.menuItems.filter(_=>!_.disabled).map(_=>_.elementRef.nativeElement)}_positionMenu(){const h=this._menu;this.isOpen()&&h&&this._applyPlacementClasses("dynamic"===this.display?function(g,D,h,_,O){let j=Array.isArray(h)?h:h.split(si);const Se=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],Pe=D.classList,ot=pn=>{const[Cn,cr]=pn.split("-"),Mr=[];return O&&(Mr.push(`${O}-${Cn}`),cr&&Mr.push(`${O}-${Cn}-${cr}`),Mr.forEach(Hs=>{Pe.add(Hs)})),Mr};O&&Se.forEach(pn=>{Pe.remove(`${O}-${pn}`)});let yt=j.findIndex(pn=>"auto"===pn);yt>=0&&Se.forEach(function(pn){null==j.find(Cn=>-1!==Cn.search("^"+pn))&&j.splice(yt++,1,pn)});const It=D.style;It.position="absolute",It.top="0",It.left="0",It["will-change"]="transform";let Yt=null,zt=!1;for(Yt of j){let pn=ot(Yt);if(P.positionElements(g,D,Yt,_)){zt=!0;break}O&&pn.forEach(Cn=>{Pe.remove(Cn)})}return zt||(Yt=j[0],ot(Yt),P.positionElements(g,D,Yt,_)),Yt}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(h){return Array.isArray(h)?h[0]:h.split(" ")[0]}_resetContainer(){const h=this._renderer;if(this._menu){const O=this._menu.nativeElement;h.appendChild(this._elementRef.nativeElement,O),h.removeStyle(O,"position"),h.removeStyle(O,"transform")}this._bodyContainer&&(h.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(h=null){if(this._resetContainer(),"body"===h){const _=this._renderer,O=this._menu.nativeElement,j=this._bodyContainer=this._bodyContainer||_.createElement("div");_.setStyle(j,"position","absolute"),_.setStyle(O,"position","static"),_.setStyle(j,"z-index","1050"),_.appendChild(j,O),_.appendChild(this._document.body,j)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(h,_){const O="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;O&&(_&&this._renderer.removeClass(O,_),h&&this._renderer.addClass(O,h))}_applyPlacementClasses(h){const _=this._menu;if(_){h||(h=this._getFirstPlacement(this.placement));const O=this._renderer,j=this._elementRef.nativeElement;O.removeClass(j,"dropup"),O.removeClass(j,"dropdown"),_.placement="static"===this.display?null:h;const Se=-1!==h.search("^top")?"dropup":"dropdown";O.addClass(j,Se);const Pe=this._bodyContainer;Pe&&(O.removeClass(Pe,"dropup"),O.removeClass(Pe,"dropdown"),O.addClass(Pe,Se))}}}return g.\u0275fac=function(h){return new(h||g)(c.Y36(c.sBO),c.Y36(cc),c.Y36(X.K0),c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(ol,8))},g.\u0275dir=c.lG2({type:g,selectors:[["","ngbDropdown",""]],contentQueries:function(h,_,O){if(1&h&&(c.Suo(O,al,5),c.Suo(O,Nl,5)),2&h){let j;c.iGM(j=c.CRH())&&(_._menu=j.first),c.iGM(j=c.CRH())&&(_._anchor=j.first)}},hostVars:2,hostBindings:function(h,_){2&h&&c.ekj("show",_.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display",dropdownClass:"dropdownClass"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[c.TTD]}),g})(),Sa=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({}),g})(),Tu=(()=>{class g{constructor(h){this._ngbConfig=h,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(h){this._animation=h}}return g.\u0275fac=function(h){return new(h||g)(c.LFG(L))},g.\u0275prov=c.Yz7({factory:function(){return new g(c.LFG(L))},token:g,providedIn:"root"}),g})();class Na{constructor(D,h,_){this.nodes=D,this.viewRef=h,this.componentRef=_}}const Zs=()=>{};let Ma=(()=>{class g{constructor(h){this._document=h}compensate(){const h=this._getWidth();return this._isPresent(h)?this._adjustBody(h):Zs}_adjustBody(h){const _=this._document.body,O=_.style.paddingRight,j=parseFloat(window.getComputedStyle(_)["padding-right"]);return _.style["padding-right"]=`${j+h}px`,()=>_.style["padding-right"]=O}_isPresent(h){const _=this._document.body.getBoundingClientRect();return window.innerWidth-(_.left+_.right)>=h-.1*h}_getWidth(){const h=this._document.createElement("div");h.className="modal-scrollbar-measure";const _=this._document.body;_.appendChild(h);const O=h.getBoundingClientRect().width-h.clientWidth;return _.removeChild(h),O}}return g.\u0275fac=function(h){return new(h||g)(c.LFG(X.K0))},g.\u0275prov=c.Yz7({factory:function(){return new g(c.LFG(X.K0))},token:g,providedIn:"root"}),g})(),gi=(()=>{class g{constructor(h,_){this._el=h,this._zone=_}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ut.q)(1)).subscribe(()=>{lr(this._zone,this._el.nativeElement,(h,_)=>{_&&Ie(h),h.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return lr(this._zone,this._el.nativeElement,({classList:h})=>h.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return g.\u0275fac=function(h){return new(h||g)(c.Y36(c.SBq),c.Y36(c.R0b))},g.\u0275cmp=c.Xpm({type:g,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(h,_){2&h&&(c.Tol("modal-backdrop"+(_.backdropClass?" "+_.backdropClass:"")),c.ekj("show",!_.animation)("fade",_.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(h,_){},encapsulation:2}),g})();class ul{close(D){}dismiss(D){}}class Iu{constructor(D,h,_,O){this._windowCmptRef=D,this._contentRef=h,this._backdropCmptRef=_,this._beforeDismiss=O,this._closed=new ke.xQ,this._dismissed=new ke.xQ,this._hidden=new ke.xQ,D.instance.dismissEvent.subscribe(j=>{this.dismiss(j)}),this.result=new Promise((j,Se)=>{this._resolve=j,this._reject=Se}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Ht.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Ht.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(D){this._windowCmptRef&&(this._closed.next(D),this._resolve(D),this._removeModalElements())}_dismiss(D){this._dismissed.next(D),this._reject(D),this._removeModalElements()}dismiss(D){if(this._windowCmptRef)if(this._beforeDismiss){const h=this._beforeDismiss();h&&h.then?h.then(_=>{!1!==_&&this._dismiss(D)},()=>{}):!1!==h&&this._dismiss(D)}else this._dismiss(D)}_removeModalElements(){const D=this._windowCmptRef.instance.hide(),h=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Me.of)(void 0);D.subscribe(()=>{const{nativeElement:_}=this._windowCmptRef.location;_.parentNode.removeChild(_),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),h.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:_}=this._backdropCmptRef.location;_.parentNode.removeChild(_),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),pt(D,h).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var lo=(()=>{return(g=lo||(lo={}))[g.BACKDROP_CLICK=0]="BACKDROP_CLICK",g[g.ESC=1]="ESC",lo;var g})();let cl=(()=>{class g{constructor(h,_,O){this._document=h,this._elRef=_,this._zone=O,this._closed$=new ke.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new ke.xQ,this.hidden=new ke.xQ}dismiss(h){this.dismissEvent.emit(h)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ut.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:h}=this._elRef,_={animation:this.animation,runningTransition:"stop"},Se=pt(lr(this._zone,h,()=>h.classList.remove("show"),_),lr(this._zone,this._dialogEl.nativeElement,()=>{},_));return Se.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Se}_show(){const h={animation:this.animation,runningTransition:"continue"};pt(lr(this._zone,this._elRef.nativeElement,(j,Se)=>{Se&&Ie(j),j.classList.add("show")},h),lr(this._zone,this._dialogEl.nativeElement,()=>{},h)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:h}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Be.R)(h,"keydown").pipe((0,Ht.R)(this._closed$),(0,Zt.h)(O=>O.which===bn.Escape)).subscribe(O=>{this.keyboard?requestAnimationFrame(()=>{O.defaultPrevented||this._zone.run(()=>this.dismiss(lo.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let _=!1;(0,Be.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Ht.R)(this._closed$),(0,_r.b)(()=>_=!1),(0,ln.w)(()=>(0,Be.R)(h,"mouseup").pipe((0,Ht.R)(this._closed$),(0,Ut.q)(1))),(0,Zt.h)(({target:O})=>h===O)).subscribe(()=>{_=!0}),(0,Be.R)(h,"click").pipe((0,Ht.R)(this._closed$)).subscribe(({target:O})=>{h===O&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!_&&this._zone.run(()=>this.dismiss(lo.BACKDROP_CLICK))),_=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:h}=this._elRef;if(!h.contains(document.activeElement)){const _=h.querySelector("[ngbAutofocus]"),O=Ea(h)[0];(_||O||h).focus()}}_restoreFocus(){const h=this._document.body,_=this._elWithFocus;let O;O=_&&_.focus&&h.contains(_)?_:h,this._zone.runOutsideAngular(()=>{setTimeout(()=>O.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&lr(this._zone,this._elRef.nativeElement,({classList:h})=>(h.add("modal-static"),()=>h.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return g.\u0275fac=function(h){return new(h||g)(c.Y36(X.K0),c.Y36(c.SBq),c.Y36(c.R0b))},g.\u0275cmp=c.Xpm({type:g,selectors:[["ngb-modal-window"]],viewQuery:function(h,_){if(1&h&&c.Gf(Lr,7),2&h){let O;c.iGM(O=c.CRH())&&(_._dialogEl=O.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(h,_){2&h&&(c.uIk("aria-modal",!0)("aria-labelledby",_.ariaLabelledBy)("aria-describedby",_.ariaDescribedBy),c.Tol("modal d-block"+(_.windowClass?" "+_.windowClass:"")),c.ekj("fade",_.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:kr,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(h,_){1&h&&(c.F$t(),c.TgZ(0,"div",0,1),c.TgZ(2,"div",2),c.Hsn(3),c.qZA(),c.qZA()),2&h&&c.Tol("modal-dialog"+(_.size?" modal-"+_.size:"")+(_.centered?" modal-dialog-centered":"")+(_.scrollable?" modal-dialog-scrollable":"")+(_.modalDialogClass?" "+_.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),g})(),ja=(()=>{class g{constructor(h,_,O,j,Se,Pe){this._applicationRef=h,this._injector=_,this._document=O,this._scrollBar=j,this._rendererFactory=Se,this._ngZone=Pe,this._activeWindowCmptHasChanged=new ke.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ot=this._windowCmpts[this._windowCmpts.length-1];((g,D,h,_=!1)=>{g.runOutsideAngular(()=>{const O=(0,Be.R)(D,"focusin").pipe((0,Ht.R)(h),(0,An.U)(j=>j.target));(0,Be.R)(D,"keydown").pipe((0,Ht.R)(h),(0,Zt.h)(j=>j.which===bn.Tab),Mn(O)).subscribe(([j,Se])=>{const[Pe,ot]=Ea(D);(Se===Pe||Se===D)&&j.shiftKey&&(ot.focus(),j.preventDefault()),Se===ot&&!j.shiftKey&&(Pe.focus(),j.preventDefault())}),_&&(0,Be.R)(D,"click").pipe((0,Ht.R)(h),Mn(O),(0,An.U)(j=>j[1])).subscribe(j=>j.focus())})})(this._ngZone,ot.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ot.location.nativeElement)}})}open(h,_,O,j){const Se=j.container instanceof HTMLElement?j.container:Ti(j.container)?this._document.querySelector(j.container):this._document.body,Pe=this._rendererFactory.createRenderer(null,null),ot=this._scrollBar.compensate(),yt=()=>{this._modalRefs.length||(Pe.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!Se)throw new Error(`The specified modal container "${j.container||"body"}" was not found in the DOM.`);const It=new ul,Yt=this._getContentRef(h,j.injector||_,O,It,j);let zt=!1!==j.backdrop?this._attachBackdrop(h,Se):void 0,pn=this._attachWindowComponent(h,Se,Yt),Cn=new Iu(pn,Yt,zt,j.beforeDismiss);return this._registerModalRef(Cn),this._registerWindowCmpt(pn),Cn.result.then(ot,ot),Cn.result.then(yt,yt),It.close=cr=>{Cn.close(cr)},It.dismiss=cr=>{Cn.dismiss(cr)},this._applyWindowOptions(pn.instance,j),1===this._modalRefs.length&&Pe.addClass(this._document.body,"modal-open"),zt&&zt.instance&&(this._applyBackdropOptions(zt.instance,j),zt.changeDetectorRef.detectChanges()),pn.changeDetectorRef.detectChanges(),Cn}get activeInstances(){return this._activeInstances}dismissAll(h){this._modalRefs.forEach(_=>_.dismiss(h))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(h,_){let j=h.resolveComponentFactory(gi).create(this._injector);return this._applicationRef.attachView(j.hostView),_.appendChild(j.location.nativeElement),j}_attachWindowComponent(h,_,O){let Se=h.resolveComponentFactory(cl).create(this._injector,O.nodes);return this._applicationRef.attachView(Se.hostView),_.appendChild(Se.location.nativeElement),Se}_applyWindowOptions(h,_){this._windowAttributes.forEach(O=>{Ti(_[O])&&(h[O]=_[O])})}_applyBackdropOptions(h,_){this._backdropAttributes.forEach(O=>{Ti(_[O])&&(h[O]=_[O])})}_getContentRef(h,_,O,j,Se){return O?O instanceof c.Rgc?this._createFromTemplateRef(O,j):function(g){return"string"==typeof g}(O)?this._createFromString(O):this._createFromComponent(h,_,O,j,Se):new Na([])}_createFromTemplateRef(h,_){const j=h.createEmbeddedView({$implicit:_,close(Se){_.close(Se)},dismiss(Se){_.dismiss(Se)}});return this._applicationRef.attachView(j),new Na([j.rootNodes],j)}_createFromString(h){const _=this._document.createTextNode(`${h}`);return new Na([[_]])}_createFromComponent(h,_,O,j,Se){const Pe=h.resolveComponentFactory(O),ot=c.zs3.create({providers:[{provide:ul,useValue:j}],parent:_}),yt=Pe.create(ot),It=yt.location.nativeElement;return Se.scrollable&&It.classList.add("component-host-scrollable"),this._applicationRef.attachView(yt.hostView),new Na([[It]],yt.hostView,yt)}_setAriaHidden(h){const _=h.parentElement;_&&h!==this._document.body&&(Array.from(_.children).forEach(O=>{O!==h&&"SCRIPT"!==O.nodeName&&(this._ariaHiddenValues.set(O,O.getAttribute("aria-hidden")),O.setAttribute("aria-hidden","true"))}),this._setAriaHidden(_))}_revertAriaHidden(){this._ariaHiddenValues.forEach((h,_)=>{h?_.setAttribute("aria-hidden",h):_.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(h){const _=()=>{const O=this._modalRefs.indexOf(h);O>-1&&(this._modalRefs.splice(O,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(h),this._activeInstances.emit(this._modalRefs),h.result.then(_,_)}_registerWindowCmpt(h){this._windowCmpts.push(h),this._activeWindowCmptHasChanged.next(),h.onDestroy(()=>{const _=this._windowCmpts.indexOf(h);_>-1&&(this._windowCmpts.splice(_,1),this._activeWindowCmptHasChanged.next())})}}return g.\u0275fac=function(h){return new(h||g)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(X.K0),c.LFG(Ma),c.LFG(c.FYo),c.LFG(c.R0b))},g.\u0275prov=c.Yz7({factory:function(){return new g(c.LFG(c.z2F),c.LFG(c.gxx),c.LFG(X.K0),c.LFG(Ma),c.LFG(c.FYo),c.LFG(c.R0b))},token:g,providedIn:"root"}),g})(),Ks=(()=>{class g{constructor(h,_,O,j){this._moduleCFR=h,this._injector=_,this._modalStack=O,this._config=j}open(h,_={}){const O=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),_);return this._modalStack.open(this._moduleCFR,this._injector,h,O)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(h){this._modalStack.dismissAll(h)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return g.\u0275fac=function(h){return new(h||g)(c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(ja),c.LFG(Tu))},g.\u0275prov=c.Yz7({factory:function(){return new g(c.LFG(c._Vd),c.LFG(c.gxx),c.LFG(ja),c.LFG(Tu))},token:g,providedIn:"root"}),g})(),Su=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({providers:[Ks]}),g})(),Yo=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[X.ez]]}),g})(),oi=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[X.ez]]}),g})(),Pl=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[X.ez]]}),g})(),hi=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[X.ez]]}),g})(),_c=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[X.ez]]}),g})(),fl=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[X.ez]]}),g})(),gl=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[X.ez]]}),g})(),ku=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({}),g})();new c.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let ua=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[[X.ez]]}),g})();const Cc=[mt,va,Q,Yr,Ii,sl,Sa,Su,Yo,oi,Pl,hi,_c,fl,gl,ku,ua];let za=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g}),g.\u0275inj=c.cJS({imports:[Cc,mt,va,Q,Yr,Ii,sl,Sa,Su,Yo,oi,Pl,hi,_c,fl,gl,ku,ua]}),g})();function ca(g,D){if(1&g&&c._UZ(0,"img",12),2&g){const h=c.oxw().ngIf;c.s9C("src",h.photoURL,c.LSH)}}function _i(g,D){if(1&g){const h=c.EpF();c.TgZ(0,"div",5),c.TgZ(1,"button",6),c.YNc(2,ca,1,1,"img",7),c._uU(3),c.qZA(),c.TgZ(4,"div",8),c.TgZ(5,"button",9),c._uU(6,"Nueva Solicitud"),c.qZA(),c.TgZ(7,"button",10),c._uU(8,"Solicitudes"),c.qZA(),c.TgZ(9,"button",10),c._uU(10,"Autorizar"),c.qZA(),c.TgZ(11,"button",10),c._uU(12,"Monitoreo"),c.qZA(),c.TgZ(13,"button",11),c.NdJ("click",function(){return c.CHM(h),c.oxw().logOut()}),c._uU(14,"Salir"),c.qZA(),c.qZA(),c.qZA()}if(2&g){const h=D.ngIf;c.xp6(2),c.Q6J("ngIf",h.photoURL),c.xp6(1),c.hij(" ",h.email," ")}}function rd(g,D){1&g&&(c.TgZ(0,"button",13),c._uU(1,"Ingresar"),c.qZA())}let su=(()=>{class g{constructor(h){this.authService=h,this.userLogged=this.authService.getUserLogged(),this.usuarioLogueado=!1}ngOnInit(){this.usuarioLogueado=this.authService.isLoggedIn(""),this.authService.changeLoginStatus$.subscribe(h=>{this.usuarioLogueado=h})}logOut(){this.authService.logout()}}return g.\u0275fac=function(h){return new(h||g)(c.Y36(Ce.e))},g.\u0275cmp=c.Xpm({type:g,selectors:[["app-navbar"]],decls:7,vars:4,consts:[[1,"navbar","navbar-light","bg-dark",2,"padding","0 1rem","box-shadow","0 0 5px -1px gray"],["href","#",1,"navbar-brand",2,"display","flex","align-items","center"],["src","https://www.bioflex.mx/wp-content/uploads/2020/07/logo_bioflex-01.png","width","120","height","40","alt","",1,"d-inline-block","align-top"],["ngbDropdown","","class","d-inline-block",4,"ngIf","ngIfElse"],["LoginButton",""],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["style","border-radius: 100%;","width","30","height","30","class","d-inline-block align-top","alt","",3,"src",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","","routerLink","/solicitud"],["ngbDropdownItem","","routerLink","/panelDeControl"],["ngbDropdownItem","","routerLink","/login",3,"click"],["width","30","height","30","alt","",1,"d-inline-block","align-top",2,"border-radius","100%",3,"src"],["routerLink","/login",1,"btn","btn-primary"]],template:function(h,_){if(1&h&&(c.TgZ(0,"nav",0),c.TgZ(1,"a",1),c._UZ(2,"img",2),c.qZA(),c.YNc(3,_i,15,2,"div",3),c.ALo(4,"async"),c.YNc(5,rd,2,0,"ng-template",null,4,c.W1O),c.qZA()),2&h){const O=c.MAs(6);c.xp6(3),c.Q6J("ngIf",c.lcZ(4,2,_.userLogged))("ngIfElse",O)}},directives:[ol,X.O5,Ia,Ta,al,Cu,le.rH],pipes:[X.Ov],styles:['@import"https://fonts.googleapis.com/css?family=Exo:400,700";*[_ngcontent-%COMP%]{margin:0;padding:0}body[_ngcontent-%COMP%]{font-family:"Exo",sans-serif}.context[_ngcontent-%COMP%]{width:100%;position:absolute;top:50vh}.context[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:50px}.area[_ngcontent-%COMP%]{background:#4e54c8;background:-webkit-linear-gradient(to left,#8f94fb,#4e54c8);width:100%;height:100vh}.circles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;display:block;list-style:none;width:20px;height:20px;background:rgba(255,255,255,.2);animation:animate 25s linear infinite;bottom:-150px}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){left:25%;width:80px;height:80px;animation-delay:0s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){left:10%;width:20px;height:20px;animation-delay:2s;animation-duration:12s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){left:70%;width:20px;height:20px;animation-delay:4s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){left:40%;width:60px;height:60px;animation-delay:0s;animation-duration:18s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){left:65%;width:20px;height:20px;animation-delay:0s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){left:75%;width:110px;height:110px;animation-delay:3s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7){left:35%;width:150px;height:150px;animation-delay:7s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(8){left:50%;width:25px;height:25px;animation-delay:15s;animation-duration:45s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(9){left:20%;width:15px;height:15px;animation-delay:2s;animation-duration:35s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10){left:85%;width:150px;height:150px;animation-delay:0s;animation-duration:11s}@keyframes animate{0%{transform:translateY(0) rotate(0);opacity:1;border-radius:0}to{transform:translateY(-1000px) rotate(720deg);opacity:0;border-radius:50%}}']}),g})(),ou=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275cmp=c.Xpm({type:g,selectors:[["app-root"]],decls:2,vars:0,template:function(h,_){1&h&&(c._UZ(0,"app-navbar"),c._UZ(1,"router-outlet"))},directives:[su,le.lC],styles:[""]}),g})();var au=W(8939),Fu=W(3820),id=W(4612);const sd_firebaseConfig={apiKey:"AIzaSyBhcaPMkO8D5aipD_g3fpW9E9OcuHQLccI",authDomain:"salidaactivos.firebaseapp.com",projectId:"salidaactivos",storageBucket:"salidaactivos.appspot.com",messagingSenderId:"598257518865",appId:"1:598257518865:web:431ca0dfe7304fbef024b0",measurementId:"G-7RESF6C152"};var Fl=W(6237);let uo=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=c.oAB({type:g,bootstrap:[ou]}),g.\u0275inj=c.cJS({providers:[],imports:[[I.b2,re,za,Te.u5,au.hO.initializeApp(sd_firebaseConfig),Fu.ww,id.yb,Fl.PW]]}),g})();(0,c.G48)(),I.q6().bootstrapModule(uo).catch(g=>console.error(g))},4762:(Tt,He,W)=>{"use strict";W.d(He,{ZT:()=>c,pi:()=>le,_T:()=>Ce,mG:()=>he,Jh:()=>se,XA:()=>ie,CR:()=>ye,ev:()=>Be});var I=function(Ze,Oe){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,Ke){Je.__proto__=Ke}||function(Je,Ke){for(var Xe in Ke)Object.prototype.hasOwnProperty.call(Ke,Xe)&&(Je[Xe]=Ke[Xe])})(Ze,Oe)};function c(Ze,Oe){if("function"!=typeof Oe&&null!==Oe)throw new TypeError("Class extends value "+String(Oe)+" is not a constructor or null");function Je(){this.constructor=Ze}I(Ze,Oe),Ze.prototype=null===Oe?Object.create(Oe):(Je.prototype=Oe.prototype,new Je)}var le=function(){return(le=Object.assign||function(Oe){for(var Je,Ke=1,Xe=arguments.length;Ke<Xe;Ke++)for(var je in Je=arguments[Ke])Object.prototype.hasOwnProperty.call(Je,je)&&(Oe[je]=Je[je]);return Oe}).apply(this,arguments)};function Ce(Ze,Oe){var Je={};for(var Ke in Ze)Object.prototype.hasOwnProperty.call(Ze,Ke)&&Oe.indexOf(Ke)<0&&(Je[Ke]=Ze[Ke]);if(null!=Ze&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(Ke=Object.getOwnPropertySymbols(Ze);Xe<Ke.length;Xe++)Oe.indexOf(Ke[Xe])<0&&Object.prototype.propertyIsEnumerable.call(Ze,Ke[Xe])&&(Je[Ke[Xe]]=Ze[Ke[Xe]])}return Je}function he(Ze,Oe,Je,Ke){return new(Je||(Je=Promise))(function(je,pt){function bt(Nt){try{Vt(Ke.next(Nt))}catch(Lt){pt(Lt)}}function Ft(Nt){try{Vt(Ke.throw(Nt))}catch(Lt){pt(Lt)}}function Vt(Nt){Nt.done?je(Nt.value):function(je){return je instanceof Je?je:new Je(function(pt){pt(je)})}(Nt.value).then(bt,Ft)}Vt((Ke=Ke.apply(Ze,Oe||[])).next())})}function se(Ze,Oe){var Ke,Xe,je,pt,Je={label:0,sent:function(){if(1&je[0])throw je[1];return je[1]},trys:[],ops:[]};return pt={next:bt(0),throw:bt(1),return:bt(2)},"function"==typeof Symbol&&(pt[Symbol.iterator]=function(){return this}),pt;function bt(Vt){return function(Nt){return function(Vt){if(Ke)throw new TypeError("Generator is already executing.");for(;Je;)try{if(Ke=1,Xe&&(je=2&Vt[0]?Xe.return:Vt[0]?Xe.throw||((je=Xe.return)&&je.call(Xe),0):Xe.next)&&!(je=je.call(Xe,Vt[1])).done)return je;switch(Xe=0,je&&(Vt=[2&Vt[0],je.value]),Vt[0]){case 0:case 1:je=Vt;break;case 4:return Je.label++,{value:Vt[1],done:!1};case 5:Je.label++,Xe=Vt[1],Vt=[0];continue;case 7:Vt=Je.ops.pop(),Je.trys.pop();continue;default:if(!(je=(je=Je.trys).length>0&&je[je.length-1])&&(6===Vt[0]||2===Vt[0])){Je=0;continue}if(3===Vt[0]&&(!je||Vt[1]>je[0]&&Vt[1]<je[3])){Je.label=Vt[1];break}if(6===Vt[0]&&Je.label<je[1]){Je.label=je[1],je=Vt;break}if(je&&Je.label<je[2]){Je.label=je[2],Je.ops.push(Vt);break}je[2]&&Je.ops.pop(),Je.trys.pop();continue}Vt=Oe.call(Ze,Je)}catch(Nt){Vt=[6,Nt],Xe=0}finally{Ke=je=0}if(5&Vt[0])throw Vt[1];return{value:Vt[0]?Vt[1]:void 0,done:!0}}([Vt,Nt])}}}function ie(Ze){var Oe="function"==typeof Symbol&&Symbol.iterator,Je=Oe&&Ze[Oe],Ke=0;if(Je)return Je.call(Ze);if(Ze&&"number"==typeof Ze.length)return{next:function(){return Ze&&Ke>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[Ke++],done:!Ze}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye(Ze,Oe){var Je="function"==typeof Symbol&&Ze[Symbol.iterator];if(!Je)return Ze;var Xe,pt,Ke=Je.call(Ze),je=[];try{for(;(void 0===Oe||Oe-- >0)&&!(Xe=Ke.next()).done;)je.push(Xe.value)}catch(bt){pt={error:bt}}finally{try{Xe&&!Xe.done&&(Je=Ke.return)&&Je.call(Ke)}finally{if(pt)throw pt.error}}return je}function Be(Ze,Oe,Je){if(Je||2===arguments.length)for(var je,Ke=0,Xe=Oe.length;Ke<Xe;Ke++)(je||!(Ke in Oe))&&(je||(je=Array.prototype.slice.call(Oe,0,Ke)),je[Ke]=Oe[Ke]);return Ze.concat(je||Array.prototype.slice.call(Oe))}},8239:(Tt,He,W)=>{"use strict";function I(le,Ce,Te,ue,ge,he,se){try{var re=le[he](se),X=re.value}catch(ie){return void Te(ie)}re.done?Ce(X):Promise.resolve(X).then(ue,ge)}function c(le){return function(){var Ce=this,Te=arguments;return new Promise(function(ue,ge){var he=le.apply(Ce,Te);function se(X){I(he,ue,ge,se,re,"next",X)}function re(X){I(he,ue,ge,se,re,"throw",X)}se(void 0)})}}W.d(He,{Z:()=>c})}},Tt=>{Tt(Tt.s=6307)}]);